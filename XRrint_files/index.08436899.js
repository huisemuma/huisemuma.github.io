var m7=Object.defineProperty,g7=Object.defineProperties;var v7=Object.getOwnPropertyDescriptors;var CA=Object.getOwnPropertySymbols;var y7=Object.prototype.hasOwnProperty,x7=Object.prototype.propertyIsEnumerable;var MA=(n,e,t)=>e in n?m7(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Be=(n,e)=>{for(var t in e||(e={}))y7.call(e,t)&&MA(n,t,e[t]);if(CA)for(var t of CA(e))x7.call(e,t)&&MA(n,t,e[t]);return n},lt=(n,e)=>g7(n,v7(e));const _7=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}};_7();var fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n4={exports:{}},r4={},A={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=Symbol.for("react.element"),b7=Symbol.for("react.portal"),w7=Symbol.for("react.fragment"),S7=Symbol.for("react.strict_mode"),C7=Symbol.for("react.profiler"),M7=Symbol.for("react.provider"),E7=Symbol.for("react.context"),T7=Symbol.for("react.forward_ref"),O7=Symbol.for("react.suspense"),P7=Symbol.for("react.memo"),A7=Symbol.for("react.lazy"),EA=Symbol.iterator;function R7(n){return n===null||typeof n!="object"?null:(n=EA&&n[EA]||n["@@iterator"],typeof n=="function"?n:null)}var i4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o4=Object.assign,a4={};function Cd(n,e,t){this.props=n,this.context=e,this.refs=a4,this.updater=t||i4}Cd.prototype.isReactComponent={};Cd.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Cd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function s4(){}s4.prototype=Cd.prototype;function yM(n,e,t){this.props=n,this.context=e,this.refs=a4,this.updater=t||i4}var xM=yM.prototype=new s4;xM.constructor=yM;o4(xM,Cd.prototype);xM.isPureReactComponent=!0;var TA=Array.isArray,l4=Object.prototype.hasOwnProperty,_M={current:null},u4={key:!0,ref:!0,__self:!0,__source:!0};function c4(n,e,t){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)l4.call(e,r)&&!u4.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=t;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in s=n.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Rm,type:n,key:o,ref:a,props:i,_owner:_M.current}}function I7(n,e){return{$$typeof:Rm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function bM(n){return typeof n=="object"&&n!==null&&n.$$typeof===Rm}function N7(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var OA=/\/+/g;function Bb(n,e){return typeof n=="object"&&n!==null&&n.key!=null?N7(""+n.key):e.toString(36)}function ey(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Rm:case b7:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+Bb(a,0):r,TA(i)?(t="",n!=null&&(t=n.replace(OA,"$&/")+"/"),ey(i,e,t,"",function(u){return u})):i!=null&&(bM(i)&&(i=I7(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(OA,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",TA(n))for(var s=0;s<n.length;s++){o=n[s];var l=r+Bb(o,s);a+=ey(o,e,t,l,i)}else if(l=R7(n),typeof l=="function")for(n=l.call(n),s=0;!(o=n.next()).done;)o=o.value,l=r+Bb(o,s++),a+=ey(o,e,t,l,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function kg(n,e,t){if(n==null)return n;var r=[],i=0;return ey(n,r,"","",function(o){return e.call(t,o,i++)}),r}function L7(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var xi={current:null},ty={transition:null},D7={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:ty,ReactCurrentOwner:_M};en.Children={map:kg,forEach:function(n,e,t){kg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return kg(n,function(){e++}),e},toArray:function(n){return kg(n,function(e){return e})||[]},only:function(n){if(!bM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};en.Component=Cd;en.Fragment=w7;en.Profiler=C7;en.PureComponent=yM;en.StrictMode=S7;en.Suspense=O7;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D7;en.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=o4({},n.props),i=n.key,o=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=_M.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(l in e)l4.call(e,l)&&!u4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Rm,type:n.type,key:i,ref:o,props:r,_owner:a}};en.createContext=function(n){return n={$$typeof:E7,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:M7,_context:n},n.Consumer=n};en.createElement=c4;en.createFactory=function(n){var e=c4.bind(null,n);return e.type=n,e};en.createRef=function(){return{current:null}};en.forwardRef=function(n){return{$$typeof:T7,render:n}};en.isValidElement=bM;en.lazy=function(n){return{$$typeof:A7,_payload:{_status:-1,_result:n},_init:L7}};en.memo=function(n,e){return{$$typeof:P7,type:n,compare:e===void 0?null:e}};en.startTransition=function(n){var e=ty.transition;ty.transition={};try{n()}finally{ty.transition=e}};en.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};en.useCallback=function(n,e){return xi.current.useCallback(n,e)};en.useContext=function(n){return xi.current.useContext(n)};en.useDebugValue=function(){};en.useDeferredValue=function(n){return xi.current.useDeferredValue(n)};en.useEffect=function(n,e){return xi.current.useEffect(n,e)};en.useId=function(){return xi.current.useId()};en.useImperativeHandle=function(n,e,t){return xi.current.useImperativeHandle(n,e,t)};en.useInsertionEffect=function(n,e){return xi.current.useInsertionEffect(n,e)};en.useLayoutEffect=function(n,e){return xi.current.useLayoutEffect(n,e)};en.useMemo=function(n,e){return xi.current.useMemo(n,e)};en.useReducer=function(n,e,t){return xi.current.useReducer(n,e,t)};en.useRef=function(n){return xi.current.useRef(n)};en.useState=function(n){return xi.current.useState(n)};en.useSyncExternalStore=function(n,e,t){return xi.current.useSyncExternalStore(n,e,t)};en.useTransition=function(){return xi.current.useTransition()};en.version="18.1.0";A.exports=en;var Ce=A.exports;/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=A.exports;function k7(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var F7=typeof Object.is=="function"?Object.is:k7,z7=Qf.useState,B7=Qf.useEffect,U7=Qf.useLayoutEffect,H7=Qf.useDebugValue;function V7(n,e){var t=e(),r=z7({inst:{value:t,getSnapshot:e}}),i=r[0].inst,o=r[1];return U7(function(){i.value=t,i.getSnapshot=e,Ub(i)&&o({inst:i})},[n,t,e]),B7(function(){return Ub(i)&&o({inst:i}),n(function(){Ub(i)&&o({inst:i})})},[n]),H7(t),t}function Ub(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!F7(n,t)}catch{return!0}}function G7(n,e){return e()}var W7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G7:V7;r4.useSyncExternalStore=Qf.useSyncExternalStore!==void 0?Qf.useSyncExternalStore:W7;n4.exports=r4;var f4={exports:{}},d4={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=A.exports,$7=n4.exports;function j7(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var K7=typeof Object.is=="function"?Object.is:j7,X7=$7.useSyncExternalStore,Y7=q0.useRef,q7=q0.useEffect,Z7=q0.useMemo,J7=q0.useDebugValue;d4.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var o=Y7(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Z7(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return d=g}return d=m}if(g=d,K7(c,m))return g;var v=r(m);return i!==void 0&&i(g,v)?g:(c=m,d=v)}var u=!1,c,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,r,i]);var s=X7(n,o[0],o[1]);return q7(function(){a.hasValue=!0,a.value=s},[s]),J7(s),s};f4.exports=d4;var Rr={exports:{}},lo={},h4={exports:{}},p4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,W){var ee=N.length;N.push(W);e:for(;0<ee;){var j=ee-1>>>1,G=N[j];if(0<i(G,W))N[j]=W,N[ee]=G,ee=j;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],ee=N.pop();if(ee!==W){N[0]=ee;e:for(var j=0,G=N.length,ne=G>>>1;j<ne;){var ye=2*(j+1)-1,xe=N[ye],oe=ye+1,de=N[oe];if(0>i(xe,ee))oe<G&&0>i(de,xe)?(N[j]=de,N[oe]=ee,j=oe):(N[j]=xe,N[ye]=ee,j=ye);else if(oe<G&&0>i(de,ee))N[j]=de,N[oe]=ee,j=oe;else break e}}return W}function i(N,W){var ee=N.sortIndex-W.sortIndex;return ee!==0?ee:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var W=t(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=N)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function S(N){if(v=!1,b(N),!g)if(t(l)!==null)g=!0,$(C);else{var W=t(u);W!==null&&V(S,W.startTime-N)}}function C(N,W){g=!1,v&&(v=!1,x(P),P=-1),m=!0;var ee=h;try{for(b(W),d=t(l);d!==null&&(!(d.expirationTime>W)||N&&!O());){var j=d.callback;if(typeof j=="function"){d.callback=null,h=d.priorityLevel;var G=j(d.expirationTime<=W);W=n.unstable_now(),typeof G=="function"?d.callback=G:d===t(l)&&r(l),b(W)}else r(l);d=t(l)}if(d!==null)var ne=!0;else{var ye=t(u);ye!==null&&V(S,ye.startTime-W),ne=!1}return ne}finally{d=null,h=ee,m=!1}}var E=!1,T=null,P=-1,L=5,I=-1;function O(){return!(n.unstable_now()-I<L)}function F(){if(T!==null){var N=n.unstable_now();I=N;var W=!0;try{W=T(!0,N)}finally{W?U():(E=!1,T=null)}}else E=!1}var U;if(typeof _=="function")U=function(){_(F)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,H=k.port2;k.port1.onmessage=F,U=function(){H.postMessage(null)}}else U=function(){y(F,0)};function $(N){T=N,E||(E=!0,U())}function V(N,W){P=y(function(){N(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,$(C))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var ee=h;h=W;try{return N()}finally{h=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ee=h;h=N;try{return W()}finally{h=ee}},n.unstable_scheduleCallback=function(N,W,ee){var j=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?j+ee:j):ee=j,N){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ee+G,N={id:c++,callback:W,priorityLevel:N,startTime:ee,expirationTime:G,sortIndex:-1},ee>j?(N.sortIndex=ee,e(u,N),t(l)===null&&N===t(u)&&(v?(x(P),P=-1):v=!0,V(S,ee-j))):(N.sortIndex=G,e(l,N),g||m||(g=!0,$(C))),N},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(N){var W=h;return function(){var ee=h;h=W;try{return N.apply(this,arguments)}finally{h=ee}}}})(p4);h4.exports=p4;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m4=A.exports,oo=h4.exports;function ut(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g4=new Set,Rp={};function uc(n,e){ed(n,e),ed(n+"Capture",e)}function ed(n,e){for(Rp[n]=e,n=0;n<e.length;n++)g4.add(e[n])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K1=Object.prototype.hasOwnProperty,Q7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PA={},AA={};function e9(n){return K1.call(AA,n)?!0:K1.call(PA,n)?!1:Q7.test(n)?AA[n]=!0:(PA[n]=!0,!1)}function t9(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function n9(n,e,t,r){if(e===null||typeof e>"u"||t9(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _i(n,e,t,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Wr[n]=new _i(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Wr[e]=new _i(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Wr[n]=new _i(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Wr[n]=new _i(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Wr[n]=new _i(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Wr[n]=new _i(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Wr[n]=new _i(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Wr[n]=new _i(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Wr[n]=new _i(n,5,!1,n.toLowerCase(),null,!1,!1)});var wM=/[\-:]([a-z])/g;function SM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(wM,SM);Wr[e]=new _i(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(wM,SM);Wr[e]=new _i(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(wM,SM);Wr[e]=new _i(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Wr[n]=new _i(n,1,!1,n.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new _i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Wr[n]=new _i(n,1,!1,n.toLowerCase(),null,!0,!0)});function CM(n,e,t,r){var i=Wr.hasOwnProperty(e)?Wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n9(e,t,i,r)&&(t=null),r||i===null?e9(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ks=m4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fg=Symbol.for("react.element"),df=Symbol.for("react.portal"),hf=Symbol.for("react.fragment"),MM=Symbol.for("react.strict_mode"),X1=Symbol.for("react.profiler"),v4=Symbol.for("react.provider"),y4=Symbol.for("react.context"),EM=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),q1=Symbol.for("react.suspense_list"),TM=Symbol.for("react.memo"),ll=Symbol.for("react.lazy"),x4=Symbol.for("react.offscreen"),RA=Symbol.iterator;function _h(n){return n===null||typeof n!="object"?null:(n=RA&&n[RA]||n["@@iterator"],typeof n=="function"?n:null)}var Jn=Object.assign,Hb;function jh(n){if(Hb===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Hb=e&&e[1]||""}return`
`+Hb+n}var Vb=!1;function Gb(n,e){if(!n||Vb)return"";Vb=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=s);break}}}finally{Vb=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?jh(n):""}function r9(n){switch(n.tag){case 5:return jh(n.type);case 16:return jh("Lazy");case 13:return jh("Suspense");case 19:return jh("SuspenseList");case 0:case 2:case 15:return n=Gb(n.type,!1),n;case 11:return n=Gb(n.type.render,!1),n;case 1:return n=Gb(n.type,!0),n;default:return""}}function Z1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case hf:return"Fragment";case df:return"Portal";case X1:return"Profiler";case MM:return"StrictMode";case Y1:return"Suspense";case q1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case y4:return(n.displayName||"Context")+".Consumer";case v4:return(n._context.displayName||"Context")+".Provider";case EM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case TM:return e=n.displayName||null,e!==null?e:Z1(n.type)||"Memo";case ll:e=n._payload,n=n._init;try{return Z1(n(e))}catch{}}return null}function i9(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z1(e);case 8:return e===MM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ll(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _4(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o9(n){var e=_4(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function zg(n){n._valueTracker||(n._valueTracker=o9(n))}function b4(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=_4(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function wy(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function J1(n,e){var t=e.checked;return Jn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function IA(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ll(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function w4(n,e){e=e.checked,e!=null&&CM(n,"checked",e,!1)}function Q1(n,e){w4(n,e);var t=Ll(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?eS(n,e.type,t):e.hasOwnProperty("defaultValue")&&eS(n,e.type,Ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function NA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function eS(n,e,t){(e!=="number"||wy(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Kh=Array.isArray;function Bf(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ll(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function tS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ut(91));return Jn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function LA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ut(92));if(Kh(t)){if(1<t.length)throw Error(ut(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ll(t)}}function S4(n,e){var t=Ll(e.value),r=Ll(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function DA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function C4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?C4(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Bg,M4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Bg=Bg||document.createElement("div"),Bg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ip(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ip={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a9=["Webkit","ms","Moz","O"];Object.keys(ip).forEach(function(n){a9.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ip[e]=ip[n]})});function E4(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ip.hasOwnProperty(n)&&ip[n]?(""+e).trim():e+"px"}function T4(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=E4(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var s9=Jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rS(n,e){if(e){if(s9[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ut(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ut(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ut(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ut(62))}}function iS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oS=null;function OM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var aS=null,Uf=null,Hf=null;function kA(n){if(n=Lm(n)){if(typeof aS!="function")throw Error(ut(280));var e=n.stateNode;e&&(e=tx(e),aS(n.stateNode,n.type,e))}}function O4(n){Uf?Hf?Hf.push(n):Hf=[n]:Uf=n}function P4(){if(Uf){var n=Uf,e=Hf;if(Hf=Uf=null,kA(n),e)for(n=0;n<e.length;n++)kA(e[n])}}function A4(n,e){return n(e)}function R4(){}var Wb=!1;function I4(n,e,t){if(Wb)return n(e,t);Wb=!0;try{return A4(n,e,t)}finally{Wb=!1,(Uf!==null||Hf!==null)&&(R4(),P4())}}function Np(n,e){var t=n.stateNode;if(t===null)return null;var r=tx(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ut(231,e,typeof t));return t}var sS=!1;if(Ps)try{var bh={};Object.defineProperty(bh,"passive",{get:function(){sS=!0}}),window.addEventListener("test",bh,bh),window.removeEventListener("test",bh,bh)}catch{sS=!1}function l9(n,e,t,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var op=!1,Sy=null,Cy=!1,lS=null,u9={onError:function(n){op=!0,Sy=n}};function c9(n,e,t,r,i,o,a,s,l){op=!1,Sy=null,l9.apply(u9,arguments)}function f9(n,e,t,r,i,o,a,s,l){if(c9.apply(this,arguments),op){if(op){var u=Sy;op=!1,Sy=null}else throw Error(ut(198));Cy||(Cy=!0,lS=u)}}function cc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function N4(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function FA(n){if(cc(n)!==n)throw Error(ut(188))}function d9(n){var e=n.alternate;if(!e){if(e=cc(n),e===null)throw Error(ut(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return FA(i),n;if(o===r)return FA(i),e;o=o.sibling}throw Error(ut(188))}if(t.return!==r.return)t=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===t){a=!0,t=i,r=o;break}if(s===r){a=!0,r=i,t=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===t){a=!0,t=o,r=i;break}if(s===r){a=!0,r=o,t=i;break}s=s.sibling}if(!a)throw Error(ut(189))}}if(t.alternate!==r)throw Error(ut(190))}if(t.tag!==3)throw Error(ut(188));return t.stateNode.current===t?n:e}function L4(n){return n=d9(n),n!==null?D4(n):null}function D4(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=D4(n);if(e!==null)return e;n=n.sibling}return null}var k4=oo.unstable_scheduleCallback,zA=oo.unstable_cancelCallback,h9=oo.unstable_shouldYield,p9=oo.unstable_requestPaint,sr=oo.unstable_now,m9=oo.unstable_getCurrentPriorityLevel,PM=oo.unstable_ImmediatePriority,F4=oo.unstable_UserBlockingPriority,My=oo.unstable_NormalPriority,g9=oo.unstable_LowPriority,z4=oo.unstable_IdlePriority,Z0=null,Pa=null;function v9(n){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(Z0,n,void 0,(n.current.flags&128)===128)}catch{}}var ma=Math.clz32?Math.clz32:_9,y9=Math.log,x9=Math.LN2;function _9(n){return n>>>=0,n===0?32:31-(y9(n)/x9|0)|0}var Ug=64,Hg=4194304;function Xh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ey(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,a=t&268435455;if(a!==0){var s=a&~i;s!==0?r=Xh(s):(o&=a,o!==0&&(r=Xh(o)))}else a=t&~i,a!==0?r=Xh(a):o!==0&&(r=Xh(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ma(e),i=1<<t,r|=n[t],e&=~i;return r}function b9(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w9(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-ma(o),s=1<<a,l=i[a];l===-1?((s&t)===0||(s&r)!==0)&&(i[a]=b9(s,e)):l<=e&&(n.expiredLanes|=s),o&=~s}}function uS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function B4(){var n=Ug;return Ug<<=1,(Ug&4194240)===0&&(Ug=64),n}function $b(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Im(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ma(e),n[e]=t}function S9(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ma(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function AM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ma(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xn=0;function U4(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var H4,RM,V4,G4,W4,cS=!1,Vg=[],Sl=null,Cl=null,Ml=null,Lp=new Map,Dp=new Map,ml=[],C9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BA(n,e){switch(n){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":Lp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dp.delete(e.pointerId)}}function wh(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Lm(e),e!==null&&RM(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function M9(n,e,t,r,i){switch(e){case"focusin":return Sl=wh(Sl,n,e,t,r,i),!0;case"dragenter":return Cl=wh(Cl,n,e,t,r,i),!0;case"mouseover":return Ml=wh(Ml,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Lp.set(o,wh(Lp.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dp.set(o,wh(Dp.get(o)||null,n,e,t,r,i)),!0}return!1}function $4(n){var e=Du(n.target);if(e!==null){var t=cc(e);if(t!==null){if(e=t.tag,e===13){if(e=N4(t),e!==null){n.blockedOn=e,W4(n.priority,function(){V4(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ny(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=fS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);oS=r,t.target.dispatchEvent(r),oS=null}else return e=Lm(t),e!==null&&RM(e),n.blockedOn=t,!1;e.shift()}return!0}function UA(n,e,t){ny(n)&&t.delete(e)}function E9(){cS=!1,Sl!==null&&ny(Sl)&&(Sl=null),Cl!==null&&ny(Cl)&&(Cl=null),Ml!==null&&ny(Ml)&&(Ml=null),Lp.forEach(UA),Dp.forEach(UA)}function Sh(n,e){n.blockedOn===e&&(n.blockedOn=null,cS||(cS=!0,oo.unstable_scheduleCallback(oo.unstable_NormalPriority,E9)))}function kp(n){function e(i){return Sh(i,n)}if(0<Vg.length){Sh(Vg[0],n);for(var t=1;t<Vg.length;t++){var r=Vg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Sl!==null&&Sh(Sl,n),Cl!==null&&Sh(Cl,n),Ml!==null&&Sh(Ml,n),Lp.forEach(e),Dp.forEach(e),t=0;t<ml.length;t++)r=ml[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ml.length&&(t=ml[0],t.blockedOn===null);)$4(t),t.blockedOn===null&&ml.shift()}var Vf=ks.ReactCurrentBatchConfig,Ty=!0;function T9(n,e,t,r){var i=xn,o=Vf.transition;Vf.transition=null;try{xn=1,IM(n,e,t,r)}finally{xn=i,Vf.transition=o}}function O9(n,e,t,r){var i=xn,o=Vf.transition;Vf.transition=null;try{xn=4,IM(n,e,t,r)}finally{xn=i,Vf.transition=o}}function IM(n,e,t,r){if(Ty){var i=fS(n,e,t,r);if(i===null)tw(n,e,r,Oy,t),BA(n,r);else if(M9(i,n,e,t,r))r.stopPropagation();else if(BA(n,r),e&4&&-1<C9.indexOf(n)){for(;i!==null;){var o=Lm(i);if(o!==null&&H4(o),o=fS(n,e,t,r),o===null&&tw(n,e,r,Oy,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else tw(n,e,r,null,t)}}var Oy=null;function fS(n,e,t,r){if(Oy=null,n=OM(r),n=Du(n),n!==null)if(e=cc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=N4(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Oy=n,null}function j4(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m9()){case PM:return 1;case F4:return 4;case My:case g9:return 16;case z4:return 536870912;default:return 16}default:return 16}}var yl=null,NM=null,ry=null;function K4(){if(ry)return ry;var n,e=NM,t=e.length,r,i="value"in yl?yl.value:yl.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[o-r];r++);return ry=i.slice(n,1<r?1-r:void 0)}function iy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Gg(){return!0}function HA(){return!1}function uo(n){function e(t,r,i,o,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(t=n[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gg:HA,this.isPropagationStopped=HA,this}return Jn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gg)},persist:function(){},isPersistent:Gg}),e}var Md={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},LM=uo(Md),Nm=Jn({},Md,{view:0,detail:0}),P9=uo(Nm),jb,Kb,Ch,J0=Jn({},Nm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ch&&(Ch&&n.type==="mousemove"?(jb=n.screenX-Ch.screenX,Kb=n.screenY-Ch.screenY):Kb=jb=0,Ch=n),jb)},movementY:function(n){return"movementY"in n?n.movementY:Kb}}),VA=uo(J0),A9=Jn({},J0,{dataTransfer:0}),R9=uo(A9),I9=Jn({},Nm,{relatedTarget:0}),Xb=uo(I9),N9=Jn({},Md,{animationName:0,elapsedTime:0,pseudoElement:0}),L9=uo(N9),D9=Jn({},Md,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),k9=uo(D9),F9=Jn({},Md,{data:0}),GA=uo(F9),z9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H9(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=U9[n])?!!e[n]:!1}function DM(){return H9}var V9=Jn({},Nm,{key:function(n){if(n.key){var e=z9[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=iy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?B9[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DM,charCode:function(n){return n.type==="keypress"?iy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?iy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),G9=uo(V9),W9=Jn({},J0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WA=uo(W9),$9=Jn({},Nm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DM}),j9=uo($9),K9=Jn({},Md,{propertyName:0,elapsedTime:0,pseudoElement:0}),X9=uo(K9),Y9=Jn({},J0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),q9=uo(Y9),Z9=[9,13,27,32],kM=Ps&&"CompositionEvent"in window,ap=null;Ps&&"documentMode"in document&&(ap=document.documentMode);var J9=Ps&&"TextEvent"in window&&!ap,X4=Ps&&(!kM||ap&&8<ap&&11>=ap),$A=String.fromCharCode(32),jA=!1;function Y4(n,e){switch(n){case"keyup":return Z9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var pf=!1;function Q9(n,e){switch(n){case"compositionend":return q4(e);case"keypress":return e.which!==32?null:(jA=!0,$A);case"textInput":return n=e.data,n===$A&&jA?null:n;default:return null}}function eK(n,e){if(pf)return n==="compositionend"||!kM&&Y4(n,e)?(n=K4(),ry=NM=yl=null,pf=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X4&&e.locale!=="ko"?null:e.data;default:return null}}var tK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!tK[n.type]:e==="textarea"}function Z4(n,e,t,r){O4(r),e=Py(e,"onChange"),0<e.length&&(t=new LM("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var sp=null,Fp=null;function nK(n){lF(n,0)}function Q0(n){var e=vf(n);if(b4(e))return n}function rK(n,e){if(n==="change")return e}var J4=!1;if(Ps){var Yb;if(Ps){var qb="oninput"in document;if(!qb){var XA=document.createElement("div");XA.setAttribute("oninput","return;"),qb=typeof XA.oninput=="function"}Yb=qb}else Yb=!1;J4=Yb&&(!document.documentMode||9<document.documentMode)}function YA(){sp&&(sp.detachEvent("onpropertychange",Q4),Fp=sp=null)}function Q4(n){if(n.propertyName==="value"&&Q0(Fp)){var e=[];Z4(e,Fp,n,OM(n)),I4(nK,e)}}function iK(n,e,t){n==="focusin"?(YA(),sp=e,Fp=t,sp.attachEvent("onpropertychange",Q4)):n==="focusout"&&YA()}function oK(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Q0(Fp)}function aK(n,e){if(n==="click")return Q0(e)}function sK(n,e){if(n==="input"||n==="change")return Q0(e)}function lK(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ga=typeof Object.is=="function"?Object.is:lK;function zp(n,e){if(ga(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!K1.call(e,i)||!ga(n[i],e[i]))return!1}return!0}function qA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ZA(n,e){var t=qA(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=qA(t)}}function eF(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?eF(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function tF(){for(var n=window,e=wy();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=wy(n.document)}return e}function FM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function uK(n){var e=tF(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&eF(t.ownerDocument.documentElement,t)){if(r!==null&&FM(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=ZA(t,o);var a=ZA(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var cK=Ps&&"documentMode"in document&&11>=document.documentMode,mf=null,dS=null,lp=null,hS=!1;function JA(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;hS||mf==null||mf!==wy(r)||(r=mf,"selectionStart"in r&&FM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lp&&zp(lp,r)||(lp=r,r=Py(dS,"onSelect"),0<r.length&&(e=new LM("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=mf)))}function Wg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var gf={animationend:Wg("Animation","AnimationEnd"),animationiteration:Wg("Animation","AnimationIteration"),animationstart:Wg("Animation","AnimationStart"),transitionend:Wg("Transition","TransitionEnd")},Zb={},nF={};Ps&&(nF=document.createElement("div").style,"AnimationEvent"in window||(delete gf.animationend.animation,delete gf.animationiteration.animation,delete gf.animationstart.animation),"TransitionEvent"in window||delete gf.transitionend.transition);function ex(n){if(Zb[n])return Zb[n];if(!gf[n])return n;var e=gf[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in nF)return Zb[n]=e[t];return n}var rF=ex("animationend"),iF=ex("animationiteration"),oF=ex("animationstart"),aF=ex("transitionend"),sF=new Map,QA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(n,e){sF.set(n,e),uc(e,[n])}for(var Jb=0;Jb<QA.length;Jb++){var Qb=QA[Jb],fK=Qb.toLowerCase(),dK=Qb[0].toUpperCase()+Qb.slice(1);jl(fK,"on"+dK)}jl(rF,"onAnimationEnd");jl(iF,"onAnimationIteration");jl(oF,"onAnimationStart");jl("dblclick","onDoubleClick");jl("focusin","onFocus");jl("focusout","onBlur");jl(aF,"onTransitionEnd");ed("onMouseEnter",["mouseout","mouseover"]);ed("onMouseLeave",["mouseout","mouseover"]);ed("onPointerEnter",["pointerout","pointerover"]);ed("onPointerLeave",["pointerout","pointerover"]);uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yh));function eR(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,f9(r,e,void 0,n),n.currentTarget=null}function lF(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;eR(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;eR(i,s,u),o=l}}}if(Cy)throw n=lS,Cy=!1,lS=null,n}function Ln(n,e){var t=e[yS];t===void 0&&(t=e[yS]=new Set);var r=n+"__bubble";t.has(r)||(uF(e,n,2,!1),t.add(r))}function ew(n,e,t){var r=0;e&&(r|=4),uF(t,n,r,e)}var $g="_reactListening"+Math.random().toString(36).slice(2);function Bp(n){if(!n[$g]){n[$g]=!0,g4.forEach(function(t){t!=="selectionchange"&&(hK.has(t)||ew(t,!1,n),ew(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[$g]||(e[$g]=!0,ew("selectionchange",!1,e))}}function uF(n,e,t,r){switch(j4(e)){case 1:var i=T9;break;case 4:i=O9;break;default:i=IM}t=i.bind(null,e,t,n),i=void 0,!sS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function tw(n,e,t,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Du(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}I4(function(){var u=o,c=OM(t),d=[];e:{var h=sF.get(n);if(h!==void 0){var m=LM,g=n;switch(n){case"keypress":if(iy(t)===0)break e;case"keydown":case"keyup":m=G9;break;case"focusin":g="focus",m=Xb;break;case"focusout":g="blur",m=Xb;break;case"beforeblur":case"afterblur":m=Xb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=VA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=R9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=j9;break;case rF:case iF:case oF:m=L9;break;case aF:m=X9;break;case"scroll":m=P9;break;case"wheel":m=q9;break;case"copy":case"cut":case"paste":m=k9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=WA}var v=(e&4)!==0,y=!v&&n==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var _=u,b;_!==null;){b=_;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=Np(_,x),S!=null&&v.push(Up(_,S,b)))),y)break;_=_.return}0<v.length&&(h=new m(h,g,null,t,c),d.push({event:h,listeners:v}))}}if((e&7)===0){e:{if(h=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",h&&t!==oS&&(g=t.relatedTarget||t.fromElement)&&(Du(g)||g[As]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=u,g=g?Du(g):null,g!==null&&(y=cc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=VA,S="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=WA,S="onPointerLeave",x="onPointerEnter",_="pointer"),y=m==null?h:vf(m),b=g==null?h:vf(g),h=new v(S,_+"leave",m,t,c),h.target=y,h.relatedTarget=b,S=null,Du(c)===u&&(v=new v(x,_+"enter",g,t,c),v.target=b,v.relatedTarget=y,S=v),y=S,m&&g)t:{for(v=m,x=g,_=0,b=v;b;b=Nc(b))_++;for(b=0,S=x;S;S=Nc(S))b++;for(;0<_-b;)v=Nc(v),_--;for(;0<b-_;)x=Nc(x),b--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=Nc(v),x=Nc(x)}v=null}else v=null;m!==null&&tR(d,h,m,v,!1),g!==null&&y!==null&&tR(d,y,g,v,!0)}}e:{if(h=u?vf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=rK;else if(KA(h))if(J4)C=sK;else{C=oK;var E=iK}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=aK);if(C&&(C=C(n,u))){Z4(d,C,t,c);break e}E&&E(n,h,u),n==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&eS(h,"number",h.value)}switch(E=u?vf(u):window,n){case"focusin":(KA(E)||E.contentEditable==="true")&&(mf=E,dS=u,lp=null);break;case"focusout":lp=dS=mf=null;break;case"mousedown":hS=!0;break;case"contextmenu":case"mouseup":case"dragend":hS=!1,JA(d,t,c);break;case"selectionchange":if(cK)break;case"keydown":case"keyup":JA(d,t,c)}var T;if(kM)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else pf?Y4(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(X4&&t.locale!=="ko"&&(pf||P!=="onCompositionStart"?P==="onCompositionEnd"&&pf&&(T=K4()):(yl=c,NM="value"in yl?yl.value:yl.textContent,pf=!0)),E=Py(u,P),0<E.length&&(P=new GA(P,n,null,t,c),d.push({event:P,listeners:E}),T?P.data=T:(T=q4(t),T!==null&&(P.data=T)))),(T=J9?Q9(n,t):eK(n,t))&&(u=Py(u,"onBeforeInput"),0<u.length&&(c=new GA("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:u}),c.data=T))}lF(d,e)})}function Up(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Py(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Np(n,t),o!=null&&r.unshift(Up(n,o,i)),o=Np(n,e),o!=null&&r.push(Up(n,o,i))),n=n.return}return r}function Nc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function tR(n,e,t,r,i){for(var o=e._reactName,a=[];t!==null&&t!==r;){var s=t,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Np(t,o),l!=null&&a.unshift(Up(t,l,s))):i||(l=Np(t,o),l!=null&&a.push(Up(t,l,s)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var pK=/\r\n?/g,mK=/\u0000|\uFFFD/g;function nR(n){return(typeof n=="string"?n:""+n).replace(pK,`
`).replace(mK,"")}function jg(n,e,t){if(e=nR(e),nR(n)!==e&&t)throw Error(ut(425))}function Ay(){}var pS=null,mS=null;function gS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vS=typeof setTimeout=="function"?setTimeout:void 0,gK=typeof clearTimeout=="function"?clearTimeout:void 0,rR=typeof Promise=="function"?Promise:void 0,vK=typeof queueMicrotask=="function"?queueMicrotask:typeof rR<"u"?function(n){return rR.resolve(null).then(n).catch(yK)}:vS;function yK(n){setTimeout(function(){throw n})}function nw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),kp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);kp(e)}function ws(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function iR(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ed=Math.random().toString(36).slice(2),Ta="__reactFiber$"+Ed,Hp="__reactProps$"+Ed,As="__reactContainer$"+Ed,yS="__reactEvents$"+Ed,xK="__reactListeners$"+Ed,_K="__reactHandles$"+Ed;function Du(n){var e=n[Ta];if(e)return e;for(var t=n.parentNode;t;){if(e=t[As]||t[Ta]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=iR(n);n!==null;){if(t=n[Ta])return t;n=iR(n)}return e}n=t,t=n.parentNode}return null}function Lm(n){return n=n[Ta]||n[As],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vf(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ut(33))}function tx(n){return n[Hp]||null}var xS=[],yf=-1;function Kl(n){return{current:n}}function Fn(n){0>yf||(n.current=xS[yf],xS[yf]=null,yf--)}function In(n,e){yf++,xS[yf]=n.current,n.current=e}var Dl={},ei=Kl(Dl),Li=Kl(!1),Zu=Dl;function td(n,e){var t=n.type.contextTypes;if(!t)return Dl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Di(n){return n=n.childContextTypes,n!=null}function Ry(){Fn(Li),Fn(ei)}function oR(n,e,t){if(ei.current!==Dl)throw Error(ut(168));In(ei,e),In(Li,t)}function cF(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ut(108,i9(n)||"Unknown",i));return Jn({},t,r)}function Iy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Dl,Zu=ei.current,In(ei,n),In(Li,Li.current),!0}function aR(n,e,t){var r=n.stateNode;if(!r)throw Error(ut(169));t?(n=cF(n,e,Zu),r.__reactInternalMemoizedMergedChildContext=n,Fn(Li),Fn(ei),In(ei,n)):Fn(Li),In(Li,t)}var ys=null,nx=!1,rw=!1;function fF(n){ys===null?ys=[n]:ys.push(n)}function bK(n){nx=!0,fF(n)}function Xl(){if(!rw&&ys!==null){rw=!0;var n=0,e=xn;try{var t=ys;for(xn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ys=null,nx=!1}catch(i){throw ys!==null&&(ys=ys.slice(n+1)),k4(PM,Xl),i}finally{xn=e,rw=!1}}return null}var wK=ks.ReactCurrentBatchConfig;function aa(n,e){if(n&&n.defaultProps){e=Jn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Ny=Kl(null),Ly=null,xf=null,zM=null;function BM(){zM=xf=Ly=null}function UM(n){var e=Ny.current;Fn(Ny),n._currentValue=e}function _S(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Gf(n,e){Ly=n,zM=xf=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(Ri=!0),n.firstContext=null)}function zo(n){var e=n._currentValue;if(zM!==n)if(n={context:n,memoizedValue:e,next:null},xf===null){if(Ly===null)throw Error(ut(308));xf=n,Ly.dependencies={lanes:0,firstContext:n}}else xf=xf.next=n;return e}var pa=null,ul=!1;function HM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dF(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Es(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function El(n,e){var t=n.updateQueue;t!==null&&(t=t.shared,tz(n)?(n=t.interleaved,n===null?(e.next=e,pa===null?pa=[t]:pa.push(t)):(e.next=n.next,n.next=e),t.interleaved=e):(n=t.pending,n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e))}function oy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,AM(n,t)}}function sR(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=a:o=o.next=a,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Dy(n,e,t,r){var i=n.updateQueue;ul=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=n.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=n,v=s;switch(h=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=Jn({},d,h);break e;case 2:ul=!0}}s.callback!==null&&s.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ec|=a,n.lanes=a,n.memoizedState=d}}function lR(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(ut(191,i));i.call(r)}}}var hF=new m4.Component().refs;function bS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Jn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var rx={isMounted:function(n){return(n=n._reactInternals)?cc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=vi(),i=Ol(n),o=Es(r,i);o.payload=e,t!=null&&(o.callback=t),El(n,o),e=Lo(n,i,r),e!==null&&oy(e,n,i)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=vi(),i=Ol(n),o=Es(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),El(n,o),e=Lo(n,i,r),e!==null&&oy(e,n,i)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=vi(),r=Ol(n),i=Es(t,r);i.tag=2,e!=null&&(i.callback=e),El(n,i),e=Lo(n,r,t),e!==null&&oy(e,n,r)}};function uR(n,e,t,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!zp(t,r)||!zp(i,o):!0}function pF(n,e,t){var r=!1,i=Dl,o=e.contextType;return typeof o=="object"&&o!==null?o=zo(o):(i=Di(e)?Zu:ei.current,r=e.contextTypes,o=(r=r!=null)?td(n,i):Dl),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function cR(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&rx.enqueueReplaceState(e,e.state,null)}function wS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=hF,HM(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=zo(o):(o=Di(e)?Zu:ei.current,i.context=td(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bS(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rx.enqueueReplaceState(i,i.state,null),Dy(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}var _f=[],bf=0,ky=null,Fy=0,Oo=[],Po=0,Ju=null,Ss=1,Cs="";function vu(n,e){_f[bf++]=Fy,_f[bf++]=ky,ky=n,Fy=e}function mF(n,e,t){Oo[Po++]=Ss,Oo[Po++]=Cs,Oo[Po++]=Ju,Ju=n;var r=Ss;n=Cs;var i=32-ma(r)-1;r&=~(1<<i),t+=1;var o=32-ma(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ss=1<<32-ma(e)+i|t<<i|r,Cs=o+n}else Ss=1<<o|t<<i|r,Cs=n}function VM(n){n.return!==null&&(vu(n,1),mF(n,1,0))}function GM(n){for(;n===ky;)ky=_f[--bf],_f[bf]=null,Fy=_f[--bf],_f[bf]=null;for(;n===Ju;)Ju=Oo[--Po],Oo[Po]=null,Cs=Oo[--Po],Oo[Po]=null,Ss=Oo[--Po],Oo[Po]=null}var no=null,Pi=null,Wn=!1,ua=null;function gF(n,e){var t=Ro(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function fR(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,no=n,Pi=ws(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,no=n,Pi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ju!==null?{id:Ss,overflow:Cs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ro(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,no=n,Pi=null,!0):!1;default:return!1}}function SS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function CS(n){if(Wn){var e=Pi;if(e){var t=e;if(!fR(n,e)){if(SS(n))throw Error(ut(418));e=ws(t.nextSibling);var r=no;e&&fR(n,e)?gF(r,t):(n.flags=n.flags&-4097|2,Wn=!1,no=n)}}else{if(SS(n))throw Error(ut(418));n.flags=n.flags&-4097|2,Wn=!1,no=n}}}function dR(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;no=n}function Mh(n){if(n!==no)return!1;if(!Wn)return dR(n),Wn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!gS(n.type,n.memoizedProps)),e&&(e=Pi)){if(SS(n)){for(n=Pi;n;)n=ws(n.nextSibling);throw Error(ut(418))}for(;e;)gF(n,e),e=ws(e.nextSibling)}if(dR(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ut(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Pi=ws(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Pi=null}}else Pi=no?ws(n.stateNode.nextSibling):null;return!0}function nd(){Pi=no=null,Wn=!1}function WM(n){ua===null?ua=[n]:ua.push(n)}function Eh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ut(309));var r=t.stateNode}if(!r)throw Error(ut(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===hF&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof n!="string")throw Error(ut(284));if(!t._owner)throw Error(ut(290,n))}return n}function Kg(n,e){throw n=Object.prototype.toString.call(e),Error(ut(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function hR(n){var e=n._init;return e(n._payload)}function vF(n){function e(x,_){if(n){var b=x.deletions;b===null?(x.deletions=[_],x.flags|=16):b.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=kl(x,_),x.index=0,x.sibling=null,x}function o(x,_,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<_?(x.flags|=2,_):b):(x.flags|=2,_)):(x.flags|=1048576,_)}function a(x){return n&&x.alternate===null&&(x.flags|=2),x}function s(x,_,b,S){return _===null||_.tag!==6?(_=uw(b,x.mode,S),_.return=x,_):(_=i(_,b),_.return=x,_)}function l(x,_,b,S){var C=b.type;return C===hf?c(x,_,b.props.children,S,b.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ll&&hR(C)===_.type)?(S=i(_,b.props),S.ref=Eh(x,_,b),S.return=x,S):(S=cy(b.type,b.key,b.props,null,x.mode,S),S.ref=Eh(x,_,b),S.return=x,S)}function u(x,_,b,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=cw(b,x.mode,S),_.return=x,_):(_=i(_,b.children||[]),_.return=x,_)}function c(x,_,b,S,C){return _===null||_.tag!==7?(_=ju(b,x.mode,S,C),_.return=x,_):(_=i(_,b),_.return=x,_)}function d(x,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=uw(""+_,x.mode,b),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fg:return b=cy(_.type,_.key,_.props,null,x.mode,b),b.ref=Eh(x,null,_),b.return=x,b;case df:return _=cw(_,x.mode,b),_.return=x,_;case ll:var S=_._init;return d(x,S(_._payload),b)}if(Kh(_)||_h(_))return _=ju(_,x.mode,b,null),_.return=x,_;Kg(x,_)}return null}function h(x,_,b,S){var C=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:s(x,_,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fg:return b.key===C?l(x,_,b,S):null;case df:return b.key===C?u(x,_,b,S):null;case ll:return C=b._init,h(x,_,C(b._payload),S)}if(Kh(b)||_h(b))return C!==null?null:c(x,_,b,S,null);Kg(x,b)}return null}function m(x,_,b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,s(_,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fg:return x=x.get(S.key===null?b:S.key)||null,l(_,x,S,C);case df:return x=x.get(S.key===null?b:S.key)||null,u(_,x,S,C);case ll:var E=S._init;return m(x,_,b,E(S._payload),C)}if(Kh(S)||_h(S))return x=x.get(b)||null,c(_,x,S,C,null);Kg(_,S)}return null}function g(x,_,b,S){for(var C=null,E=null,T=_,P=_=0,L=null;T!==null&&P<b.length;P++){T.index>P?(L=T,T=null):L=T.sibling;var I=h(x,T,b[P],S);if(I===null){T===null&&(T=L);break}n&&T&&I.alternate===null&&e(x,T),_=o(I,_,P),E===null?C=I:E.sibling=I,E=I,T=L}if(P===b.length)return t(x,T),Wn&&vu(x,P),C;if(T===null){for(;P<b.length;P++)T=d(x,b[P],S),T!==null&&(_=o(T,_,P),E===null?C=T:E.sibling=T,E=T);return Wn&&vu(x,P),C}for(T=r(x,T);P<b.length;P++)L=m(T,x,P,b[P],S),L!==null&&(n&&L.alternate!==null&&T.delete(L.key===null?P:L.key),_=o(L,_,P),E===null?C=L:E.sibling=L,E=L);return n&&T.forEach(function(O){return e(x,O)}),Wn&&vu(x,P),C}function v(x,_,b,S){var C=_h(b);if(typeof C!="function")throw Error(ut(150));if(b=C.call(b),b==null)throw Error(ut(151));for(var E=C=null,T=_,P=_=0,L=null,I=b.next();T!==null&&!I.done;P++,I=b.next()){T.index>P?(L=T,T=null):L=T.sibling;var O=h(x,T,I.value,S);if(O===null){T===null&&(T=L);break}n&&T&&O.alternate===null&&e(x,T),_=o(O,_,P),E===null?C=O:E.sibling=O,E=O,T=L}if(I.done)return t(x,T),Wn&&vu(x,P),C;if(T===null){for(;!I.done;P++,I=b.next())I=d(x,I.value,S),I!==null&&(_=o(I,_,P),E===null?C=I:E.sibling=I,E=I);return Wn&&vu(x,P),C}for(T=r(x,T);!I.done;P++,I=b.next())I=m(T,x,P,I.value,S),I!==null&&(n&&I.alternate!==null&&T.delete(I.key===null?P:I.key),_=o(I,_,P),E===null?C=I:E.sibling=I,E=I);return n&&T.forEach(function(F){return e(x,F)}),Wn&&vu(x,P),C}function y(x,_,b,S){if(typeof b=="object"&&b!==null&&b.type===hf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fg:e:{for(var C=b.key,E=_;E!==null;){if(E.key===C){if(C=b.type,C===hf){if(E.tag===7){t(x,E.sibling),_=i(E,b.props.children),_.return=x,x=_;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ll&&hR(C)===E.type){t(x,E.sibling),_=i(E,b.props),_.ref=Eh(x,E,b),_.return=x,x=_;break e}t(x,E);break}else e(x,E);E=E.sibling}b.type===hf?(_=ju(b.props.children,x.mode,S,b.key),_.return=x,x=_):(S=cy(b.type,b.key,b.props,null,x.mode,S),S.ref=Eh(x,_,b),S.return=x,x=S)}return a(x);case df:e:{for(E=b.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){t(x,_.sibling),_=i(_,b.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=cw(b,x.mode,S),_.return=x,x=_}return a(x);case ll:return E=b._init,y(x,_,E(b._payload),S)}if(Kh(b))return g(x,_,b,S);if(_h(b))return v(x,_,b,S);Kg(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(t(x,_.sibling),_=i(_,b),_.return=x,x=_):(t(x,_),_=uw(b,x.mode,S),_.return=x,x=_),a(x)):t(x,_)}return y}var rd=vF(!0),yF=vF(!1),Dm={},Aa=Kl(Dm),Vp=Kl(Dm),Gp=Kl(Dm);function ku(n){if(n===Dm)throw Error(ut(174));return n}function $M(n,e){switch(In(Gp,e),In(Vp,n),In(Aa,Dm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=nS(e,n)}Fn(Aa),In(Aa,e)}function id(){Fn(Aa),Fn(Vp),Fn(Gp)}function xF(n){ku(Gp.current);var e=ku(Aa.current),t=nS(e,n.type);e!==t&&(In(Vp,n),In(Aa,t))}function jM(n){Vp.current===n&&(Fn(Aa),Fn(Vp))}var Xn=Kl(0);function zy(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iw=[];function KM(){for(var n=0;n<iw.length;n++)iw[n]._workInProgressVersionPrimary=null;iw.length=0}var ay=ks.ReactCurrentDispatcher,ow=ks.ReactCurrentBatchConfig,Qu=0,qn=null,wr=null,Ar=null,By=!1,up=!1,Wp=0,SK=0;function Xr(){throw Error(ut(321))}function XM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ga(n[t],e[t]))return!1;return!0}function YM(n,e,t,r,i,o){if(Qu=o,qn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ay.current=n===null||n.memoizedState===null?TK:OK,n=t(r,i),up){o=0;do{if(up=!1,Wp=0,25<=o)throw Error(ut(301));o+=1,Ar=wr=null,e.updateQueue=null,ay.current=PK,n=t(r,i)}while(up)}if(ay.current=Uy,e=wr!==null&&wr.next!==null,Qu=0,Ar=wr=qn=null,By=!1,e)throw Error(ut(300));return n}function qM(){var n=Wp!==0;return Wp=0,n}function Ma(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?qn.memoizedState=Ar=n:Ar=Ar.next=n,Ar}function Bo(){if(wr===null){var n=qn.alternate;n=n!==null?n.memoizedState:null}else n=wr.next;var e=Ar===null?qn.memoizedState:Ar.next;if(e!==null)Ar=e,wr=n;else{if(n===null)throw Error(ut(310));wr=n,n={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Ar===null?qn.memoizedState=Ar=n:Ar=Ar.next=n}return Ar}function $p(n,e){return typeof e=="function"?e(n):e}function aw(n){var e=Bo(),t=e.queue;if(t===null)throw Error(ut(311));t.lastRenderedReducer=n;var r=wr,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Qu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,qn.lanes|=c,ec|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ga(r,e.memoizedState)||(Ri=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,qn.lanes|=o,ec|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function sw(n){var e=Bo(),t=e.queue;if(t===null)throw Error(ut(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);ga(o,e.memoizedState)||(Ri=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function _F(){}function bF(n,e){var t=qn,r=Bo(),i=e(),o=!ga(r.memoizedState,i);if(o&&(r.memoizedState=i,Ri=!0),r=r.queue,ZM(CF.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||Ar!==null&&Ar.memoizedState.tag&1){if(t.flags|=2048,jp(9,SF.bind(null,t,r,i,e),void 0,null),Mr===null)throw Error(ut(349));(Qu&30)!==0||wF(t,e,i)}return i}function wF(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=qn.updateQueue,e===null?(e={lastEffect:null,stores:null},qn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function SF(n,e,t,r){e.value=t,e.getSnapshot=r,MF(e)&&Lo(n,1,-1)}function CF(n,e,t){return t(function(){MF(e)&&Lo(n,1,-1)})}function MF(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ga(n,t)}catch{return!0}}function pR(n){var e=Ma();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:n},e.queue=n,n=n.dispatch=EK.bind(null,qn,n),[e.memoizedState,n]}function jp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=qn.updateQueue,e===null?(e={lastEffect:null,stores:null},qn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function EF(){return Bo().memoizedState}function sy(n,e,t,r){var i=Ma();qn.flags|=n,i.memoizedState=jp(1|e,t,void 0,r===void 0?null:r)}function ix(n,e,t,r){var i=Bo();r=r===void 0?null:r;var o=void 0;if(wr!==null){var a=wr.memoizedState;if(o=a.destroy,r!==null&&XM(r,a.deps)){i.memoizedState=jp(e,t,o,r);return}}qn.flags|=n,i.memoizedState=jp(1|e,t,o,r)}function mR(n,e){return sy(8390656,8,n,e)}function ZM(n,e){return ix(2048,8,n,e)}function TF(n,e){return ix(4,2,n,e)}function OF(n,e){return ix(4,4,n,e)}function PF(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function AF(n,e,t){return t=t!=null?t.concat([n]):null,ix(4,4,PF.bind(null,e,n),t)}function JM(){}function RF(n,e){var t=Bo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&XM(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function IF(n,e){var t=Bo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&XM(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function NF(n,e,t){return(Qu&21)===0?(n.baseState&&(n.baseState=!1,Ri=!0),n.memoizedState=t):(ga(t,e)||(t=B4(),qn.lanes|=t,ec|=t,n.baseState=!0),e)}function CK(n,e){var t=xn;xn=t!==0&&4>t?t:4,n(!0);var r=ow.transition;ow.transition={};try{n(!1),e()}finally{xn=t,ow.transition=r}}function LF(){return Bo().memoizedState}function MK(n,e,t){var r=Ol(n);t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},DF(n)?kF(e,t):(FF(n,e,t),t=vi(),n=Lo(n,r,t),n!==null&&zF(n,e,r))}function EK(n,e,t){var r=Ol(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(DF(n))kF(e,i);else{FF(n,e,i);var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,t);if(i.hasEagerState=!0,i.eagerState=s,ga(s,a))return}catch{}finally{}t=vi(),n=Lo(n,r,t),n!==null&&zF(n,e,r)}}function DF(n){var e=n.alternate;return n===qn||e!==null&&e===qn}function kF(n,e){up=By=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function FF(n,e,t){tz(n)?(n=e.interleaved,n===null?(t.next=t,pa===null?pa=[e]:pa.push(e)):(t.next=n.next,n.next=t),e.interleaved=t):(n=e.pending,n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t)}function zF(n,e,t){if((t&4194240)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,AM(n,t)}}var Uy={readContext:zo,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},TK={readContext:zo,useCallback:function(n,e){return Ma().memoizedState=[n,e===void 0?null:e],n},useContext:zo,useEffect:mR,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,sy(4194308,4,PF.bind(null,e,n),t)},useLayoutEffect:function(n,e){return sy(4194308,4,n,e)},useInsertionEffect:function(n,e){return sy(4,2,n,e)},useMemo:function(n,e){var t=Ma();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ma();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=MK.bind(null,qn,n),[r.memoizedState,n]},useRef:function(n){var e=Ma();return n={current:n},e.memoizedState=n},useState:pR,useDebugValue:JM,useDeferredValue:function(n){return Ma().memoizedState=n},useTransition:function(){var n=pR(!1),e=n[0];return n=CK.bind(null,n[1]),Ma().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=qn,i=Ma();if(Wn){if(t===void 0)throw Error(ut(407));t=t()}else{if(t=e(),Mr===null)throw Error(ut(349));(Qu&30)!==0||wF(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,mR(CF.bind(null,r,o,n),[n]),r.flags|=2048,jp(9,SF.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=Ma(),e=Mr.identifierPrefix;if(Wn){var t=Cs,r=Ss;t=(r&~(1<<32-ma(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Wp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=SK++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},OK={readContext:zo,useCallback:RF,useContext:zo,useEffect:ZM,useImperativeHandle:AF,useInsertionEffect:TF,useLayoutEffect:OF,useMemo:IF,useReducer:aw,useRef:EF,useState:function(){return aw($p)},useDebugValue:JM,useDeferredValue:function(n){var e=Bo();return NF(e,wr.memoizedState,n)},useTransition:function(){var n=aw($p)[0],e=Bo().memoizedState;return[n,e]},useMutableSource:_F,useSyncExternalStore:bF,useId:LF,unstable_isNewReconciler:!1},PK={readContext:zo,useCallback:RF,useContext:zo,useEffect:ZM,useImperativeHandle:AF,useInsertionEffect:TF,useLayoutEffect:OF,useMemo:IF,useReducer:sw,useRef:EF,useState:function(){return sw($p)},useDebugValue:JM,useDeferredValue:function(n){var e=Bo();return wr===null?e.memoizedState=n:NF(e,wr.memoizedState,n)},useTransition:function(){var n=sw($p)[0],e=Bo().memoizedState;return[n,e]},useMutableSource:_F,useSyncExternalStore:bF,useId:LF,unstable_isNewReconciler:!1};function QM(n,e){try{var t="",r=e;do t+=r9(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i}}function MS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var AK=typeof WeakMap=="function"?WeakMap:Map;function BF(n,e,t){t=Es(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Vy||(Vy=!0,LS=r),MS(n,e)},t}function UF(n,e,t){t=Es(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){MS(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){MS(n,e),typeof r!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function gR(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new AK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=GK.bind(null,n,e,t),e.then(n,n))}function vR(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function yR(n,e,t,r,i){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Es(-1,1),e.tag=2,El(t,e))),t.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var HF,ES,VF,GF;HF=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ES=function(){};VF=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ku(Aa.current);var o=null;switch(t){case"input":i=J1(n,i),r=J1(n,r),o=[];break;case"select":i=Jn({},i,{value:void 0}),r=Jn({},r,{value:void 0}),o=[];break;case"textarea":i=tS(n,i),r=tS(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ay)}rS(t,r);var a;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rp.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(o||(o=[]),o.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ln("scroll",n),o||s===l||(o=[])):(o=o||[]).push(u,l))}t&&(o=o||[]).push("style",t);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};GF=function(n,e,t,r){t!==r&&(e.flags|=4)};function Th(n,e){if(!Wn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Yr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function RK(n,e,t){var r=e.pendingProps;switch(GM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(e),null;case 1:return Di(e.type)&&Ry(),Yr(e),null;case 3:return r=e.stateNode,id(),Fn(Li),Fn(ei),KM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Mh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ua!==null&&(FS(ua),ua=null))),ES(n,e),Yr(e),null;case 5:jM(e);var i=ku(Gp.current);if(t=e.type,n!==null&&e.stateNode!=null)VF(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ut(166));return Yr(e),null}if(n=ku(Aa.current),Mh(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[Ta]=e,r[Hp]=o,n=(e.mode&1)!==0,t){case"dialog":Ln("cancel",r),Ln("close",r);break;case"iframe":case"object":case"embed":Ln("load",r);break;case"video":case"audio":for(i=0;i<Yh.length;i++)Ln(Yh[i],r);break;case"source":Ln("error",r);break;case"img":case"image":case"link":Ln("error",r),Ln("load",r);break;case"details":Ln("toggle",r);break;case"input":IA(r,o),Ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ln("invalid",r);break;case"textarea":LA(r,o),Ln("invalid",r)}rS(t,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&jg(r.textContent,s,n),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&jg(r.textContent,s,n),i=["children",""+s]):Rp.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ln("scroll",r)}switch(t){case"input":zg(r),NA(r,o,!0);break;case"textarea":zg(r),DA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ay)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=C4(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Ta]=e,n[Hp]=r,HF(n,e,!1,!1),e.stateNode=n;e:{switch(a=iS(t,r),t){case"dialog":Ln("cancel",n),Ln("close",n),i=r;break;case"iframe":case"object":case"embed":Ln("load",n),i=r;break;case"video":case"audio":for(i=0;i<Yh.length;i++)Ln(Yh[i],n);i=r;break;case"source":Ln("error",n),i=r;break;case"img":case"image":case"link":Ln("error",n),Ln("load",n),i=r;break;case"details":Ln("toggle",n),i=r;break;case"input":IA(n,r),i=J1(n,r),Ln("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Jn({},r,{value:void 0}),Ln("invalid",n);break;case"textarea":LA(n,r),i=tS(n,r),Ln("invalid",n);break;default:i=r}rS(t,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?T4(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M4(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ip(n,l):typeof l=="number"&&Ip(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ln("scroll",n):l!=null&&CM(n,o,l,a))}switch(t){case"input":zg(n),NA(n,r,!1);break;case"textarea":zg(n),DA(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ll(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Bf(n,!!r.multiple,o,!1):r.defaultValue!=null&&Bf(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Ay)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yr(e),null;case 6:if(n&&e.stateNode!=null)GF(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ut(166));if(t=ku(Gp.current),ku(Aa.current),Mh(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ta]=e,(o=r.nodeValue!==t)&&(n=no,n!==null))switch(n.tag){case 3:jg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&jg(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ta]=e,e.stateNode=r}return Yr(e),null;case 13:if(Fn(Xn),r=e.memoizedState,Wn&&Pi!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=Pi;r;)r=ws(r.nextSibling);return nd(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=Mh(e),n===null){if(!r)throw Error(ut(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(ut(317));r[Ta]=e}else nd(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return Yr(e),null}return ua!==null&&(FS(ua),ua=null),(e.flags&128)!==0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?Mh(e):t=n.memoizedState!==null,r!==t&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(Xn.current&1)!==0?Cr===0&&(Cr=3):oE())),e.updateQueue!==null&&(e.flags|=4),Yr(e),null);case 4:return id(),ES(n,e),n===null&&Bp(e.stateNode.containerInfo),Yr(e),null;case 10:return UM(e.type._context),Yr(e),null;case 17:return Di(e.type)&&Ry(),Yr(e),null;case 19:if(Fn(Xn),o=e.memoizedState,o===null)return Yr(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Th(o,!1);else{if(Cr!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(a=zy(n),a!==null){for(e.flags|=128,Th(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return In(Xn,Xn.current&1|2),e.child}n=n.sibling}o.tail!==null&&sr()>od&&(e.flags|=128,r=!0,Th(o,!1),e.lanes=4194304)}else{if(!r)if(n=zy(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Th(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Wn)return Yr(e),null}else 2*sr()-o.renderingStartTime>od&&t!==1073741824&&(e.flags|=128,r=!0,Th(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(t=o.last,t!==null?t.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=sr(),e.sibling=null,t=Xn.current,In(Xn,r?t&1|2:t&1),e):(Yr(e),null);case 22:case 23:return iE(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Zi&1073741824)!==0&&(Yr(e),e.subtreeFlags&6&&(e.flags|=8192)):Yr(e),null;case 24:return null;case 25:return null}throw Error(ut(156,e.tag))}var IK=ks.ReactCurrentOwner,Ri=!1;function fi(n,e,t,r){e.child=n===null?yF(e,null,t,r):rd(e,n.child,t,r)}function xR(n,e,t,r,i){t=t.render;var o=e.ref;return Gf(e,i),r=YM(n,e,t,r,o,i),t=qM(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Rs(n,e,i)):(Wn&&t&&VM(e),e.flags|=1,fi(n,e,r,i),e.child)}function _R(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!aE(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,WF(n,e,o,r,i)):(n=cy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,(n.lanes&i)===0){var a=o.memoizedProps;if(t=t.compare,t=t!==null?t:zp,t(a,r)&&n.ref===e.ref)return Rs(n,e,i)}return e.flags|=1,n=kl(o,r),n.ref=e.ref,n.return=e,e.child=n}function WF(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(zp(o,r)&&n.ref===e.ref)if(Ri=!1,e.pendingProps=r=o,(n.lanes&i)!==0)(n.flags&131072)!==0&&(Ri=!0);else return e.lanes=n.lanes,Rs(n,e,i)}return TS(n,e,t,r,i)}function $F(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(Sf,Zi),Zi|=t;else if((t&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,In(Sf,Zi),Zi|=r;else return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,In(Sf,Zi),Zi|=n,null;else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,In(Sf,Zi),Zi|=r;return fi(n,e,i,t),e.child}function jF(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function TS(n,e,t,r,i){var o=Di(t)?Zu:ei.current;return o=td(e,o),Gf(e,i),t=YM(n,e,t,r,o,i),r=qM(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Rs(n,e,i)):(Wn&&r&&VM(e),e.flags|=1,fi(n,e,t,i),e.child)}function bR(n,e,t,r,i){if(Di(t)){var o=!0;Iy(e)}else o=!1;if(Gf(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),pF(e,t,r),wS(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=zo(u):(u=Di(t)?Zu:ei.current,u=td(e,u));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&cR(e,a,r,u),ul=!1;var h=e.memoizedState;a.state=h,Dy(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Li.current||ul?(typeof c=="function"&&(bS(e,t,c,r),l=e.memoizedState),(s=ul||uR(e,t,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,dF(n,e),s=e.memoizedProps,u=e.type===e.elementType?s:aa(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=zo(l):(l=Di(t)?Zu:ei.current,l=td(e,l));var m=t.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&cR(e,a,r,l),ul=!1,h=e.memoizedState,a.state=h,Dy(e,r,a,i);var g=e.memoizedState;s!==d||h!==g||Li.current||ul?(typeof m=="function"&&(bS(e,t,m,r),g=e.memoizedState),(u=ul||uR(e,t,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return OS(n,e,t,r,o,i)}function OS(n,e,t,r,i,o){jF(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&aR(e,t,!1),Rs(n,e,o);r=e.stateNode,IK.current=e;var s=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=rd(e,n.child,null,o),e.child=rd(e,null,s,o)):fi(n,e,s,o),e.memoizedState=r.state,i&&aR(e,t,!0),e.child}function KF(n){var e=n.stateNode;e.pendingContext?oR(n,e.pendingContext,e.pendingContext!==e.context):e.context&&oR(n,e.context,!1),$M(n,e.containerInfo)}function wR(n,e,t,r,i){return nd(),WM(i),e.flags|=256,fi(n,e,t,r),e.child}var Xg={dehydrated:null,treeContext:null,retryLane:0};function Yg(n){return{baseLanes:n,cachePool:null,transitions:null}}function SR(n,e){return{baseLanes:n.baseLanes|e,cachePool:null,transitions:n.transitions}}function XF(n,e,t){var r=e.pendingProps,i=Xn.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=n!==null&&n.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),In(Xn,i&1),n===null)return CS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,n=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=$y(i,r,0,null),n=ju(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=Yg(t),e.memoizedState=Xg,n):PS(e,i));if(i=n.memoizedState,i!==null){if(s=i.dehydrated,s!==null){if(a)return e.flags&256?(e.flags&=-257,qg(n,e,t,Error(ut(422)))):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=$y({mode:"visible",children:r.children},i,0,null),o=ju(o,i,t,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&rd(e,n.child,null,t),e.child.memoizedState=Yg(t),e.memoizedState=Xg,o);if((e.mode&1)===0)e=qg(n,e,t,null);else if(s.data==="$!")e=qg(n,e,t,Error(ut(419)));else if(r=(t&n.childLanes)!==0,Ri||r){if(r=Mr,r!==null){switch(t&-t){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}r=(o&(r.suspendedLanes|t))!==0?0:o,r!==0&&r!==i.retryLane&&(i.retryLane=r,Lo(n,r,-1))}oE(),e=qg(n,e,t,Error(ut(421)))}else s.data==="$?"?(e.flags|=128,e.child=n.child,e=WK.bind(null,n),s._reactRetry=e,e=null):(t=i.treeContext,Pi=ws(s.nextSibling),no=e,Wn=!0,ua=null,t!==null&&(Oo[Po++]=Ss,Oo[Po++]=Cs,Oo[Po++]=Ju,Ss=t.id,Cs=t.overflow,Ju=e),e=PS(e,e.pendingProps.children),e.flags|=4096);return e}return o?(r=MR(n,e,r.children,r.fallback,t),o=e.child,i=n.child.memoizedState,o.memoizedState=i===null?Yg(t):SR(i,t),o.childLanes=n.childLanes&~t,e.memoizedState=Xg,r):(t=CR(n,e,r.children,t),e.memoizedState=null,t)}return o?(r=MR(n,e,r.children,r.fallback,t),o=e.child,i=n.child.memoizedState,o.memoizedState=i===null?Yg(t):SR(i,t),o.childLanes=n.childLanes&~t,e.memoizedState=Xg,r):(t=CR(n,e,r.children,t),e.memoizedState=null,t)}function PS(n,e){return e=$y({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function CR(n,e,t,r){var i=n.child;return n=i.sibling,t=kl(i,{mode:"visible",children:t}),(e.mode&1)===0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=t}function MR(n,e,t,r,i){var o=e.mode;n=n.child;var a=n.sibling,s={mode:"hidden",children:t};return(o&1)===0&&e.child!==n?(t=e.child,t.childLanes=0,t.pendingProps=s,e.deletions=null):(t=kl(n,s),t.subtreeFlags=n.subtreeFlags&14680064),a!==null?r=kl(a,r):(r=ju(r,o,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function qg(n,e,t,r){return r!==null&&WM(r),rd(e,n.child,null,t),n=PS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ER(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),_S(n.return,e,t)}function lw(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function YF(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(fi(n,e,r.children,t),r=Xn.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ER(n,t,e);else if(n.tag===19)ER(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(In(Xn,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&zy(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),lw(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&zy(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}lw(e,!0,t,null,o);break;case"together":lw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rs(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ec|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(ut(153));if(e.child!==null){for(n=e.child,t=kl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=kl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function NK(n,e,t){switch(e.tag){case 3:KF(e),nd();break;case 5:xF(e);break;case 1:Di(e.type)&&Iy(e);break;case 4:$M(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;In(Ny,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(In(Xn,Xn.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?XF(n,e,t):(In(Xn,Xn.current&1),n=Rs(n,e,t),n!==null?n.sibling:null);In(Xn,Xn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&128)!==0){if(r)return YF(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),In(Xn,Xn.current),r)break;return null;case 22:case 23:return e.lanes=0,$F(n,e,t)}return Rs(n,e,t)}function LK(n,e){switch(GM(e),e.tag){case 1:return Di(e.type)&&Ry(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return id(),Fn(Li),Fn(ei),KM(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return jM(e),null;case 13:if(Fn(Xn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ut(340));nd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Fn(Xn),null;case 4:return id(),null;case 10:return UM(e.type._context),null;case 22:case 23:return iE(),null;case 24:return null;default:return null}}var Zg=!1,Qr=!1,DK=typeof WeakSet=="function"?WeakSet:Set,St=null;function wf(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){rr(n,e,r)}else t.current=null}function AS(n,e,t){try{t()}catch(r){rr(n,e,r)}}var TR=!1;function kK(n,e){if(pS=Ty,n=tF(),FM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=n,h=null;t:for(;;){for(var m;d!==t||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===n)break t;if(h===t&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}t=s===-1||l===-1?null:{start:s,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(mS={focusedElem:n,selectionRange:t},Ty=!1,St=e;St!==null;)if(e=St,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,St=n;else for(;St!==null;){e=St;try{var g=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:aa(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;if(b.nodeType===1)b.textContent="";else if(b.nodeType===9){var S=b.body;S!=null&&(S.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(ut(163))}}catch(C){rr(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,St=n;break}St=e.return}return g=TR,TR=!1,g}function cp(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&AS(e,t,o)}i=i.next}while(i!==r)}}function ox(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function RS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function qF(n){var e=n.alternate;e!==null&&(n.alternate=null,qF(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ta],delete e[Hp],delete e[yS],delete e[xK],delete e[_K])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ZF(n){return n.tag===5||n.tag===3||n.tag===4}function OR(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ZF(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function IS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ay));else if(r!==4&&(n=n.child,n!==null))for(IS(n,e,t),n=n.sibling;n!==null;)IS(n,e,t),n=n.sibling}function NS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(NS(n,e,t),n=n.sibling;n!==null;)NS(n,e,t),n=n.sibling}var Hr=null,sa=!1;function qs(n,e,t){for(t=t.child;t!==null;)JF(n,e,t),t=t.sibling}function JF(n,e,t){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(Z0,t)}catch{}switch(t.tag){case 5:Qr||wf(t,e);case 6:var r=Hr,i=sa;Hr=null,qs(n,e,t),Hr=r,sa=i,Hr!==null&&(sa?(n=Hr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Hr.removeChild(t.stateNode));break;case 18:Hr!==null&&(sa?(n=Hr,t=t.stateNode,n.nodeType===8?nw(n.parentNode,t):n.nodeType===1&&nw(n,t),kp(n)):nw(Hr,t.stateNode));break;case 4:r=Hr,i=sa,Hr=t.stateNode.containerInfo,sa=!0,qs(n,e,t),Hr=r,sa=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&((o&2)!==0||(o&4)!==0)&&AS(t,e,a),i=i.next}while(i!==r)}qs(n,e,t);break;case 1:if(!Qr&&(wf(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(s){rr(t,e,s)}qs(n,e,t);break;case 21:qs(n,e,t);break;case 22:t.mode&1?(Qr=(r=Qr)||t.memoizedState!==null,qs(n,e,t),Qr=r):qs(n,e,t);break;default:qs(n,e,t)}}function PR(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new DK),e.forEach(function(r){var i=$K.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function qo(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Hr=s.stateNode,sa=!1;break e;case 3:Hr=s.stateNode.containerInfo,sa=!0;break e;case 4:Hr=s.stateNode.containerInfo,sa=!0;break e}s=s.return}if(Hr===null)throw Error(ut(160));JF(o,a,i),Hr=null,sa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){rr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QF(e,n),e=e.sibling}function QF(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(qo(e,n),wa(n),r&4){try{cp(3,n,n.return),ox(3,n)}catch(g){rr(n,n.return,g)}try{cp(5,n,n.return)}catch(g){rr(n,n.return,g)}}break;case 1:qo(e,n),wa(n),r&512&&t!==null&&wf(t,t.return);break;case 5:if(qo(e,n),wa(n),r&512&&t!==null&&wf(t,t.return),n.flags&32){var i=n.stateNode;try{Ip(i,"")}catch(g){rr(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,a=t!==null?t.memoizedProps:o,s=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&w4(i,o),iS(s,a);var u=iS(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?T4(i,d):c==="dangerouslySetInnerHTML"?M4(i,d):c==="children"?Ip(i,d):CM(i,c,d,u)}switch(s){case"input":Q1(i,o);break;case"textarea":S4(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Bf(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Bf(i,!!o.multiple,o.defaultValue,!0):Bf(i,!!o.multiple,o.multiple?[]:"",!1))}i[Hp]=o}catch(g){rr(n,n.return,g)}}break;case 6:if(qo(e,n),wa(n),r&4){if(n.stateNode===null)throw Error(ut(162));u=n.stateNode,c=n.memoizedProps;try{u.nodeValue=c}catch(g){rr(n,n.return,g)}}break;case 3:if(qo(e,n),wa(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{kp(e.containerInfo)}catch(g){rr(n,n.return,g)}break;case 4:qo(e,n),wa(n);break;case 13:qo(e,n),wa(n),u=n.child,u.flags&8192&&u.memoizedState!==null&&(u.alternate===null||u.alternate.memoizedState===null)&&(nE=sr()),r&4&&PR(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Qr=(c=Qr)||u,qo(e,n),Qr=c):qo(e,n),wa(n),r&8192){c=n.memoizedState!==null;e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=E4("display",a))}catch(g){rr(n,n.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){rr(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}if(c&&!u&&(n.mode&1)!==0)for(St=n,n=n.child;n!==null;){for(u=St=n;St!==null;){switch(c=St,d=c.child,c.tag){case 0:case 11:case 14:case 15:cp(4,c,c.return);break;case 1:if(wf(c,c.return),o=c.stateNode,typeof o.componentWillUnmount=="function"){h=c,m=c.return;try{i=h,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(g){rr(h,m,g)}}break;case 5:wf(c,c.return);break;case 22:if(c.memoizedState!==null){RR(u);continue}}d!==null?(d.return=c,St=d):RR(u)}n=n.sibling}}break;case 19:qo(e,n),wa(n),r&4&&PR(n);break;case 21:break;default:qo(e,n),wa(n)}}function wa(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(ZF(t)){var r=t;break e}t=t.return}throw Error(ut(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ip(i,""),r.flags&=-33);var o=OR(n);NS(n,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=OR(n);IS(n,s,a);break;default:throw Error(ut(161))}}catch(l){rr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function FK(n,e,t){St=n,ez(n)}function ez(n,e,t){for(var r=(n.mode&1)!==0;St!==null;){var i=St,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Zg;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Qr;s=Zg;var u=Qr;if(Zg=a,(Qr=l)&&!u)for(St=i;St!==null;)a=St,l=a.child,a.tag===22&&a.memoizedState!==null?IR(i):l!==null?(l.return=a,St=l):IR(i);for(;o!==null;)St=o,ez(o),o=o.sibling;St=i,Zg=s,Qr=u}AR(n)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,St=o):AR(n)}}function AR(n){for(;St!==null;){var e=St;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Qr||ox(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:aa(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&lR(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}lR(e,a,t)}break;case 5:var s=e.stateNode;if(t===null&&e.flags&4){t=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&kp(d)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(ut(163))}Qr||e.flags&512&&RS(e)}catch(h){rr(e,e.return,h)}}if(e===n){St=null;break}if(t=e.sibling,t!==null){t.return=e.return,St=t;break}St=e.return}}function RR(n){for(;St!==null;){var e=St;if(e===n){St=null;break}var t=e.sibling;if(t!==null){t.return=e.return,St=t;break}St=e.return}}function IR(n){for(;St!==null;){var e=St;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ox(4,e)}catch(l){rr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rr(e,i,l)}}var o=e.return;try{RS(e)}catch(l){rr(e,o,l)}break;case 5:var a=e.return;try{RS(e)}catch(l){rr(e,a,l)}}}catch(l){rr(e,e.return,l)}if(e===n){St=null;break}var s=e.sibling;if(s!==null){s.return=e.return,St=s;break}St=e.return}}var zK=Math.ceil,Hy=ks.ReactCurrentDispatcher,eE=ks.ReactCurrentOwner,No=ks.ReactCurrentBatchConfig,on=0,Mr=null,pr=null,Gr=0,Zi=0,Sf=Kl(0),Cr=0,Kp=null,ec=0,ax=0,tE=0,fp=null,Oi=null,nE=0,od=1/0,ps=null,Vy=!1,LS=null,Tl=null,Jg=!1,xl=null,Gy=0,dp=0,DS=null,ly=-1,uy=0;function vi(){return(on&6)!==0?sr():ly!==-1?ly:ly=sr()}function Ol(n){return(n.mode&1)===0?1:(on&2)!==0&&Gr!==0?Gr&-Gr:wK.transition!==null?(uy===0&&(uy=B4()),uy):(n=xn,n!==0||(n=window.event,n=n===void 0?16:j4(n.type)),n)}function Lo(n,e,t){if(50<dp)throw dp=0,DS=null,Error(ut(185));var r=sx(n,e);return r===null?null:(Im(r,e,t),((on&2)===0||r!==Mr)&&(r===Mr&&((on&2)===0&&(ax|=e),Cr===4&&gl(r,Gr)),ki(r,t),e===1&&on===0&&(n.mode&1)===0&&(od=sr()+500,nx&&Xl())),r)}function sx(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function tz(n){return(Mr!==null||pa!==null)&&(n.mode&1)!==0&&(on&2)===0}function ki(n,e){var t=n.callbackNode;w9(n,e);var r=Ey(n,n===Mr?Gr:0);if(r===0)t!==null&&zA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&zA(t),e===1)n.tag===0?bK(NR.bind(null,n)):fF(NR.bind(null,n)),vK(function(){on===0&&Xl()}),t=null;else{switch(U4(r)){case 1:t=PM;break;case 4:t=F4;break;case 16:t=My;break;case 536870912:t=z4;break;default:t=My}t=uz(t,nz.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function nz(n,e){if(ly=-1,uy=0,(on&6)!==0)throw Error(ut(327));var t=n.callbackNode;if(Wf()&&n.callbackNode!==t)return null;var r=Ey(n,n===Mr?Gr:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||e)e=Wy(n,r);else{e=r;var i=on;on|=2;var o=iz();(Mr!==n||Gr!==e)&&(ps=null,od=sr()+500,$u(n,e));do try{HK();break}catch(s){rz(n,s)}while(1);BM(),Hy.current=o,on=i,pr!==null?e=0:(Mr=null,Gr=0,e=Cr)}if(e!==0){if(e===2&&(i=uS(n),i!==0&&(r=i,e=kS(n,i))),e===1)throw t=Kp,$u(n,0),gl(n,r),ki(n,sr()),t;if(e===6)gl(n,r);else{if(i=n.current.alternate,(r&30)===0&&!BK(i)&&(e=Wy(n,r),e===2&&(o=uS(n),o!==0&&(r=o,e=kS(n,o))),e===1))throw t=Kp,$u(n,0),gl(n,r),ki(n,sr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(ut(345));case 2:yu(n,Oi,ps);break;case 3:if(gl(n,r),(r&130023424)===r&&(e=nE+500-sr(),10<e)){if(Ey(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){vi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=vS(yu.bind(null,n,Oi,ps),e);break}yu(n,Oi,ps);break;case 4:if(gl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-ma(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=sr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zK(r/1960))-r,10<r){n.timeoutHandle=vS(yu.bind(null,n,Oi,ps),r);break}yu(n,Oi,ps);break;case 5:yu(n,Oi,ps);break;default:throw Error(ut(329))}}}return ki(n,sr()),n.callbackNode===t?nz.bind(null,n):null}function kS(n,e){var t=fp;return n.current.memoizedState.isDehydrated&&($u(n,e).flags|=256),n=Wy(n,e),n!==2&&(e=Oi,Oi=t,e!==null&&FS(e)),n}function FS(n){Oi===null?Oi=n:Oi.push.apply(Oi,n)}function BK(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!ga(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gl(n,e){for(e&=~tE,e&=~ax,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ma(e),r=1<<t;n[t]=-1,e&=~r}}function NR(n){if((on&6)!==0)throw Error(ut(327));Wf();var e=Ey(n,0);if((e&1)===0)return ki(n,sr()),null;var t=Wy(n,e);if(n.tag!==0&&t===2){var r=uS(n);r!==0&&(e=r,t=kS(n,r))}if(t===1)throw t=Kp,$u(n,0),gl(n,e),ki(n,sr()),t;if(t===6)throw Error(ut(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,yu(n,Oi,ps),ki(n,sr()),null}function rE(n,e){var t=on;on|=1;try{return n(e)}finally{on=t,on===0&&(od=sr()+500,nx&&Xl())}}function tc(n){xl!==null&&xl.tag===0&&(on&6)===0&&Wf();var e=on;on|=1;var t=No.transition,r=xn;try{if(No.transition=null,xn=1,n)return n()}finally{xn=r,No.transition=t,on=e,(on&6)===0&&Xl()}}function iE(){Zi=Sf.current,Fn(Sf)}function $u(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,gK(t)),pr!==null)for(t=pr.return;t!==null;){var r=t;switch(GM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ry();break;case 3:id(),Fn(Li),Fn(ei),KM();break;case 5:jM(r);break;case 4:id();break;case 13:Fn(Xn);break;case 19:Fn(Xn);break;case 10:UM(r.type._context);break;case 22:case 23:iE()}t=t.return}if(Mr=n,pr=n=kl(n.current,null),Gr=Zi=e,Cr=0,Kp=null,tE=ax=ec=0,Oi=fp=null,pa!==null){for(e=0;e<pa.length;e++)if(t=pa[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}t.pending=r}pa=null}return n}function rz(n,e){do{var t=pr;try{if(BM(),ay.current=Uy,By){for(var r=qn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}By=!1}if(Qu=0,Ar=wr=qn=null,up=!1,Wp=0,eE.current=null,t===null||t.return===null){Cr=1,Kp=e,pr=null;break}e:{var o=n,a=t.return,s=t,l=e;if(e=Gr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=vR(a);if(m!==null){m.flags&=-257,yR(m,a,s,o,e),m.mode&1&&gR(o,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if((e&1)===0){gR(o,u,e),oE();break e}l=Error(ut(426))}}else if(Wn&&s.mode&1){var y=vR(a);if(y!==null){(y.flags&65536)===0&&(y.flags|=256),yR(y,a,s,o,e),WM(l);break e}}o=l,Cr!==4&&(Cr=2),fp===null?fp=[o]:fp.push(o),l=QM(l,s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=BF(s,l,e);sR(s,x);break e;case 1:o=l;var _=s.type,b=s.stateNode;if((s.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Tl===null||!Tl.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=UF(s,o,e);sR(s,S);break e}}s=s.return}while(s!==null)}az(t)}catch(C){e=C,pr===t&&t!==null&&(pr=t=t.return);continue}break}while(1)}function iz(){var n=Hy.current;return Hy.current=Uy,n===null?Uy:n}function oE(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Mr===null||(ec&268435455)===0&&(ax&268435455)===0||gl(Mr,Gr)}function Wy(n,e){var t=on;on|=2;var r=iz();(Mr!==n||Gr!==e)&&(ps=null,$u(n,e));do try{UK();break}catch(i){rz(n,i)}while(1);if(BM(),on=t,Hy.current=r,pr!==null)throw Error(ut(261));return Mr=null,Gr=0,Cr}function UK(){for(;pr!==null;)oz(pr)}function HK(){for(;pr!==null&&!h9();)oz(pr)}function oz(n){var e=lz(n.alternate,n,Zi);n.memoizedProps=n.pendingProps,e===null?az(n):pr=e,eE.current=null}function az(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=RK(t,e,Zi),t!==null){pr=t;return}}else{if(t=LK(t,e),t!==null){t.flags&=32767,pr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Cr=6,pr=null;return}}if(e=e.sibling,e!==null){pr=e;return}pr=e=n}while(e!==null);Cr===0&&(Cr=5)}function yu(n,e,t){var r=xn,i=No.transition;try{No.transition=null,xn=1,VK(n,e,t,r)}finally{No.transition=i,xn=r}return null}function VK(n,e,t,r){do Wf();while(xl!==null);if((on&6)!==0)throw Error(ut(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ut(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(S9(n,o),n===Mr&&(pr=Mr=null,Gr=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||Jg||(Jg=!0,uz(My,function(){return Wf(),null})),o=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||o){o=No.transition,No.transition=null;var a=xn;xn=1;var s=on;on|=4,eE.current=null,kK(n,t),QF(t,n),uK(mS),Ty=!!pS,mS=pS=null,n.current=t,FK(t),p9(),on=s,xn=a,No.transition=o}else n.current=t;if(Jg&&(Jg=!1,xl=n,Gy=i),o=n.pendingLanes,o===0&&(Tl=null),v9(t.stateNode),ki(n,sr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)r(e[t]);if(Vy)throw Vy=!1,n=LS,LS=null,n;return(Gy&1)!==0&&n.tag!==0&&Wf(),o=n.pendingLanes,(o&1)!==0?n===DS?dp++:(dp=0,DS=n):dp=0,Xl(),null}function Wf(){if(xl!==null){var n=U4(Gy),e=No.transition,t=xn;try{if(No.transition=null,xn=16>n?16:n,xl===null)var r=!1;else{if(n=xl,xl=null,Gy=0,(on&6)!==0)throw Error(ut(331));var i=on;for(on|=4,St=n.current;St!==null;){var o=St,a=o.child;if((St.flags&16)!==0){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(St=u;St!==null;){var c=St;switch(c.tag){case 0:case 11:case 15:cp(8,c,o)}var d=c.child;if(d!==null)d.return=c,St=d;else for(;St!==null;){c=St;var h=c.sibling,m=c.return;if(qF(c),c===u){St=null;break}if(h!==null){h.return=m,St=h;break}St=m}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}St=o}}if((o.subtreeFlags&2064)!==0&&a!==null)a.return=o,St=a;else e:for(;St!==null;){if(o=St,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:cp(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,St=x;break e}St=o.return}}var _=n.current;for(St=_;St!==null;){a=St;var b=a.child;if((a.subtreeFlags&2064)!==0&&b!==null)b.return=a,St=b;else e:for(a=_;St!==null;){if(s=St,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:ox(9,s)}}catch(C){rr(s,s.return,C)}if(s===a){St=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,St=S;break e}St=s.return}}if(on=i,Xl(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(Z0,n)}catch{}r=!0}return r}finally{xn=t,No.transition=e}}return!1}function LR(n,e,t){e=QM(t,e),e=BF(n,e,1),El(n,e),e=vi(),n=sx(n,1),n!==null&&(Im(n,1,e),ki(n,e))}function rr(n,e,t){if(n.tag===3)LR(n,n,t);else for(;e!==null;){if(e.tag===3){LR(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tl===null||!Tl.has(r))){n=QM(t,n),n=UF(e,n,1),El(e,n),n=vi(),e=sx(e,1),e!==null&&(Im(e,1,n),ki(e,n));break}}e=e.return}}function GK(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=vi(),n.pingedLanes|=n.suspendedLanes&t,Mr===n&&(Gr&t)===t&&(Cr===4||Cr===3&&(Gr&130023424)===Gr&&500>sr()-nE?$u(n,0):tE|=t),ki(n,e)}function sz(n,e){e===0&&((n.mode&1)===0?e=1:(e=Hg,Hg<<=1,(Hg&130023424)===0&&(Hg=4194304)));var t=vi();n=sx(n,e),n!==null&&(Im(n,e,t),ki(n,t))}function WK(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),sz(n,t)}function $K(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(ut(314))}r!==null&&r.delete(e),sz(n,t)}var lz;lz=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Li.current)Ri=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return Ri=!1,NK(n,e,t);Ri=(n.flags&131072)!==0}else Ri=!1,Wn&&(e.flags&1048576)!==0&&mF(e,Fy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps;var i=td(e,ei.current);Gf(e,t),i=YM(null,e,r,n,i,t);var o=qM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Di(r)?(o=!0,Iy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,HM(e),i.updater=rx,e.stateNode=i,i._reactInternals=e,wS(e,r,n,t),e=OS(null,e,r,!0,o,t)):(e.tag=0,Wn&&o&&VM(e),fi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KK(r),n=aa(r,n),i){case 0:e=TS(null,e,r,n,t);break e;case 1:e=bR(null,e,r,n,t);break e;case 11:e=xR(null,e,r,n,t);break e;case 14:e=_R(null,e,r,aa(r.type,n),t);break e}throw Error(ut(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),TS(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),bR(n,e,r,i,t);case 3:e:{if(KF(e),n===null)throw Error(ut(387));r=e.pendingProps,o=e.memoizedState,i=o.element,dF(n,e),Dy(e,r,null,t);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Error(ut(423)),e=wR(n,e,r,t,i);break e}else if(r!==i){i=Error(ut(424)),e=wR(n,e,r,t,i);break e}else for(Pi=ws(e.stateNode.containerInfo.firstChild),no=e,Wn=!0,ua=null,t=yF(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(nd(),r===i){e=Rs(n,e,t);break e}fi(n,e,r,t)}e=e.child}return e;case 5:return xF(e),n===null&&CS(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,a=i.children,gS(r,i)?a=null:o!==null&&gS(r,o)&&(e.flags|=32),jF(n,e),fi(n,e,a,t),e.child;case 6:return n===null&&CS(e),null;case 13:return XF(n,e,t);case 4:return $M(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=rd(e,null,r,t):fi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),xR(n,e,r,i,t);case 7:return fi(n,e,e.pendingProps,t),e.child;case 8:return fi(n,e,e.pendingProps.children,t),e.child;case 12:return fi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,In(Ny,r._currentValue),r._currentValue=a,o!==null)if(ga(o.value,a)){if(o.children===i.children&&!Li.current){e=Rs(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Es(-1,t&-t),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),_S(o.return,t,e),s.lanes|=t;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ut(341));a.lanes|=t,s=a.alternate,s!==null&&(s.lanes|=t),_S(a,t,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}fi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gf(e,t),i=zo(i),r=r(i),e.flags|=1,fi(n,e,r,t),e.child;case 14:return r=e.type,i=aa(r,e.pendingProps),i=aa(r.type,i),_R(n,e,r,i,t);case 15:return WF(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Di(r)?(n=!0,Iy(e)):n=!1,Gf(e,t),pF(e,r,i),wS(e,r,i,t),OS(null,e,r,!0,n,t);case 19:return YF(n,e,t);case 22:return $F(n,e,t)}throw Error(ut(156,e.tag))};function uz(n,e){return k4(n,e)}function jK(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(n,e,t,r){return new jK(n,e,t,r)}function aE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function KK(n){if(typeof n=="function")return aE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===EM)return 11;if(n===TM)return 14}return 2}function kl(n,e){var t=n.alternate;return t===null?(t=Ro(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function cy(n,e,t,r,i,o){var a=2;if(r=n,typeof n=="function")aE(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case hf:return ju(t.children,i,o,e);case MM:a=8,i|=8;break;case X1:return n=Ro(12,t,e,i|2),n.elementType=X1,n.lanes=o,n;case Y1:return n=Ro(13,t,e,i),n.elementType=Y1,n.lanes=o,n;case q1:return n=Ro(19,t,e,i),n.elementType=q1,n.lanes=o,n;case x4:return $y(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case v4:a=10;break e;case y4:a=9;break e;case EM:a=11;break e;case TM:a=14;break e;case ll:a=16,r=null;break e}throw Error(ut(130,n==null?n:typeof n,""))}return e=Ro(a,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function ju(n,e,t,r){return n=Ro(7,n,r,e),n.lanes=t,n}function $y(n,e,t,r){return n=Ro(22,n,r,e),n.elementType=x4,n.lanes=t,n.stateNode={},n}function uw(n,e,t){return n=Ro(6,n,null,e),n.lanes=t,n}function cw(n,e,t){return e=Ro(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function XK(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$b(0),this.expirationTimes=$b(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$b(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sE(n,e,t,r,i,o,a,s,l){return n=new XK(n,e,t,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ro(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},HM(o),n}function YK(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:df,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function cz(n){if(!n)return Dl;n=n._reactInternals;e:{if(cc(n)!==n||n.tag!==1)throw Error(ut(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Di(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ut(171))}if(n.tag===1){var t=n.type;if(Di(t))return cF(n,t,e)}return e}function fz(n,e,t,r,i,o,a,s,l){return n=sE(t,r,!0,n,i,o,a,s,l),n.context=cz(null),t=n.current,r=vi(),i=Ol(t),o=Es(r,i),o.callback=e??null,El(t,o),n.current.lanes=i,Im(n,i,r),ki(n,r),n}function lx(n,e,t,r){var i=e.current,o=vi(),a=Ol(i);return t=cz(t),e.context===null?e.context=t:e.pendingContext=t,e=Es(o,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),El(i,e),n=Lo(i,a,o),n!==null&&oy(n,i,a),a}function jy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function DR(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function lE(n,e){DR(n,e),(n=n.alternate)&&DR(n,e)}function qK(){return null}var dz=typeof reportError=="function"?reportError:function(n){console.error(n)};function uE(n){this._internalRoot=n}ux.prototype.render=uE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ut(409));lx(n,e,null,null)};ux.prototype.unmount=uE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;tc(function(){lx(null,n,null,null)}),e[As]=null}};function ux(n){this._internalRoot=n}ux.prototype.unstable_scheduleHydration=function(n){if(n){var e=G4();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ml.length&&e!==0&&e<ml[t].priority;t++);ml.splice(t,0,n),t===0&&$4(n)}};function cE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function cx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function kR(){}function ZK(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=jy(a);o.call(u)}}var a=fz(e,r,n,0,null,!1,!1,"",kR);return n._reactRootContainer=a,n[As]=a.current,Bp(n.nodeType===8?n.parentNode:n),tc(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=jy(l);s.call(u)}}var l=sE(n,0,!1,null,null,!1,!1,"",kR);return n._reactRootContainer=l,n[As]=l.current,Bp(n.nodeType===8?n.parentNode:n),tc(function(){lx(e,l,t,r)}),l}function fx(n,e,t,r,i){var o=t._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=jy(a);s.call(l)}}lx(e,a,n,i)}else a=ZK(t,e,n,i,r);return jy(a)}H4=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Xh(e.pendingLanes);t!==0&&(AM(e,t|1),ki(e,sr()),(on&6)===0&&(od=sr()+500,Xl()))}break;case 13:var r=vi();tc(function(){return Lo(n,1,r)}),lE(n,1)}};RM=function(n){if(n.tag===13){var e=vi();Lo(n,134217728,e),lE(n,134217728)}};V4=function(n){if(n.tag===13){var e=vi(),t=Ol(n);Lo(n,t,e),lE(n,t)}};G4=function(){return xn};W4=function(n,e){var t=xn;try{return xn=n,e()}finally{xn=t}};aS=function(n,e,t){switch(e){case"input":if(Q1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=tx(r);if(!i)throw Error(ut(90));b4(r),Q1(r,i)}}}break;case"textarea":S4(n,t);break;case"select":e=t.value,e!=null&&Bf(n,!!t.multiple,e,!1)}};A4=rE;R4=tc;var JK={usingClientEntryPoint:!1,Events:[Lm,vf,tx,O4,P4,rE]},Oh={findFiberByHostInstance:Du,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},QK={bundleType:Oh.bundleType,version:Oh.version,rendererPackageName:Oh.rendererPackageName,rendererConfig:Oh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=L4(n),n===null?null:n.stateNode},findFiberByHostInstance:Oh.findFiberByHostInstance||qK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qg.isDisabled&&Qg.supportsFiber)try{Z0=Qg.inject(QK),Pa=Qg}catch{}}lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JK;lo.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cE(e))throw Error(ut(200));return YK(n,e,null,t)};lo.createRoot=function(n,e){if(!cE(n))throw Error(ut(299));var t=!1,r="",i=dz;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sE(n,1,!1,null,null,t,!1,r,i),n[As]=e.current,Bp(n.nodeType===8?n.parentNode:n),new uE(e)};lo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ut(188)):(n=Object.keys(n).join(","),Error(ut(268,n)));return n=L4(e),n=n===null?null:n.stateNode,n};lo.flushSync=function(n){return tc(n)};lo.hydrate=function(n,e,t){if(!cx(e))throw Error(ut(200));return fx(null,n,e,!0,t)};lo.hydrateRoot=function(n,e,t){if(!cE(n))throw Error(ut(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",a=dz;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=fz(e,null,n,1,t??null,i,!1,o,a),n[As]=e.current,Bp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new ux(e)};lo.render=function(n,e,t){if(!cx(e))throw Error(ut(200));return fx(null,n,e,!1,t)};lo.unmountComponentAtNode=function(n){if(!cx(n))throw Error(ut(40));return n._reactRootContainer?(tc(function(){fx(null,null,n,!1,function(){n._reactRootContainer=null,n[As]=null})}),!0):!1};lo.unstable_batchedUpdates=rE;lo.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!cx(t))throw Error(ut(200));if(n==null||n._reactInternals===void 0)throw Error(ut(38));return fx(n,e,t,!1,r)};lo.version="18.1.0-next-22edb9f77-20220426";function hz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hz)}catch(n){console.error(n)}}hz(),Rr.exports=lo;var Ts=Rr.exports;function eX(n){n()}let pz=eX;const tX=n=>pz=n,nX=()=>pz,Fl=Ce.createContext(null);function mz(){return A.exports.useContext(Fl)}const rX=()=>{throw new Error("uSES not initialized!")};let gz=rX;const iX=n=>{gz=n},oX=(n,e)=>n===e;function aX(n=Fl){const e=n===Fl?mz:()=>A.exports.useContext(n);return function(r,i=oX){const{store:o,subscription:a,getServerState:s}=e(),l=gz(a.addNestedSub,o.getState,s||o.getState,r,i);return A.exports.useDebugValue(l),l}}const vz=aX();function Is(){return Is=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Is.apply(this,arguments)}function dx(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var yz={exports:{}},_n={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kr=typeof Symbol=="function"&&Symbol.for,fE=kr?Symbol.for("react.element"):60103,dE=kr?Symbol.for("react.portal"):60106,hx=kr?Symbol.for("react.fragment"):60107,px=kr?Symbol.for("react.strict_mode"):60108,mx=kr?Symbol.for("react.profiler"):60114,gx=kr?Symbol.for("react.provider"):60109,vx=kr?Symbol.for("react.context"):60110,hE=kr?Symbol.for("react.async_mode"):60111,yx=kr?Symbol.for("react.concurrent_mode"):60111,xx=kr?Symbol.for("react.forward_ref"):60112,_x=kr?Symbol.for("react.suspense"):60113,sX=kr?Symbol.for("react.suspense_list"):60120,bx=kr?Symbol.for("react.memo"):60115,wx=kr?Symbol.for("react.lazy"):60116,lX=kr?Symbol.for("react.block"):60121,uX=kr?Symbol.for("react.fundamental"):60117,cX=kr?Symbol.for("react.responder"):60118,fX=kr?Symbol.for("react.scope"):60119;function co(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case fE:switch(n=n.type,n){case hE:case yx:case hx:case mx:case px:case _x:return n;default:switch(n=n&&n.$$typeof,n){case vx:case xx:case wx:case bx:case gx:return n;default:return e}}case dE:return e}}}function xz(n){return co(n)===yx}_n.AsyncMode=hE;_n.ConcurrentMode=yx;_n.ContextConsumer=vx;_n.ContextProvider=gx;_n.Element=fE;_n.ForwardRef=xx;_n.Fragment=hx;_n.Lazy=wx;_n.Memo=bx;_n.Portal=dE;_n.Profiler=mx;_n.StrictMode=px;_n.Suspense=_x;_n.isAsyncMode=function(n){return xz(n)||co(n)===hE};_n.isConcurrentMode=xz;_n.isContextConsumer=function(n){return co(n)===vx};_n.isContextProvider=function(n){return co(n)===gx};_n.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===fE};_n.isForwardRef=function(n){return co(n)===xx};_n.isFragment=function(n){return co(n)===hx};_n.isLazy=function(n){return co(n)===wx};_n.isMemo=function(n){return co(n)===bx};_n.isPortal=function(n){return co(n)===dE};_n.isProfiler=function(n){return co(n)===mx};_n.isStrictMode=function(n){return co(n)===px};_n.isSuspense=function(n){return co(n)===_x};_n.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===hx||n===yx||n===mx||n===px||n===_x||n===sX||typeof n=="object"&&n!==null&&(n.$$typeof===wx||n.$$typeof===bx||n.$$typeof===gx||n.$$typeof===vx||n.$$typeof===xx||n.$$typeof===uX||n.$$typeof===cX||n.$$typeof===fX||n.$$typeof===lX)};_n.typeOf=co;yz.exports=_n;var _z=yz.exports,dX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hX={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bz={};bz[_z.ForwardRef]=dX;bz[_z.Memo]=hX;var Cn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE=Symbol.for("react.element"),mE=Symbol.for("react.portal"),Sx=Symbol.for("react.fragment"),Cx=Symbol.for("react.strict_mode"),Mx=Symbol.for("react.profiler"),Ex=Symbol.for("react.provider"),Tx=Symbol.for("react.context"),pX=Symbol.for("react.server_context"),Ox=Symbol.for("react.forward_ref"),Px=Symbol.for("react.suspense"),Ax=Symbol.for("react.suspense_list"),Rx=Symbol.for("react.memo"),Ix=Symbol.for("react.lazy"),mX=Symbol.for("react.offscreen"),wz;wz=Symbol.for("react.module.reference");function Wo(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case pE:switch(n=n.type,n){case Sx:case Mx:case Cx:case Px:case Ax:return n;default:switch(n=n&&n.$$typeof,n){case pX:case Tx:case Ox:case Ix:case Rx:case Ex:return n;default:return e}}case mE:return e}}}Cn.ContextConsumer=Tx;Cn.ContextProvider=Ex;Cn.Element=pE;Cn.ForwardRef=Ox;Cn.Fragment=Sx;Cn.Lazy=Ix;Cn.Memo=Rx;Cn.Portal=mE;Cn.Profiler=Mx;Cn.StrictMode=Cx;Cn.Suspense=Px;Cn.SuspenseList=Ax;Cn.isAsyncMode=function(){return!1};Cn.isConcurrentMode=function(){return!1};Cn.isContextConsumer=function(n){return Wo(n)===Tx};Cn.isContextProvider=function(n){return Wo(n)===Ex};Cn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===pE};Cn.isForwardRef=function(n){return Wo(n)===Ox};Cn.isFragment=function(n){return Wo(n)===Sx};Cn.isLazy=function(n){return Wo(n)===Ix};Cn.isMemo=function(n){return Wo(n)===Rx};Cn.isPortal=function(n){return Wo(n)===mE};Cn.isProfiler=function(n){return Wo(n)===Mx};Cn.isStrictMode=function(n){return Wo(n)===Cx};Cn.isSuspense=function(n){return Wo(n)===Px};Cn.isSuspenseList=function(n){return Wo(n)===Ax};Cn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Sx||n===Mx||n===Cx||n===Px||n===Ax||n===mX||typeof n=="object"&&n!==null&&(n.$$typeof===Ix||n.$$typeof===Rx||n.$$typeof===Ex||n.$$typeof===Tx||n.$$typeof===Ox||n.$$typeof===wz||n.getModuleId!==void 0)};Cn.typeOf=Wo;function gX(){const n=nX();let e=null,t=null;return{clear(){e=null,t=null},notify(){n(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const FR={notify(){},get:()=>[]};function vX(n,e){let t,r=FR;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function a(){c.onStateChange&&c.onStateChange()}function s(){return Boolean(t)}function l(){t||(t=e?e.addNestedSub(a):n.subscribe(a),r=gX())}function u(){t&&(t(),t=void 0,r.clear(),r=FR)}const c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:s,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const yX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xX=yX?A.exports.useLayoutEffect:A.exports.useEffect;var Nx={exports:{}},Lx={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _X=A.exports,bX=Symbol.for("react.element"),wX=Symbol.for("react.fragment"),SX=Object.prototype.hasOwnProperty,CX=_X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MX={key:!0,ref:!0,__self:!0,__source:!0};function Sz(n,e,t){var r,i={},o=null,a=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)SX.call(e,r)&&!MX.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bX,type:n,key:o,ref:a,props:i,_owner:CX.current}}Lx.Fragment=wX;Lx.jsx=Sz;Lx.jsxs=Sz;Nx.exports=Lx;const M=Nx.exports.jsx,We=Nx.exports.jsxs,Ut=Nx.exports.Fragment;function EX({store:n,context:e,children:t,serverState:r}){const i=A.exports.useMemo(()=>{const s=vX(n);return{store:n,subscription:s,getServerState:r?()=>r:void 0}},[n,r]),o=A.exports.useMemo(()=>n.getState(),[n]);return xX(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==n.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]),M((e||Fl).Provider,{value:i,children:t})}function Cz(n=Fl){const e=n===Fl?mz:()=>A.exports.useContext(n);return function(){const{store:r}=e();return r}}const TX=Cz();function OX(n=Fl){const e=n===Fl?TX:Cz(n);return function(){return e().dispatch}}const PX=OX();iX(f4.exports.useSyncExternalStoreWithSelector);tX(Rr.exports.unstable_batchedUpdates);var zS={},zR=Rr.exports;zS.createRoot=zR.createRoot,zS.hydrateRoot=zR.hydrateRoot;var Fu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Fu||(Fu={}));var BR=function(n){return n},UR="beforeunload",AX="popstate";function RX(n){n===void 0&&(n={});var e=n,t=e.window,r=t===void 0?document.defaultView:t,i=r.history;function o(){var T=r.location,P=T.pathname,L=T.search,I=T.hash,O=i.state||{};return[O.idx,BR({pathname:P,search:L,hash:I,state:O.usr||null,key:O.key||"default"})]}var a=null;function s(){if(a)m.call(a),a=null;else{var T=Fu.Pop,P=o(),L=P[0],I=P[1];if(m.length){if(L!=null){var O=c-L;O&&(a={action:T,location:I,retry:function(){C(O*-1)}},C(O))}}else _(T)}}r.addEventListener(AX,s);var l=Fu.Pop,u=o(),c=u[0],d=u[1],h=VR(),m=VR();c==null&&(c=0,i.replaceState(Is({},i.state,{idx:c}),""));function g(T){return typeof T=="string"?T:NX(T)}function v(T,P){return P===void 0&&(P=null),BR(Is({pathname:d.pathname,hash:"",search:""},typeof T=="string"?Td(T):T,{state:P,key:IX()}))}function y(T,P){return[{usr:T.state,key:T.key,idx:P},g(T)]}function x(T,P,L){return!m.length||(m.call({action:T,location:P,retry:L}),!1)}function _(T){l=T;var P=o();c=P[0],d=P[1],h.call({action:l,location:d})}function b(T,P){var L=Fu.Push,I=v(T,P);function O(){b(T,P)}if(x(L,I,O)){var F=y(I,c+1),U=F[0],k=F[1];try{i.pushState(U,"",k)}catch{r.location.assign(k)}_(L)}}function S(T,P){var L=Fu.Replace,I=v(T,P);function O(){S(T,P)}if(x(L,I,O)){var F=y(I,c),U=F[0],k=F[1];i.replaceState(U,"",k),_(L)}}function C(T){i.go(T)}var E={get action(){return l},get location(){return d},createHref:g,push:b,replace:S,go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(P){return h.push(P)},block:function(P){var L=m.push(P);return m.length===1&&r.addEventListener(UR,HR),function(){L(),m.length||r.removeEventListener(UR,HR)}}};return E}function HR(n){n.preventDefault(),n.returnValue=""}function VR(){var n=[];return{get length(){return n.length},push:function(t){return n.push(t),function(){n=n.filter(function(r){return r!==t})}},call:function(t){n.forEach(function(r){return r&&r(t)})}}}function IX(){return Math.random().toString(36).substr(2,8)}function NX(n){var e=n.pathname,t=e===void 0?"/":e,r=n.search,i=r===void 0?"":r,o=n.hash,a=o===void 0?"":o;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Td(n){var e={};if(n){var t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));var r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Mz=A.exports.createContext(null),gE=A.exports.createContext(null),Dx=A.exports.createContext({outlet:null,matches:[]});function Da(n,e){if(!n)throw new Error(e)}function LX(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Td(e):e,i=Tz(r.pathname||"/",t);if(i==null)return null;let o=Ez(n);DX(o);let a=null;for(let s=0;a==null&&s<o.length;++s)a=WX(o[s],i);return a}function Ez(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,o)=>{let a={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||Da(!1),a.relativePath=a.relativePath.slice(r.length));let s=Ku([r,a.relativePath]),l=t.concat(a);i.children&&i.children.length>0&&(i.index===!0&&Da(!1),Ez(i.children,e,l,s)),!(i.path==null&&!i.index)&&e.push({path:s,score:VX(s,i.index),routesMeta:l})}),e}function DX(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GX(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const kX=/^:\w+$/,FX=3,zX=2,BX=1,UX=10,HX=-2,GR=n=>n==="*";function VX(n,e){let t=n.split("/"),r=t.length;return t.some(GR)&&(r+=HX),e&&(r+=zX),t.filter(i=>!GR(i)).reduce((i,o)=>i+(kX.test(o)?FX:o===""?BX:UX),r)}function GX(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function WX(n,e){let{routesMeta:t}=n,r={},i="/",o=[];for(let a=0;a<t.length;++a){let s=t[a],l=a===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=$X({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=s.route;o.push({params:r,pathname:Ku([i,c.pathname]),pathnameBase:Oz(Ku([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Ku([i,c.pathnameBase]))}return o}function $X(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=jX(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=s[d]||"";a=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=KX(s[d]||""),u},{}),pathname:o,pathnameBase:a,pattern:n}}function jX(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(a,s)=>(r.push(s),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=t?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function KX(n,e){try{return decodeURIComponent(n)}catch{return n}}function XX(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Td(n):n;return{pathname:t?t.startsWith("/")?t:YX(t,e):e,search:ZX(r),hash:JX(i)}}function YX(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function qX(n,e,t){let r=typeof n=="string"?Td(n):n,i=n===""||r.pathname===""?"/":r.pathname,o;if(i==null)o=t;else{let s=e.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),s-=1;r.pathname=l.join("/")}o=s>=0?e[s]:"/"}let a=XX(r,o);return i&&i!=="/"&&i.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function Tz(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=n.charAt(e.length);return t&&t!=="/"?null:n.slice(e.length)||"/"}const Ku=n=>n.join("/").replace(/\/\/+/g,"/"),Oz=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZX=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,JX=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function km(){return A.exports.useContext(gE)!=null}function Pz(){return km()||Da(!1),A.exports.useContext(gE).location}function kx(){km()||Da(!1);let{basename:n,navigator:e}=A.exports.useContext(Mz),{matches:t}=A.exports.useContext(Dx),{pathname:r}=Pz(),i=JSON.stringify(t.map(s=>s.pathnameBase)),o=A.exports.useRef(!1);return A.exports.useEffect(()=>{o.current=!0}),A.exports.useCallback(function(s,l){if(l===void 0&&(l={}),!o.current)return;if(typeof s=="number"){e.go(s);return}let u=qX(s,JSON.parse(i),r);n!=="/"&&(u.pathname=Ku([n,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[n,e,i,r])}function Fx(){let{matches:n}=A.exports.useContext(Dx),e=n[n.length-1];return e?e.params:{}}function QX(n,e){km()||Da(!1);let{matches:t}=A.exports.useContext(Dx),r=t[t.length-1],i=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let a=Pz(),s;if(e){var l;let h=typeof e=="string"?Td(e):e;o==="/"||((l=h.pathname)==null?void 0:l.startsWith(o))||Da(!1),s=h}else s=a;let u=s.pathname||"/",c=o==="/"?u:u.slice(o.length)||"/",d=LX(n,{pathname:c});return eY(d&&d.map(h=>Object.assign({},h,{params:Object.assign({},i,h.params),pathname:Ku([o,h.pathname]),pathnameBase:h.pathnameBase==="/"?o:Ku([o,h.pathnameBase])})),t)}function eY(n,e){return e===void 0&&(e=[]),n==null?null:n.reduceRight((t,r,i)=>A.exports.createElement(Dx.Provider,{children:r.route.element!==void 0?r.route.element:t,value:{outlet:t,matches:e.concat(n.slice(0,i+1))}}),null)}function tY(n){let{to:e,replace:t,state:r}=n;km()||Da(!1);let i=kx();return A.exports.useEffect(()=>{i(e,{replace:t,state:r})}),null}function qh(n){Da(!1)}function nY(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Fu.Pop,navigator:o,static:a=!1}=n;km()&&Da(!1);let s=Oz(e),l=A.exports.useMemo(()=>({basename:s,navigator:o,static:a}),[s,o,a]);typeof r=="string"&&(r=Td(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:m="default"}=r,g=A.exports.useMemo(()=>{let v=Tz(u,s);return v==null?null:{pathname:v,search:c,hash:d,state:h,key:m}},[s,u,c,d,h,m]);return g==null?null:A.exports.createElement(Mz.Provider,{value:l},A.exports.createElement(gE.Provider,{children:t,value:{location:g,navigationType:i}}))}function rY(n){let{children:e,location:t}=n;return QX(BS(e),t)}function BS(n){let e=[];return A.exports.Children.forEach(n,t=>{if(!A.exports.isValidElement(t))return;if(t.type===A.exports.Fragment){e.push.apply(e,BS(t.props.children));return}t.type!==qh&&Da(!1);let r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=BS(t.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iY(n){let{basename:e,children:t,window:r}=n,i=A.exports.useRef();i.current==null&&(i.current=RX({window:r}));let o=i.current,[a,s]=A.exports.useState({action:o.action,location:o.location});return A.exports.useLayoutEffect(()=>o.listen(s),[o]),A.exports.createElement(nY,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}var vE={exports:{}},Az=function(e,t){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(t,i)}},oY=Az,yE=Object.prototype.toString,xE=function(n){return function(e){var t=yE.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function fc(n){return n=n.toLowerCase(),function(t){return xE(t)===n}}function _E(n){return Array.isArray(n)}function Ky(n){return typeof n>"u"}function aY(n){return n!==null&&!Ky(n)&&n.constructor!==null&&!Ky(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var Rz=fc("ArrayBuffer");function sY(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Rz(n.buffer),e}function lY(n){return typeof n=="string"}function uY(n){return typeof n=="number"}function Iz(n){return n!==null&&typeof n=="object"}function fy(n){if(xE(n)!=="object")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}var cY=fc("Date"),fY=fc("File"),dY=fc("Blob"),hY=fc("FileList");function bE(n){return yE.call(n)==="[object Function]"}function pY(n){return Iz(n)&&bE(n.pipe)}function mY(n){var e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||yE.call(n)===e||bE(n.toString)&&n.toString()===e)}var gY=fc("URLSearchParams");function vY(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function yY(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function wE(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),_E(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.call(null,n[i],i,n)}function US(){var n={};function e(i,o){fy(n[o])&&fy(i)?n[o]=US(n[o],i):fy(i)?n[o]=US({},i):_E(i)?n[o]=i.slice():n[o]=i}for(var t=0,r=arguments.length;t<r;t++)wE(arguments[t],e);return n}function xY(n,e,t){return wE(e,function(i,o){t&&typeof i=="function"?n[o]=oY(i,t):n[o]=i}),n}function _Y(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function bY(n,e,t,r){n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,t&&Object.assign(n.prototype,t)}function wY(n,e,t){var r,i,o,a={};e=e||{};do{for(r=Object.getOwnPropertyNames(n),i=r.length;i-- >0;)o=r[i],a[o]||(e[o]=n[o],a[o]=!0);n=Object.getPrototypeOf(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e}function SY(n,e,t){n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return r!==-1&&r===t}function CY(n){if(!n)return null;var e=n.length;if(Ky(e))return null;for(var t=new Array(e);e-- >0;)t[e]=n[e];return t}var MY=function(n){return function(e){return n&&e instanceof n}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),$r={isArray:_E,isArrayBuffer:Rz,isBuffer:aY,isFormData:mY,isArrayBufferView:sY,isString:lY,isNumber:uY,isObject:Iz,isPlainObject:fy,isUndefined:Ky,isDate:cY,isFile:fY,isBlob:dY,isFunction:bE,isStream:pY,isURLSearchParams:gY,isStandardBrowserEnv:yY,forEach:wE,merge:US,extend:xY,trim:vY,stripBOM:_Y,inherits:bY,toFlatObject:wY,kindOf:xE,kindOfTest:fc,endsWith:SY,toArray:CY,isTypedArray:MY,isFileList:hY},Lc=$r;function WR(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Nz=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(Lc.isURLSearchParams(t))i=t.toString();else{var o=[];Lc.forEach(t,function(l,u){l===null||typeof l>"u"||(Lc.isArray(l)?u=u+"[]":l=[l],Lc.forEach(l,function(d){Lc.isDate(d)?d=d.toISOString():Lc.isObject(d)&&(d=JSON.stringify(d)),o.push(WR(u)+"="+WR(d))}))}),i=o.join("&")}if(i){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},EY=$r;function zx(){this.handlers=[]}zx.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};zx.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};zx.prototype.forEach=function(e){EY.forEach(this.handlers,function(r){r!==null&&e(r)})};var TY=zx,OY=$r,PY=function(e,t){OY.forEach(e,function(i,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[o])})},Lz=$r;function ad(n,e,t,r,i){Error.call(this),this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}Lz.inherits(ad,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Dz=ad.prototype,kz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){kz[n]={value:n}});Object.defineProperties(ad,kz);Object.defineProperty(Dz,"isAxiosError",{value:!0});ad.from=function(n,e,t,r,i,o){var a=Object.create(Dz);return Lz.toFlatObject(n,a,function(l){return l!==Error.prototype}),ad.call(a,n.message,e,t,r,i),a.name=n.name,o&&Object.assign(a,o),a};var Od=ad,Fz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zo=$r;function AY(n,e){e=e||new FormData;var t=[];function r(o){return o===null?"":Zo.isDate(o)?o.toISOString():Zo.isArrayBuffer(o)||Zo.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function i(o,a){if(Zo.isPlainObject(o)||Zo.isArray(o)){if(t.indexOf(o)!==-1)throw Error("Circular reference detected in "+a);t.push(o),Zo.forEach(o,function(l,u){if(!Zo.isUndefined(l)){var c=a?a+"."+u:u,d;if(l&&!a&&typeof l=="object"){if(Zo.endsWith(u,"{}"))l=JSON.stringify(l);else if(Zo.endsWith(u,"[]")&&(d=Zo.toArray(l))){d.forEach(function(h){!Zo.isUndefined(h)&&e.append(c,r(h))});return}}i(l,c)}}),t.pop()}else e.append(a,r(o))}return i(n),e}var zz=AY,fw=Od,RY=function(e,t,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new fw("Request failed with status code "+r.status,[fw.ERR_BAD_REQUEST,fw.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},ev=$r,IY=ev.isStandardBrowserEnv()?function(){return{write:function(t,r,i,o,a,s){var l=[];l.push(t+"="+encodeURIComponent(r)),ev.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),ev.isString(o)&&l.push("path="+o),ev.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){var r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),NY=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},LY=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},DY=NY,kY=LY,Bz=function(e,t){return e&&!DY(t)?kY(e,t):t},dw=$r,FY=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],zY=function(e){var t={},r,i,o;return e&&dw.forEach(e.split(`
`),function(s){if(o=s.indexOf(":"),r=dw.trim(s.substr(0,o)).toLowerCase(),i=dw.trim(s.substr(o+1)),r){if(t[r]&&FY.indexOf(r)>=0)return;r==="set-cookie"?t[r]=(t[r]?t[r]:[]).concat([i]):t[r]=t[r]?t[r]+", "+i:i}}),t},$R=$r,BY=$R.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),r;function i(o){var a=o;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(a){var s=$R.isString(a)?i(a):a;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}(),HS=Od,UY=$r;function Uz(n){HS.call(this,n??"canceled",HS.ERR_CANCELED),this.name="CanceledError"}UY.inherits(Uz,HS,{__CANCEL__:!0});var Bx=Uz,HY=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},Ph=$r,VY=RY,GY=IY,WY=Nz,$Y=Bz,jY=zY,KY=BY,XY=Fz,rs=Od,YY=Bx,qY=HY,jR=function(e){return new Promise(function(r,i){var o=e.data,a=e.headers,s=e.responseType,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}Ph.isFormData(o)&&Ph.isStandardBrowserEnv()&&delete a["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(d+":"+h)}var m=$Y(e.baseURL,e.url);c.open(e.method.toUpperCase(),WY(m,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function g(){if(!!c){var x="getAllResponseHeaders"in c?jY(c.getAllResponseHeaders()):null,_=!s||s==="text"||s==="json"?c.responseText:c.response,b={data:_,status:c.status,statusText:c.statusText,headers:x,config:e,request:c};VY(function(C){r(C),u()},function(C){i(C),u()},b),c=null}}if("onloadend"in c?c.onloadend=g:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(g)},c.onabort=function(){!c||(i(new rs("Request aborted",rs.ECONNABORTED,e,c)),c=null)},c.onerror=function(){i(new rs("Network Error",rs.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var _=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",b=e.transitional||XY;e.timeoutErrorMessage&&(_=e.timeoutErrorMessage),i(new rs(_,b.clarifyTimeoutError?rs.ETIMEDOUT:rs.ECONNABORTED,e,c)),c=null},Ph.isStandardBrowserEnv()){var v=(e.withCredentials||KY(m))&&e.xsrfCookieName?GY.read(e.xsrfCookieName):void 0;v&&(a[e.xsrfHeaderName]=v)}"setRequestHeader"in c&&Ph.forEach(a,function(_,b){typeof o>"u"&&b.toLowerCase()==="content-type"?delete a[b]:c.setRequestHeader(b,_)}),Ph.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&s!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(x){!c||(i(!x||x&&x.type?new YY:x),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),o||(o=null);var y=qY(m);if(y&&["http","https","file"].indexOf(y)===-1){i(new rs("Unsupported protocol "+y+":",rs.ERR_BAD_REQUEST,e));return}c.send(o)})},ZY=null,Pr=$r,KR=PY,XR=Od,JY=Fz,QY=zz,eq={"Content-Type":"application/x-www-form-urlencoded"};function YR(n,e){!Pr.isUndefined(n)&&Pr.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function tq(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=jR),n}function nq(n,e,t){if(Pr.isString(n))try{return(e||JSON.parse)(n),Pr.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var Ux={transitional:JY,adapter:tq(),transformRequest:[function(e,t){if(KR(t,"Accept"),KR(t,"Content-Type"),Pr.isFormData(e)||Pr.isArrayBuffer(e)||Pr.isBuffer(e)||Pr.isStream(e)||Pr.isFile(e)||Pr.isBlob(e))return e;if(Pr.isArrayBufferView(e))return e.buffer;if(Pr.isURLSearchParams(e))return YR(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Pr.isObject(e),i=t&&t["Content-Type"],o;if((o=Pr.isFileList(e))||r&&i==="multipart/form-data"){var a=this.env&&this.env.FormData;return QY(o?{"files[]":e}:e,a&&new a)}else if(r||i==="application/json")return YR(t,"application/json"),nq(e);return e}],transformResponse:[function(e){var t=this.transitional||Ux.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||i&&Pr.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?XR.from(a,XR.ERR_BAD_RESPONSE,this,null,this.response):a}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ZY},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Pr.forEach(["delete","get","head"],function(e){Ux.headers[e]={}});Pr.forEach(["post","put","patch"],function(e){Ux.headers[e]=Pr.merge(eq)});var SE=Ux,rq=$r,iq=SE,oq=function(e,t,r){var i=this||iq;return rq.forEach(r,function(a){e=a.call(i,e,t)}),e},Hz=function(e){return!!(e&&e.__CANCEL__)},qR=$r,hw=oq,aq=Hz,sq=SE,lq=Bx;function pw(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new lq}var uq=function(e){pw(e),e.headers=e.headers||{},e.data=hw.call(e,e.data,e.headers,e.transformRequest),e.headers=qR.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),qR.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||sq.adapter;return t(e).then(function(i){return pw(e),i.data=hw.call(e,i.data,i.headers,e.transformResponse),i},function(i){return aq(i)||(pw(e),i&&i.response&&(i.response.data=hw.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Ki=$r,Vz=function(e,t){t=t||{};var r={};function i(c,d){return Ki.isPlainObject(c)&&Ki.isPlainObject(d)?Ki.merge(c,d):Ki.isPlainObject(d)?Ki.merge({},d):Ki.isArray(d)?d.slice():d}function o(c){if(Ki.isUndefined(t[c])){if(!Ki.isUndefined(e[c]))return i(void 0,e[c])}else return i(e[c],t[c])}function a(c){if(!Ki.isUndefined(t[c]))return i(void 0,t[c])}function s(c){if(Ki.isUndefined(t[c])){if(!Ki.isUndefined(e[c]))return i(void 0,e[c])}else return i(void 0,t[c])}function l(c){if(c in t)return i(e[c],t[c]);if(c in e)return i(void 0,e[c])}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return Ki.forEach(Object.keys(e).concat(Object.keys(t)),function(d){var h=u[d]||o,m=h(d);Ki.isUndefined(m)&&h!==l||(r[d]=m)}),r},Gz={version:"0.27.2"},cq=Gz.version,cl=Od,CE={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){CE[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var ZR={};CE.transitional=function(e,t,r){function i(o,a){return"[Axios v"+cq+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return function(o,a,s){if(e===!1)throw new cl(i(a," has been removed"+(t?" in "+t:"")),cl.ERR_DEPRECATED);return t&&!ZR[a]&&(ZR[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,a,s):!0}};function fq(n,e,t){if(typeof n!="object")throw new cl("options must be an object",cl.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(n),i=r.length;i-- >0;){var o=r[i],a=e[o];if(a){var s=n[o],l=s===void 0||a(s,o,n);if(l!==!0)throw new cl("option "+o+" must be "+l,cl.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new cl("Unknown option "+o,cl.ERR_BAD_OPTION)}}var dq={assertOptions:fq,validators:CE},Wz=$r,hq=Nz,JR=TY,QR=uq,Hx=Vz,pq=Bz,$z=dq,Dc=$z.validators;function sd(n){this.defaults=n,this.interceptors={request:new JR,response:new JR}}sd.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Hx(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&$z.assertOptions(r,{silentJSONParsing:Dc.transitional(Dc.boolean),forcedJSONParsing:Dc.transitional(Dc.boolean),clarifyTimeoutError:Dc.transitional(Dc.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(o=o&&m.synchronous,i.unshift(m.fulfilled,m.rejected))});var a=[];this.interceptors.response.forEach(function(m){a.push(m.fulfilled,m.rejected)});var s;if(!o){var l=[QR,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(a),s=Promise.resolve(t);l.length;)s=s.then(l.shift(),l.shift());return s}for(var u=t;i.length;){var c=i.shift(),d=i.shift();try{u=c(u)}catch(h){d(h);break}}try{s=QR(u)}catch(h){return Promise.reject(h)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};sd.prototype.getUri=function(e){e=Hx(this.defaults,e);var t=pq(e.baseURL,e.url);return hq(t,e.params,e.paramsSerializer)};Wz.forEach(["delete","get","head","options"],function(e){sd.prototype[e]=function(t,r){return this.request(Hx(r||{},{method:e,url:t,data:(r||{}).data}))}});Wz.forEach(["post","put","patch"],function(e){function t(r){return function(o,a,s){return this.request(Hx(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}sd.prototype[e]=t(),sd.prototype[e+"Form"]=t(!0)});var mq=sd,gq=Bx;function ld(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var t=this;this.promise.then(function(r){if(!!t._listeners){var i,o=t._listeners.length;for(i=0;i<o;i++)t._listeners[i](r);t._listeners=null}}),this.promise.then=function(r){var i,o=new Promise(function(a){t.subscribe(a),i=a}).then(r);return o.cancel=function(){t.unsubscribe(i)},o},n(function(i){t.reason||(t.reason=new gq(i),e(t.reason))})}ld.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ld.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};ld.prototype.unsubscribe=function(e){if(!!this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};ld.source=function(){var e,t=new ld(function(i){e=i});return{token:t,cancel:e}};var vq=ld,yq=function(e){return function(r){return e.apply(null,r)}},xq=$r,_q=function(e){return xq.isObject(e)&&e.isAxiosError===!0},eI=$r,bq=Az,dy=mq,wq=Vz,Sq=SE;function jz(n){var e=new dy(n),t=bq(dy.prototype.request,e);return eI.extend(t,dy.prototype,e),eI.extend(t,e),t.create=function(i){return jz(wq(n,i))},t}var zi=jz(Sq);zi.Axios=dy;zi.CanceledError=Bx;zi.CancelToken=vq;zi.isCancel=Hz;zi.VERSION=Gz.version;zi.toFormData=zz;zi.AxiosError=Od;zi.Cancel=zi.CanceledError;zi.all=function(e){return Promise.all(e)};zi.spread=yq;zi.isAxiosError=_q;vE.exports=zi;vE.exports.default=zi;var Cq=vE.exports;const Kz=({baseURL:n,headers:e,timeout:t=3e3})=>{const r={baseURL:n,timeout:t,headers:e},i=Cq.create(r);return i.interceptors.request.use(function(o){let a="";return window.location.pathname.includes("/studio/")&&(a=window.location.pathname.split("/studio/")[1].split("/")[0]),o.headers["x-access-token"]=localStorage.getItem(a||""),o},function(o){return Promise.reject(o)}),i.interceptors.response.use(function({data:o}){return Promise.resolve(o)},function(o){let a="";return window.location.pathname.includes("/studio/")&&(a=window.location.pathname.split("/studio/")[1].split("/")[0]),o&&o.response&&o.response.status===403?window.location.href=`/auth/project/${a}`:console.error(o),Promise.reject(o)}),i},Pd=Kz({baseURL:"https://ttmc72.apps.bytedance.net/api/",timeout:5e3,headers:{"Content-type":"application/json"}}),Mq=Kz({baseURL:"https://ttmc72.apps.bytedance.net/api/",timeout:5e3,headers:{"Content-Type":"multipart/form-data"}});async function Eq(){return await Pd.get("/v1/general/list")}async function Tq(n){return await Pd.post("/v1/general",JSON.stringify(n))}async function Oq(n,e){return await Pd.put(`/v1/studio/${n}`,e)}async function Pq(n){return await Pd.post("/v1/auth",n)}async function Xz(n){return await Pd.get(`/v1/studio/${n}`)}async function Aq(n){return await Pd.get(`/v1/studio/${n}/scene`)}async function Rq(n,e){const t=new FormData;return t.append("file",new Blob([e.content],{type:"text/json"})),await Mq.post(`/v1/studio/${n}/assets/scene`,t)}function Ft(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var kt=A.exports.createContext({prefixCls:"arco"});function tI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function nI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Iq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=nI(nI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-caret-down")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{fill:"currentColor",stroke:"none",d:"M24.938 34.829a1.2 1.2 0 0 1-1.875 0L9.56 17.949c-.628-.785-.069-1.949.937-1.949h27.007c1.006 0 1.565 1.164.937 1.95L24.937 34.829Z"})}))}var ME=Ce.forwardRef(Iq);ME.defaultProps={isIcon:!0};ME.displayName="IconCaretDown";var Yz=ME;function rI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function iI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Nq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=iI(iI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-caret-left")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{fill:"currentColor",stroke:"none",d:"M13.171 24.937a1.2 1.2 0 0 1 0-1.874L30.051 9.56c.785-.629 1.949-.07 1.949.937v27.006c0 1.006-1.164 1.566-1.95.937L13.171 24.937Z"})}))}var EE=Ce.forwardRef(Nq);EE.defaultProps={isIcon:!0};EE.displayName="IconCaretLeft";var Lq=EE;function oI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function aI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=aI(aI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-caret-right")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{fill:"currentColor",stroke:"none",d:"M34.829 23.063c.6.48.6 1.394 0 1.874L17.949 38.44c-.785.629-1.949.07-1.949-.937V10.497c0-1.007 1.164-1.566 1.95-.937l16.879 13.503Z"})}))}var TE=Ce.forwardRef(Dq);TE.defaultProps={isIcon:!0};TE.displayName="IconCaretRight";var kq=TE;function sI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Fq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=lI(lI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-caret-up")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{fill:"currentColor",stroke:"none",d:"M23.063 13.171a1.2 1.2 0 0 1 1.875 0l13.503 16.88c.628.785.069 1.949-.937 1.949H10.497c-1.006 0-1.565-1.164-.937-1.95l13.503-16.879Z"})}))}var OE=Ce.forwardRef(Fq);OE.defaultProps={isIcon:!0};OE.displayName="IconCaretUp";var zq=OE;function uI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Bq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=cI(cI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-down")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M39.6 17.443 24.043 33 8.487 17.443"})}))}var PE=Ce.forwardRef(Bq);PE.defaultProps={isIcon:!0};PE.displayName="IconDown";var Ad=PE;function fI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Uq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=dI(dI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-drag-arrow")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M7 24h34M24 7v34M30 12l-6-6-6 6M36 30l6-6-6-6M12 30l-6-6 6-6M18 36l6 6 6-6"})}))}var AE=Ce.forwardRef(Uq);AE.defaultProps={isIcon:!0};AE.displayName="IconDragArrow";var Hq=AE;function hI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function pI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Vq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=pI(pI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-expand")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M7 26v14c0 .552.444 1 .996 1H22m19-19V8c0-.552-.444-1-.996-1H26"})}))}var RE=Ce.forwardRef(Vq);RE.defaultProps={isIcon:!0};RE.displayName="IconExpand";var Gq=RE;function mI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function gI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=gI(gI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-left")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M32 8.4 16.444 23.956 32 39.513"})}))}var IE=Ce.forwardRef(Wq);IE.defaultProps={isIcon:!0};IE.displayName="IconLeft";var Xp=IE;function vI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $q(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=yI(yI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-menu-fold")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M42 11H6M42 24H22M42 37H6M13.66 26.912l-4.82-3.118 4.82-3.118v6.236Z"})}))}var NE=Ce.forwardRef($q);NE.defaultProps={isIcon:!0};NE.displayName="IconMenuFold";var jq=NE;function xI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _I(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Kq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=_I(_I({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-menu-unfold")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M6 11h36M22 24h20M6 37h36M8 20.882 12.819 24 8 27.118v-6.236Z"})}))}var LE=Ce.forwardRef(Kq);LE.defaultProps={isIcon:!0};LE.displayName="IconMenuUnfold";var Xq=LE;function bI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Yq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=wI(wI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-right")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"m16 39.513 15.556-15.557L16 8.4"})}))}var DE=Ce.forwardRef(Yq);DE.defaultProps={isIcon:!0};DE.displayName="IconRight";var Yp=DE;function SI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=CI(CI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-up")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M39.6 30.557 24.043 15 8.487 30.557"})}))}var kE=Ce.forwardRef(qq);kE.defaultProps={isIcon:!0};kE.displayName="IconUp";var FE=kE;function MI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function EI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Zq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=EI(EI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-check-circle-fill")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm10.207-24.379a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0L22 26.172l-4.878-4.88a1 1 0 0 0-1.415 0l-1.414 1.415a1 1 0 0 0 0 1.414l7 7a1 1 0 0 0 1.414 0l11.5-11.5Z",clipRule:"evenodd"})}))}var zE=Ce.forwardRef(Zq);zE.defaultProps={isIcon:!0};zE.displayName="IconCheckCircleFill";var Vx=zE;function TI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function OI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=OI(OI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-close-circle-fill")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm4.955-27.771-4.95 4.95-4.95-4.95a1 1 0 0 0-1.414 0l-1.414 1.414a1 1 0 0 0 0 1.414l4.95 4.95-4.95 4.95a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l4.95-4.95 4.95 4.95a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-4.95-4.95 4.95-4.95a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0Z",clipRule:"evenodd"})}))}var BE=Ce.forwardRef(Jq);BE.defaultProps={isIcon:!0};BE.displayName="IconCloseCircleFill";var UE=BE;function PI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function AI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Qq(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=AI(AI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-exclamation-circle-fill")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm-2-11a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2Zm4-18a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V15Z",clipRule:"evenodd"})}))}var HE=Ce.forwardRef(Qq);HE.defaultProps={isIcon:!0};HE.displayName="IconExclamationCircleFill";var Xy=HE;function RI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function II(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=II(II({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-info-circle-fill")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm2-30a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2Zm0 17h1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h1v-8a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v11Z",clipRule:"evenodd"})}))}var VE=Ce.forwardRef(eZ);VE.defaultProps={isIcon:!0};VE.displayName="IconInfoCircleFill";var GE=VE;function NI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function LI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=LI(LI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-close")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M9.857 9.858 24 24m0 0 14.142 14.142M24 24 38.142 9.858M24 24 9.857 38.142"})}))}var WE=Ce.forwardRef(tZ);WE.defaultProps={isIcon:!0};WE.displayName="IconClose";var ka=WE;function DI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=kI(kI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-minus")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M5 24h38"})}))}var $E=Ce.forwardRef(nZ);$E.defaultProps={isIcon:!0};$E.displayName="IconMinus";var rZ=$E;function FI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=zI(zI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-plus")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M5 24h38M24 5v38"})}))}var jE=Ce.forwardRef(iZ);jE.defaultProps={isIcon:!0};jE.displayName="IconPlus";var KE=jE;function BI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function UI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function oZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=UI(UI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-download")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"m33.072 22.071-9.07 9.071-9.072-9.07M24 5v26m16 4v6H8v-6"})}))}var XE=Ce.forwardRef(oZ);XE.defaultProps={isIcon:!0};XE.displayName="IconDownload";var VS=XE;function HI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function VI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=VI(VI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-eye-invisible")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,We("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:[M("path",{d:"M14 14.5c-2.69 2-5.415 5.33-8 9.5 5.373 8.667 11.373 13 18 13 3.325 0 6.491-1.09 9.5-3.271M17.463 12.5C19 11 21.75 11 24 11c6.627 0 12.627 4.333 18 13-1.766 2.848-3.599 5.228-5.5 7.14"}),M("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0ZM6.852 7.103l34.294 34.294"})]}))}var YE=Ce.forwardRef(aZ);YE.defaultProps={isIcon:!0};YE.displayName="IconEyeInvisible";var qE=YE;function GI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function WI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=WI(WI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-eye")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,We("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:[M("path",{d:"M24 37c6.627 0 12.627-4.333 18-13-5.373-8.667-11.373-13-18-13-6.627 0-12.627 4.333-18 13 5.373 8.667 11.373 13 18 13Z",clipRule:"evenodd"}),M("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"})]}))}var ZE=Ce.forwardRef(sZ);ZE.defaultProps={isIcon:!0};ZE.displayName="IconEye";var JE=ZE;function $I(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function jI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$I(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=jI(jI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-more")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,We("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:[M("path",{fill:"currentColor",stroke:"none",d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z"}),M("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z"})]}))}var QE=Ce.forwardRef(lZ);QE.defaultProps={isIcon:!0};QE.displayName="IconMore";var eT=QE;function KI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function XI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=XI(XI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-search")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M33.072 33.071c6.248-6.248 6.248-16.379 0-22.627-6.249-6.249-16.38-6.249-22.628 0-6.248 6.248-6.248 16.379 0 22.627 6.248 6.248 16.38 6.248 22.628 0Zm0 0 8.485 8.485"})}))}var tT=Ce.forwardRef(uZ);tT.defaultProps={isIcon:!0};tT.displayName="IconSearch";var GS=tT;function YI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=qI(qI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-copy")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M20 6h18a2 2 0 0 1 2 2v22M8 16v24c0 1.105.891 2 1.996 2h20.007A1.99 1.99 0 0 0 32 40.008V15.997A1.997 1.997 0 0 0 30 14H10a2 2 0 0 0-2 2Z"})}))}var nT=Ce.forwardRef(cZ);nT.defaultProps={isIcon:!0};nT.displayName="IconCopy";var fZ=nT;function ZI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function JI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=JI(JI({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-delete")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"})}))}var rT=Ce.forwardRef(dZ);rT.defaultProps={isIcon:!0};rT.displayName="IconDelete";var hZ=rT;function QI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function eN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=eN(eN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-edit")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"m30.48 19.038 5.733-5.734a1 1 0 0 0 0-1.414l-5.586-5.586a1 1 0 0 0-1.414 0l-5.734 5.734m7 7L15.763 33.754a1 1 0 0 1-.59.286l-6.048.708a1 1 0 0 1-1.113-1.069l.477-6.31a1 1 0 0 1 .29-.631l14.7-14.7m7 7-7-7M6 42h36"})}))}var iT=Ce.forwardRef(pZ);iT.defaultProps={isIcon:!0};iT.displayName="IconEdit";var mZ=iT;function tN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function nN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=nN(nN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-paste")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,We("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:[M("rect",{width:"24",height:"28",x:"8",y:"14",rx:"1"}),M("path",{fill:"currentColor",stroke:"none",d:"M24 6h.01v.01H24V6ZM32 6h.01v.01H32V6ZM40 6h.01v.01H40V6ZM40 13h.01v.01H40V13ZM40 21h.01v.01H40V21Z"}),M("path",{d:"M24 6h.01v.01H24V6ZM32 6h.01v.01H32V6ZM40 6h.01v.01H40V6ZM40 13h.01v.01H40V13ZM40 21h.01v.01H40V21Z"})]}))}var oT=Ce.forwardRef(gZ);oT.defaultProps={isIcon:!0};oT.displayName="IconPaste";var WS=oT;function rN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function iN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=iN(iN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-undo")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"m15.322 23.78-7.778-7.778 7.778-7.778M8.81 16H29.5C35.851 16 41 21.15 41 27.5 41 33.852 35.851 39 29.5 39H17"})}))}var aT=Ce.forwardRef(vZ);aT.defaultProps={isIcon:!0};aT.displayName="IconUndo";var yZ=aT;function oN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function aN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=aN(aN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-fullscreen")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M42 17V9a1 1 0 0 0-1-1h-8M6 17V9a1 1 0 0 1 1-1h8m27 23v8a1 1 0 0 1-1 1h-8M6 31v8a1 1 0 0 0 1 1h8"})}))}var sT=Ce.forwardRef(xZ);sT.defaultProps={isIcon:!0};sT.displayName="IconFullscreen";var _Z=sT;function sN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=lN(lN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-camera")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"m33 12-1.862-3.724A.5.5 0 0 0 30.691 8H17.309a.5.5 0 0 0-.447.276L15 12m16 14a7 7 0 1 1-14 0 7 7 0 0 1 14 0ZM7 40h34a1 1 0 0 0 1-1V13a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v26a1 1 0 0 0 1 1Z"})}))}var lT=Ce.forwardRef(bZ);lT.defaultProps={isIcon:!0};lT.displayName="IconCamera";var wZ=lT;function uN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=cN(cN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-common")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M24 23 7.652 14.345M24 23l16.366-8.664M24 23v19.438M7 14v20l17 9 17-9V14L24 5 7 14Z"})}))}var uT=Ce.forwardRef(SZ);uT.defaultProps={isIcon:!0};uT.displayName="IconCommon";var CZ=uT;function fN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function MZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=dN(dN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-drag-dot-vertical")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,We("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:[M("path",{fill:"currentColor",stroke:"none",d:"M17 8h2v2h-2V8ZM17 23h2v2h-2v-2ZM17 38h2v2h-2v-2ZM29 8h2v2h-2V8ZM29 23h2v2h-2v-2ZM29 38h2v2h-2v-2Z"}),M("path",{d:"M17 8h2v2h-2V8ZM17 23h2v2h-2v-2ZM17 38h2v2h-2v-2ZM29 8h2v2h-2V8ZM29 23h2v2h-2v-2ZM29 38h2v2h-2v-2Z"})]}))}var cT=Ce.forwardRef(MZ);cT.defaultProps={isIcon:!0};cT.displayName="IconDragDotVertical";var qz=cT;function hN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function pN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function EZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=pN(pN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-drag-dot")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,We("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:[M("path",{fill:"currentColor",stroke:"none",d:"M40 17v2h-2v-2h2ZM25 17v2h-2v-2h2ZM10 17v2H8v-2h2ZM40 29v2h-2v-2h2ZM25 29v2h-2v-2h2ZM10 29v2H8v-2h2Z"}),M("path",{d:"M40 17v2h-2v-2h2ZM25 17v2h-2v-2h2ZM10 17v2H8v-2h2ZM40 29v2h-2v-2h2ZM25 29v2h-2v-2h2ZM10 29v2H8v-2h2Z"})]}))}var fT=Ce.forwardRef(EZ);fT.defaultProps={isIcon:!0};fT.displayName="IconDragDot";var TZ=fT;function mN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function gN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function OZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=gN(gN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-empty")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M24 5v6m7 1 4-4m-18 4-4-4m28.5 22H28s-1 3-4 3-4-3-4-3H6.5M40 41H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"})}))}var dT=Ce.forwardRef(OZ);dT.defaultProps={isIcon:!0};dT.displayName="IconEmpty";var PZ=dT;function vN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function AZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=yN(yN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-file-image")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"m26 33 5-6v6h-5Zm0 0-3-4-4 4h7Zm11 9H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2ZM17 19h1v1h-1v-1Z"})}))}var hT=Ce.forwardRef(AZ);hT.defaultProps={isIcon:!0};hT.displayName="IconFileImage";var $S=hT;function xN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _N(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=_N(_N({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-file-video")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,We("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:[M("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"}),M("path",{d:"M22 27.796v-6l5 3-5 3Z"})]}))}var pT=Ce.forwardRef(RZ);pT.defaultProps={isIcon:!0};pT.displayName="IconFileVideo";var IZ=pT;function bN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=wN(wN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-file")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M16 21h16m-16 8h10m11 13H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"})}))}var mT=Ce.forwardRef(NZ);mT.defaultProps={isIcon:!0};mT.displayName="IconFile";var LZ=mT;function SN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function DZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=CN(CN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-folder-add")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M24 19v14m-7-7h14M6 13h18l-2.527-3.557a1.077 1.077 0 0 0-.88-.443H7.06C6.474 9 6 9.448 6 10v3Zm0 0h33.882c1.17 0 2.118.895 2.118 2v21c0 1.105-.948 3-2.118 3H8.118C6.948 39 6 38.105 6 37V13Z"})}))}var gT=Ce.forwardRef(DZ);gT.defaultProps={isIcon:!0};gT.displayName="IconFolderAdd";var MN=gT;function EN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function TN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=TN(TN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-folder")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M6 13h18l-2.527-3.557a1.077 1.077 0 0 0-.88-.443H7.06C6.474 9 6 9.448 6 10v3Zm0 0h33.882c1.17 0 2.118.895 2.118 2v21c0 1.105-.948 3-2.118 3H8.118C6.948 39 6 38.105 6 37V13Z"})}))}var vT=Ce.forwardRef(kZ);vT.defaultProps={isIcon:!0};vT.displayName="IconFolder";var FZ=vT;function ON(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function PN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ON(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=PN(PN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-image-close")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,We("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:[M("path",{d:"M41 26V9a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v30a2 2 0 0 0 2 2h17"}),M("path",{d:"m24 33 9-8.5V27s-2 1-3.5 2.5C27.841 31.159 27 33 27 33h-3Zm0 0-3.5-4.5L17 33h7Z"}),M("path",{fill:"currentColor",stroke:"none",d:"M20.5 28.5 17 33h7l-3.5-4.5ZM33 24.5 24 33h3s.841-1.841 2.5-3.5C31 28 33 27 33 27v-2.5Z"}),M("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M46 38a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-4.95-4.782 1.74 1.74-3.045 3.046 3.046 3.046-1.74 1.74-3.047-3.045-3.046 3.046-1.74-1.74 3.046-3.047-3.046-3.046 1.74-1.74 3.046 3.046 3.046-3.046Z",clipRule:"evenodd"}),M("path",{d:"M17 15h-2v2h2v-2Z"})]}))}var yT=Ce.forwardRef(zZ);yT.defaultProps={isIcon:!0};yT.displayName="IconImageClose";var AN=yT;function RN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function IN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function BZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=IN(IN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-loading")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6"})}))}var xT=Ce.forwardRef(BZ);xT.defaultProps={isIcon:!0};xT.displayName="IconLoading";var dc=xT;function NN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function LN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function UZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=LN(LN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-location")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,We("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:[M("circle",{cx:"24",cy:"19",r:"5"}),M("path",{d:"M39 20.405C39 28.914 24 43 24 43S9 28.914 9 20.405C9 11.897 15.716 5 24 5c8.284 0 15 6.897 15 15.405Z"})]}))}var _T=Ce.forwardRef(UZ);_T.defaultProps={isIcon:!0};_T.displayName="IconLocation";var DN=_T;function kN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function FN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=FN(FN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-loop")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M24 38c-7.732 0-14-6.268-14-14 0-3.815 1.526-7.273 4-9.798M24 10c7.732 0 14 6.268 14 14 0 3.815-1.526 7.273-4 9.798M24 7v6l-4-3 4-3Zm0 33v-6l4 3-4 3Z"})}))}var bT=Ce.forwardRef(HZ);bT.defaultProps={isIcon:!0};bT.displayName="IconLoop";var VZ=bT;function zN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function BN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function GZ(n,e){var t=A.exports.useContext(kt),r=t.prefixCls,i=r===void 0?"arco":r,o=n.spin,a=n.className,s=BN(BN({"aria-hidden":!0,focusable:!1,ref:e},n),{},{className:"".concat(a?a+" ":"").concat(i,"-icon ").concat(i,"-icon-public")});return o&&(s.className="".concat(s.className," ").concat(i,"-icon-loading")),delete s.spin,delete s.isIcon,M("svg",lt(Be({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},s),{children:M("path",{d:"M15 21.5 6.704 19M15 21.5l4.683 5.152a1 1 0 0 1 .25.814L18 40.976l10.918-16.117a1 1 0 0 0-.298-1.409L21.5 19 15 21.5Zm0 0 6.062-6.995a1 1 0 0 0 .138-1.103L18 7.024M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"})}))}var wT=Ce.forwardRef(GZ);wT.defaultProps={isIcon:!0};wT.displayName="IconPublic";var WZ=wT;function jS(n,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jS(n,e)}function Gx(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,jS(n,e)}function $Z(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function jZ(n,e){n.classList?n.classList.add(e):$Z(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function UN(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function KZ(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=UN(n.className,e):n.setAttribute("class",UN(n.className&&n.className.baseVal||"",e))}var HN={disabled:!1},Yy=Ce.createContext(null),Zh="unmounted",xu="exited",_u="entering",lf="entered",KS="exiting",Fs=function(n){Gx(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?s?(l=xu,o.appearStatus=_u):l=lf:r.unmountOnExit||r.mountOnEnter?l=Zh:l=xu,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Zh?{status:xu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==_u&&a!==lf&&(o=_u):(a===_u||a===lf)&&(o=KS)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},t.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===_u?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===xu&&this.setState({status:Zh})},t.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[Ts.findDOMNode(this),s],u=l[0],c=l[1],d=this.getTimeouts(),h=s?d.appear:d.enter;if(!i&&!a||HN.disabled){this.safeSetState({status:lf},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:_u},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:lf},function(){o.props.onEntered(u,c)})})})},t.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:Ts.findDOMNode(this);if(!o||HN.disabled){this.safeSetState({status:xu},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:KS},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:xu},function(){i.props.onExited(s)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Ts.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Zh)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=dx(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ce.createElement(Yy.Provider,{value:null},typeof a=="function"?a(i,s):Ce.cloneElement(Ce.Children.only(a),s))},e}(Ce.Component);Fs.contextType=Yy;Fs.propTypes={};function kc(){}Fs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:kc,onEntering:kc,onEntered:kc,onExit:kc,onExiting:kc,onExited:kc};Fs.UNMOUNTED=Zh;Fs.EXITED=xu;Fs.ENTERING=_u;Fs.ENTERED=lf;Fs.EXITING=KS;var XZ=Fs,YZ=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return jZ(e,r)})},mw=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return KZ(e,r)})},ST=function(n){Gx(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n.call.apply(n,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(s,l){var u=r.resolveArguments(s,l),c=u[0],d=u[1];r.removeClasses(c,"exit"),r.addClass(c,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(s,l)},r.onEntering=function(s,l){var u=r.resolveArguments(s,l),c=u[0],d=u[1],h=d?"appear":"enter";r.addClass(c,h,"active"),r.props.onEntering&&r.props.onEntering(s,l)},r.onEntered=function(s,l){var u=r.resolveArguments(s,l),c=u[0],d=u[1],h=d?"appear":"enter";r.removeClasses(c,h),r.addClass(c,h,"done"),r.props.onEntered&&r.props.onEntered(s,l)},r.onExit=function(s){var l=r.resolveArguments(s),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(s)},r.onExiting=function(s){var l=r.resolveArguments(s),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(s)},r.onExited=function(s){var l=r.resolveArguments(s),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(s)},r.resolveArguments=function(s,l){return r.props.nodeRef?[r.props.nodeRef.current,s]:[s,l]},r.getClassNames=function(s){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",d=u?""+c+s:l[s],h=u?d+"-active":l[s+"Active"],m=u?d+"-done":l[s+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:m}},r}var t=e.prototype;return t.addClass=function(i,o,a){var s=this.getClassNames(o)[a+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;o==="appear"&&a==="done"&&u&&(s+=" "+u),a==="active"&&i&&i.scrollTop,s&&(this.appliedClasses[o][a]=s,YZ(i,s))},t.removeClasses=function(i,o){var a=this.appliedClasses[o],s=a.base,l=a.active,u=a.done;this.appliedClasses[o]={},s&&mw(i,s),l&&mw(i,l),u&&mw(i,u)},t.render=function(){var i=this.props;i.classNames;var o=dx(i,["classNames"]);return Ce.createElement(XZ,Is({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Ce.Component);ST.defaultProps={classNames:""};ST.propTypes={};var Fa=ST;function qZ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function CT(n,e){var t=function(o){return e&&A.exports.isValidElement(o)?e(o):o},r=Object.create(null);return n&&A.exports.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function ZZ(n,e){n=n||{},e=e||{};function t(c){return c in e?e[c]:n[c]}var r=Object.create(null),i=[];for(var o in n)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var l in e){if(r[l])for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=t(u)}s[l]=t(l)}for(a=0;a<i.length;a++)s[i[a]]=t(i[a]);return s}function zu(n,e,t){return t[e]!=null?t[e]:n.props[e]}function JZ(n,e){return CT(n.children,function(t){return A.exports.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:zu(t,"appear",n),enter:zu(t,"enter",n),exit:zu(t,"exit",n)})})}function QZ(n,e,t){var r=CT(n.children),i=ZZ(e,r);return Object.keys(i).forEach(function(o){var a=i[o];if(!!A.exports.isValidElement(a)){var s=o in e,l=o in r,u=e[o],c=A.exports.isValidElement(u)&&!u.props.in;l&&(!s||c)?i[o]=A.exports.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:zu(a,"exit",n),enter:zu(a,"enter",n)}):!l&&s&&!c?i[o]=A.exports.cloneElement(a,{in:!1}):l&&s&&A.exports.isValidElement(u)&&(i[o]=A.exports.cloneElement(a,{onExited:t.bind(null,a),in:u.props.in,exit:zu(a,"exit",n),enter:zu(a,"enter",n)}))}}),i}var eJ=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},tJ={component:"div",childFactory:function(e){return e}},MT=function(n){Gx(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var a=o.handleExited.bind(qZ(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,l=o.firstRender;return{children:l?JZ(i,s):QZ(i,a,s),firstRender:!1}},t.handleExited=function(i,o){var a=CT(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var l=Is({},s.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=dx(i,["component","childFactory"]),l=this.state.contextValue,u=eJ(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?Ce.createElement(Yy.Provider,{value:l},u):Ce.createElement(Yy.Provider,{value:l},Ce.createElement(o,s,u))},e}(Ce.Component);MT.propTypes={};MT.defaultProps=tJ;var ET=MT,Wx=Object.prototype.toString;function gr(n){return Wx.call(n)==="[object Array]"}function Dt(n){return Wx.call(n)==="[object Object]"}function Fm(n){return Wx.call(n)==="[object String]"}function rn(n){return Wx.call(n)==="[object Number]"&&n===n}function Ra(n){return n===void 0}function Xt(n){return typeof n=="function"}function Zz(n){return Dt(n)&&Object.keys(n).length===0}var nJ=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},rJ=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function Ye(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=n.length,r=[],i=function(a){var s=n[a];if(!s)return"continue";Fm(s)?r.push(s):gr(s)?r=r.concat(s):Dt(s)&&Object.keys(s).forEach(function(l){s[l]&&r.push(l)})},o=0;o<t;o++)i(o);return rJ([],nJ(new Set(r)),!1).join(" ")}var iJ={exports:{}},Jz={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fa,function(){var t=1e3,r=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",u="day",c="week",d="month",h="quarter",m="year",g="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},b=function(U,k,H){var $=String(U);return!$||$.length>=k?U:""+Array(k+1-$.length).join(H)+U},S={s:b,z:function(U){var k=-U.utcOffset(),H=Math.abs(k),$=Math.floor(H/60),V=H%60;return(k<=0?"+":"-")+b($,2,"0")+":"+b(V,2,"0")},m:function U(k,H){if(k.date()<H.date())return-U(H,k);var $=12*(H.year()-k.year())+(H.month()-k.month()),V=k.clone().add($,d),N=H-V<0,W=k.clone().add($+(N?-1:1),d);return+(-($+(H-V)/(N?V-W:W-V))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:m,w:c,d:u,D:g,h:l,m:s,s:a,ms:o,Q:h}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},C="en",E={};E[C]=_;var T=function(U){return U instanceof O},P=function U(k,H,$){var V;if(!k)return C;if(typeof k=="string"){var N=k.toLowerCase();E[N]&&(V=N),H&&(E[N]=H,V=N);var W=k.split("-");if(!V&&W.length>1)return U(W[0])}else{var ee=k.name;E[ee]=k,V=ee}return!$&&V&&(C=V),V||!$&&C},L=function(U,k){if(T(U))return U.clone();var H=typeof k=="object"?k:{};return H.date=U,H.args=arguments,new O(H)},I=S;I.l=P,I.i=T,I.w=function(U,k){return L(U,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var O=function(){function U(H){this.$L=P(H.locale,null,!0),this.parse(H)}var k=U.prototype;return k.parse=function(H){this.$d=function($){var V=$.date,N=$.utc;if(V===null)return new Date(NaN);if(I.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var W=V.match(y);if(W){var ee=W[2]-1||0,j=(W[7]||"0").substring(0,3);return N?new Date(Date.UTC(W[1],ee,W[3]||1,W[4]||0,W[5]||0,W[6]||0,j)):new Date(W[1],ee,W[3]||1,W[4]||0,W[5]||0,W[6]||0,j)}}return new Date(V)}(H),this.$x=H.x||{},this.init()},k.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},k.$utils=function(){return I},k.isValid=function(){return this.$d.toString()!==v},k.isSame=function(H,$){var V=L(H);return this.startOf($)<=V&&V<=this.endOf($)},k.isAfter=function(H,$){return L(H)<this.startOf($)},k.isBefore=function(H,$){return this.endOf($)<L(H)},k.$g=function(H,$,V){return I.u(H)?this[$]:this.set(V,H)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(H,$){var V=this,N=!!I.u($)||$,W=I.p(H),ee=function(be,ke){var he=I.w(V.$u?Date.UTC(V.$y,ke,be):new Date(V.$y,ke,be),V);return N?he:he.endOf(u)},j=function(be,ke){return I.w(V.toDate()[be].apply(V.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(ke)),V)},G=this.$W,ne=this.$M,ye=this.$D,xe="set"+(this.$u?"UTC":"");switch(W){case m:return N?ee(1,0):ee(31,11);case d:return N?ee(1,ne):ee(0,ne+1);case c:var oe=this.$locale().weekStart||0,de=(G<oe?G+7:G)-oe;return ee(N?ye-de:ye+(6-de),ne);case u:case g:return j(xe+"Hours",0);case l:return j(xe+"Minutes",1);case s:return j(xe+"Seconds",2);case a:return j(xe+"Milliseconds",3);default:return this.clone()}},k.endOf=function(H){return this.startOf(H,!1)},k.$set=function(H,$){var V,N=I.p(H),W="set"+(this.$u?"UTC":""),ee=(V={},V[u]=W+"Date",V[g]=W+"Date",V[d]=W+"Month",V[m]=W+"FullYear",V[l]=W+"Hours",V[s]=W+"Minutes",V[a]=W+"Seconds",V[o]=W+"Milliseconds",V)[N],j=N===u?this.$D+($-this.$W):$;if(N===d||N===m){var G=this.clone().set(g,1);G.$d[ee](j),G.init(),this.$d=G.set(g,Math.min(this.$D,G.daysInMonth())).$d}else ee&&this.$d[ee](j);return this.init(),this},k.set=function(H,$){return this.clone().$set(H,$)},k.get=function(H){return this[I.p(H)]()},k.add=function(H,$){var V,N=this;H=Number(H);var W=I.p($),ee=function(ne){var ye=L(N);return I.w(ye.date(ye.date()+Math.round(ne*H)),N)};if(W===d)return this.set(d,this.$M+H);if(W===m)return this.set(m,this.$y+H);if(W===u)return ee(1);if(W===c)return ee(7);var j=(V={},V[s]=r,V[l]=i,V[a]=t,V)[W]||1,G=this.$d.getTime()+H*j;return I.w(G,this)},k.subtract=function(H,$){return this.add(-1*H,$)},k.format=function(H){var $=this,V=this.$locale();if(!this.isValid())return V.invalidDate||v;var N=H||"YYYY-MM-DDTHH:mm:ssZ",W=I.z(this),ee=this.$H,j=this.$m,G=this.$M,ne=V.weekdays,ye=V.months,xe=function(ke,he,Le,le){return ke&&(ke[he]||ke($,N))||Le[he].slice(0,le)},oe=function(ke){return I.s(ee%12||12,ke,"0")},de=V.meridiem||function(ke,he,Le){var le=ke<12?"AM":"PM";return Le?le.toLowerCase():le},be={YY:String(this.$y).slice(-2),YYYY:this.$y,M:G+1,MM:I.s(G+1,2,"0"),MMM:xe(V.monthsShort,G,ye,3),MMMM:xe(ye,G),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:xe(V.weekdaysMin,this.$W,ne,2),ddd:xe(V.weekdaysShort,this.$W,ne,3),dddd:ne[this.$W],H:String(ee),HH:I.s(ee,2,"0"),h:oe(1),hh:oe(2),a:de(ee,j,!0),A:de(ee,j,!1),m:String(j),mm:I.s(j,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:W};return N.replace(x,function(ke,he){return he||be[ke]||W.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(H,$,V){var N,W=I.p($),ee=L(H),j=(ee.utcOffset()-this.utcOffset())*r,G=this-ee,ne=I.m(this,ee);return ne=(N={},N[m]=ne/12,N[d]=ne,N[h]=ne/3,N[c]=(G-j)/6048e5,N[u]=(G-j)/864e5,N[l]=G/i,N[s]=G/r,N[a]=G/t,N)[W]||G,V?ne:I.a(ne)},k.daysInMonth=function(){return this.endOf(d).$D},k.$locale=function(){return E[this.$L]},k.locale=function(H,$){if(!H)return this.$L;var V=this.clone(),N=P(H,$,!0);return N&&(V.$L=N),V},k.clone=function(){return I.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},U}(),F=O.prototype;return L.prototype=F,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",u],["$M",d],["$y",m],["$D",g]].forEach(function(U){F[U[1]]=function(k){return this.$g(k,U[0],U[1])}}),L.extend=function(U,k){return U.$i||(U(k,O,L),U.$i=!0),L},L.locale=P,L.isDayjs=T,L.unix=function(U){return L(1e3*U)},L.en=E[C],L.Ls=E,L.p={},L})})(Jz);(function(n,e){(function(t,r){n.exports=r(Jz.exports)})(fa,function(t){function r(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var i=r(t),o={name:"zh-cn",weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),weekdaysShort:"\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D".split("_"),weekdaysMin:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(a,s){return s==="W"?a+"\u5468":a+"\u65E5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524D",s:"\u51E0\u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},meridiem:function(a,s){var l=100*a+s;return l<600?"\u51CC\u6668":l<900?"\u65E9\u4E0A":l<1100?"\u4E0A\u5348":l<1300?"\u4E2D\u5348":l<1800?"\u4E0B\u5348":"\u665A\u4E0A"}};return i.default.locale(o,null,!0),o})})(iJ);var VN={formatYear:"YYYY \u5E74",formatMonth:"YYYY \u5E74 MM \u6708",today:"\u4ECA\u5929",view:{month:"\u6708",year:"\u5E74",week:"\u5468",day:"\u65E5"},month:{long:{January:"\u4E00\u6708",February:"\u4E8C\u6708",March:"\u4E09\u6708",April:"\u56DB\u6708",May:"\u4E94\u6708",June:"\u516D\u6708",July:"\u4E03\u6708",August:"\u516B\u6708",September:"\u4E5D\u6708",October:"\u5341\u6708",November:"\u5341\u4E00\u6708",December:"\u5341\u4E8C\u6708"},short:{January:"\u4E00\u6708",February:"\u4E8C\u6708",March:"\u4E09\u6708",April:"\u56DB\u6708",May:"\u4E94\u6708",June:"\u516D\u6708",July:"\u4E03\u6708",August:"\u516B\u6708",September:"\u4E5D\u6708",October:"\u5341\u6708",November:"\u5341\u4E00\u6708",December:"\u5341\u4E8C\u6708"}},week:{long:{self:"\u5468",monday:"\u5468\u4E00",tuesday:"\u5468\u4E8C",wednesday:"\u5468\u4E09",thursday:"\u5468\u56DB",friday:"\u5468\u4E94",saturday:"\u5468\u516D",sunday:"\u5468\u65E5"},short:{self:"\u5468",monday:"\u4E00",tuesday:"\u4E8C",wednesday:"\u4E09",thursday:"\u56DB",friday:"\u4E94",saturday:"\u516D",sunday:"\u65E5"}}},oJ={locale:"zh-CN",dayjsLocale:"zh-cn",Calendar:VN,DatePicker:{Calendar:VN,placeholder:{date:"\u8BF7\u9009\u62E9\u65E5\u671F",week:"\u8BF7\u9009\u62E9\u5468",month:"\u8BF7\u9009\u62E9\u6708\u4EFD",year:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarter:"\u8BF7\u9009\u62E9\u5B63\u5EA6"},placeholders:{date:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],week:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"],month:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],year:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],quarter:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"]},selectTime:"\u9009\u62E9\u65F6\u95F4",selectDate:"\u9009\u62E9\u65E5\u671F",today:"\u4ECA\u5929",now:"\u6B64\u523B",ok:"\u786E\u5B9A"},Drawer:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88"},Empty:{noData:"\u6682\u65E0\u6570\u636E"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88"},Pagination:{goto:"\u524D\u5F80",page:"\u9875",countPerPage:"\u6761/\u9875",total:"\u5171 {0} \u6761",prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875",currentPage:"\u7B2C {0} \u9875",prevSomePages:"\u5411\u524D {0} \u9875",nextSomePages:"\u5411\u540E {0} \u9875",pageSize:"\u9875\u7801"},Popconfirm:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88"},Table:{okText:"\u786E\u5B9A",resetText:"\u91CD\u7F6E",sortAscend:"\u70B9\u51FB\u5347\u5E8F",sortDescend:"\u70B9\u51FB\u964D\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},TimePicker:{ok:"\u786E\u5B9A",placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",placeholders:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],now:"\u6B64\u523B"},Progress:{success:"\u5B8C\u6210",error:"\u5931\u8D25"},Upload:{start:"\u5F00\u59CB",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",reupload:"\u70B9\u51FB\u91CD\u8BD5",upload:"\u70B9\u51FB\u4E0A\u4F20",preview:"\u9884\u89C8",drag:"\u70B9\u51FB\u6216\u62D6\u62FD\u6587\u4EF6\u5230\u6B64\u5904\u4E0A\u4F20",dragHover:"\u91CA\u653E\u6587\u4EF6\u5E76\u5F00\u59CB\u4E0A\u4F20",error:"\u4E0A\u4F20\u5931\u8D25"},Typography:{copy:"\u590D\u5236",copied:"\u5DF2\u590D\u5236",edit:"\u7F16\u8F91",fold:"\u6298\u53E0",unfold:"\u5C55\u5F00"},Transfer:{resetText:"\u91CD\u7F6E"},ImagePreview:{fullScreen:"\u5168\u5C4F",rotateRight:"\u5411\u53F3\u65CB\u8F6C",rotateLeft:"\u5411\u5DE6\u65CB\u8F6C",zoomIn:"\u653E\u5927",zoomOut:"\u7F29\u5C0F",originalSize:"\u539F\u59CB\u5C3A\u5BF8"},Form:{validateMessages:{required:"#{field} \u662F\u5FC5\u586B\u9879",type:{string:"#{value} \u4E0D\u662F\u5408\u6CD5\u7684\u6587\u672C\u7C7B\u578B",number:"#{value} \u4E0D\u662F\u5408\u6CD5\u7684\u6570\u5B57\u7C7B\u578B",boolean:"#{value} \u4E0D\u662F\u5408\u6CD5\u7684\u5E03\u5C14\u7C7B\u578B",array:"#{value} \u4E0D\u662F\u5408\u6CD5\u7684\u6570\u7EC4\u7C7B\u578B",object:"#{value} \u4E0D\u662F\u5408\u6CD5\u7684\u5BF9\u8C61\u7C7B\u578B",url:"#{value} \u4E0D\u662F\u5408\u6CD5\u7684 url \u5730\u5740",email:"#{value} \u4E0D\u662F\u5408\u6CD5\u7684\u90AE\u7BB1\u5730\u5740",ip:"#{value} \u4E0D\u662F\u5408\u6CD5\u7684 IP \u5730\u5740"},number:{min:"`#{value}` \u5C0F\u4E8E\u6700\u5C0F\u503C `#{min}`",max:"`#{value}` \u5927\u4E8E\u6700\u5927\u503C `#{max}`",equal:"`#{value}` \u4E0D\u7B49\u4E8E `#{equal}`",range:"`#{value}` \u4E0D\u5728 `#{min} ~ #{max}` \u8303\u56F4\u5185",positive:"`#{value}` \u4E0D\u662F\u6B63\u6570",negative:"`#{value}` \u4E0D\u662F\u8D1F\u6570"},array:{length:"`#{value}` \u4E2A\u6570\u4E0D\u7B49\u4E8E #{length}",minLength:"`#{value}` \u4E2A\u6570\u6700\u5C11\u4E3A #{minLength}",maxLength:"`#{value}` \u4E2A\u6570\u6700\u591A\u4E3A #{maxLength}",includes:"#{value} \u4E0D\u5305\u542B #{includes}",deepEqual:"#{value} \u4E0D\u7B49\u4E8E #{deepEqual}",empty:"`#{value}` \u4E0D\u662F\u7A7A\u6570\u7EC4"},string:{minLength:"\u5B57\u7B26\u6570\u6700\u5C11\u4E3A #{minLength}",maxLength:"\u5B57\u7B26\u6570\u6700\u591A\u4E3A #{maxLength}",length:"`#{value}` \u5B57\u7B26\u6570\u4E0D\u7B49\u4E8E #{length}",match:"`#{value}` \u4E0D\u7B26\u5408\u6A21\u5F0F #{pattern}",uppercase:"`#{value}` \u4E0D\u662F\u5168\u5927\u5199",lowercase:"`#{value}` \u4E0D\u662F\u5168\u5C0F\u5199"},object:{deepEqual:"`#{value}` \u4E0D\u7B49\u4E8E #{deepEqual}",hasKeys:"`#{value}` \u4E0D\u5305\u542B\u5B57\u6BB5 #{keys}",empty:"`#{value}` \u4E0D\u662F\u5BF9\u8C61"},boolean:{true:"\u671F\u671B\u662F `true`",false:"\u671F\u671B\u662F `false`"}}}};function aJ(n){var e=[],t=n.substr(1);return n.length===3&&(t=n.replace(/(.)/g,"$1$1")),t.replace(/../g,function(r){e.push(parseInt(r,16))}),{r:e[0],g:e[1],b:e[2],rgb:"rgb("+e.join(",")+")"}}function sJ(n){var e=aJ(n);return{r:e.r,g:e.g,b:e.b}}function lJ(n){var e=sJ(n),t=uJ(e.r,e.g,e.b);return{h:t.h,s:t.s,l:t.l}}function uJ(n,e,t){var r=n/255,i=e/255,o=t/255,a=Math.max(r,i,o),s=Math.min(r,i,o),l=(a+s)/2,u,c;if(a===s)u=0,c=0;else{var d=a-s;switch(c=l>.5?d/(2-a-s):d/(a+s),a){case r:u=(i-o)/d+(i<o?6:0);break;case i:u=(o-r)/d+2;break;case o:u=(r-i)/d+4;break}u/=6}return{h:u,s:c,l,hsl:"hsl("+u*360+", "+c*100+"%, "+l*100+"%)"}}function gw(n,e){var t=lJ(n),r=+t.h,i=+t.s,o=+t.l*100+ +e,a=cJ([r*360,i*100,o]);return a.join(",")}function cJ(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100,i,o,a;if(t===0)return a=r*255,[a,a,a];r<.5?i=r*(1+t):i=r+t-r*t;for(var s=2*r-i,l=[0,0,0],u=0;u<3;u++)o=e+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?a=s+(i-s)*6*o:2*o<1?a=i:3*o<2?a=s+(i-s)*(2/3-o)*6:a=s,l[u]=a*255;return l}var fJ=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qy=globalThis&&globalThis.__assign||function(){return qy=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qy.apply(this,arguments)};function dJ(n){return n.id?n.id:"arco_notice_id_"+Math.random().toFixed(10).slice(2)}var hJ=function(n){fJ(e,n);function e(t){var r=n.call(this,t)||this;return r.add=function(i){var o=dJ(i);return r.setState(function(a){var s=a.notices;return i.id&&~s.findIndex(function(l){return l.id===i.id})?(r.update(i),a):{notices:s.concat(qy(qy({},i),{id:o})),position:i.position}}),o},r.update=function(i){var o=r.state.notices.map(function(a){return i.id===a.id?(i.update=!0,i):a});r.setState({notices:o},function(){var a=r.state.notices.map(function(s){return i.id===s.id&&s.update&&delete s.update,s});r.setState({notices:a})})},r.clear=function(){r.setState({notices:[]})},r.state={notices:[],position:"topRight"},r.remove=r.remove.bind(r),r}return e.prototype.remove=function(t){var r=this.state.notices.filter(function(i){return i.id!==t});this.setState({notices:r})},e}(A.exports.Component),Qz=hJ,XS=globalThis&&globalThis.__assign||function(){return XS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},XS.apply(this,arguments)},pJ=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Ir(n){var e,t=n.children,r=n.className,i=n.disabled,o=n.prefix,a=n.size,s=a===void 0?"default":a,l=pJ(n,["children","className","disabled","prefix","size"]),u=A.exports.useContext(wt).getPrefixCls,c=u("icon-hover");return M("span",lt(Be({},XS({className:Ye(c,(e={},e[o+"-icon-hover"]=o,e[c+"-size-"+s]=s&&s!=="default",e[c+"-disabled"]=i,e),r),onClick:n.onClick},l)),{children:t}))}var mJ=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gJ=function(n){mJ(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.startTimer=function(){var r=t.props,i=r.duration,o=r.onClose,a=r.id;i!==0&&(t.timer=window.setTimeout(function(){o&&o(a),t.removeTimer()},i))},t.removeTimer=function(){t.timer&&(window.clearTimeout(t.timer),t.timer=null)},t.onClose=function(){t.props.onClose&&t.props.onClose(t.props.id)},t.renderIcon=function(){var r=t.props,i=r.showIcon,o=r.icon,a=r.type,s=r.prefixCls,l=r.iconPrefix,u;if(o)u=o;else if(i){switch(a){case"info":u=M(GE,{});break;case"success":u=M(Vx,{});break;case"error":u=M(UE,{});break;case"warning":u=M(Xy,{});break;case"loading":u=M(dc,{});break}u=M(kt.Provider,{value:l?{prefixCls:l}:{},children:u})}return M("span",{className:s+"-icon",children:u})},t.onMouseEnter=function(){t.removeTimer()},t.onMouseLeave=function(){t.startTimer()},t}return e.prototype.componentDidMount=function(){this.startTimer()},e.prototype.componentDidUpdate=function(t){(t.duration!==this.props.duration||this.props.update)&&(this.removeTimer(),this.startTimer())},e.prototype.componentWillUnmount=function(){this.removeTimer()},e.prototype.render=function(){var t,r=this.props,i=r.title,o=r.content,a=r.showIcon,s=r.className,l=r.style,u=r.type,c=r.btn,d=r.icon,h=r.prefixCls,m=r.closable,g=r.noticeType,v=r.iconPrefix,y=Ye(h,h+"-"+u,(t={},t[h+"-closable"]=m,t),s),x="closable"in this.props?m:!0,_=a;if(u==="normal"&&!d&&(_=!1),g==="message")return x=m,M("div",{style:{textAlign:"center"},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:We("div",{className:y,style:l,role:"alert",children:[_&&this.renderIcon(),M("span",{className:h+"-content",children:o}),x&&M(Ir,{prefix:h,className:h+"-close-btn",onClick:this.onClose,children:M(ka,{})})]})});if(g==="notification")return M("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:We("div",{className:y,style:l,role:"alert",children:[_&&M("div",{className:h+"-left",children:this.renderIcon()}),We("div",{className:h+"-right",children:[i&&M("div",{className:h+"-title",children:i}),M("div",{className:h+"-content",children:o}),c&&M("div",{className:h+"-btn-wrapper",children:c})]}),x&&M(Ir,{prefix:h,className:h+"-close-btn",onClick:this.onClose,children:M(kt.Provider,{value:v?{prefixCls:v}:{},children:M(ka,{})})})]})})},e.defaultProps={type:"info",showIcon:!0,noticeType:"message",duration:3e3},e}(A.exports.Component),eB=gJ,vJ=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ao=globalThis&&globalThis.__assign||function(){return Ao=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ao.apply(this,arguments)},yJ=["info","success","error","warning","loading","normal"],Ji={},tB,tv,nB,YS;function rB(n){var e=Ao({position:"top",duration:nB},n),t=e.position,r=e.transitionClassNames,i;if(Ji[t]){var o=Ji[t].state.notices;if(o.length>=tB){var a=o[0];i=a.id,o.shift(),Ji[t].add(Ao(Ao({},e),{id:i}))}else i=Ji[t].add(e)}else{var s=document.createElement("div");(YS||document.body).appendChild(s),Ts.render(Ce.createElement(TT,{transitionClassNames:r,ref:function(u){Ji[t]=u,i=Ji[t].add(e)}}),s)}var l=function(){Ji[t]&&Ji[t].remove(i)};return l}var TT=function(n){vJ(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.remove=function(r){var i=t.state.notices.find(function(o){return o.id===r});i&&t.update(Ao(Ao({},i),{style:Ao(Ao({},i.style),{opacity:0})})),setTimeout(function(){n.prototype.remove.call(t,r)},100)},t}return e.prototype.render=function(){var t=this,r=this.props.transitionClassNames,i=this.state,o=i.notices,a=i.position,s=tv?tv+"-message":"arco-message",l=Ye(s+"-wrapper",s+"-wrapper-"+a);return Ce.createElement("div",{className:l},Ce.createElement(ET,{component:null},o.map(function(u){return Ce.createElement(Fa,{key:u.id,timeout:{enter:100,exit:300},classNames:r||"fadeMessage",onExit:function(c){c.style.height=c.scrollHeight+"px"},onExiting:function(c){c.style.height=0},onExited:function(c){c.style.height=0,u.onClose&&u.onClose()}},Ce.createElement(eB,Ao({},u,{prefixCls:s,iconPrefix:tv,onClose:t.remove,noticeType:"message"})))})))},e.config=function(t){t===void 0&&(t={}),t.maxCount&&(tB=t.maxCount),t.prefixCls&&(tv=t.prefixCls),t.duration&&(nB=t.duration),t.getContainer&&t.getContainer()!==YS&&(YS=t.getContainer(),Object.keys(Ji).forEach(function(r){return Ji[r].clear()}),Ji={})},e.clear=function(){Object.keys(Ji).forEach(function(t){Ji[t].clear()})},e.addInstance=rB,e}(Qz);yJ.forEach(function(n){TT[n]=function(e){var t=typeof e=="string"?{content:e}:e;return rB(Ao(Ao({},t),{type:n}))}});var Io=TT,xJ=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),To=globalThis&&globalThis.__assign||function(){return To=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},To.apply(this,arguments)},_J=["info","success","error","warning","normal"],ai={},GN,nv,WN,vw,qS=function(n){xJ(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.remove=function(r){var i=t.state.notices.find(function(o){return o.id===r});i&&t.update(To(To({},i),{style:To(To({},i.style),{opacity:0})})),setTimeout(function(){n.prototype.remove.call(t,r)},200)},t}return e.prototype.render=function(){var t=this,r=this.state,i=r.notices,o=r.position,a=o===void 0?"topRight":o,s=nv?nv+"-notification":"arco-notification",l;a==="topLeft"||a==="bottomLeft"?l="slideNoticeLeft":l="slideNoticeRight";var u=Ye(s+"-wrapper",s+"-wrapper-"+a);return Ce.createElement("div",{className:u},Ce.createElement(ET,{component:null},i.map(function(c){return Ce.createElement(Fa,{key:c.id,timeout:{enter:400,exit:300},classNames:l,onExit:function(d){d.style.height=d.scrollHeight+"px"},onExiting:function(d){d.style.height=0},onExited:function(d){d.style.height=0,c.onClose&&c.onClose()}},Ce.createElement(eB,To({},c,{onClose:t.remove,prefixCls:s,iconPrefix:nv,noticeType:"notification"})))})))},e.config=function(t){t===void 0&&(t={}),t.maxCount&&(GN=t.maxCount),t.prefixCls&&(nv=t.prefixCls),rn(t.duration)&&(WN=t.duration),t.getContainer&&t.getContainer()!==vw&&(vw=t.getContainer(),Object.keys(ai).forEach(function(r){return ai[r].clear()}),ai={})},e.clear=function(){Object.keys(ai).forEach(function(t){ai[t].clear()})},e.remove=function(t){Object.keys(ai).forEach(function(r){ai[r].remove(t)})},e.addInstance=function(t){var r=t.position,i=r===void 0?"topRight":r,o=To({duration:WN},t);if(ai[i]){var a=ai[i].state.notices;if(a.length>=GN){var s=a[0];a.shift(),ai[i].add(To(To({},o),{id:s.id}))}else ai[i].add(o);return ai[i]}var l=document.createElement("div"),u=null;(vw||document.body).appendChild(l),Ts.render(Ce.createElement(e,{ref:function(c){return ai[i]=c,ai[i].add(o),u=ai[i],u}}),l)},e}(Qz);_J.forEach(function(n){qS[n]=function(e){return qS.addInstance(To(To({},e),{type:n}))}});var ZS=qS,hp=globalThis&&globalThis.__assign||function(){return hp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},hp.apply(this,arguments)};function cn(n,e,t){var r=A.exports.useMemo(function(){return hp(hp({},e),t)},[e,t]),i=A.exports.useMemo(function(){var o=hp({},n);for(var a in r)o[a]===void 0&&(o[a]=r[a]);return o},[n,r]);return i}function bJ(n,e){var t=A.exports.useContext(wt),r=t.getPrefixCls,i=t.locale,o=t.componentConfig,a=cn(n,{},o==null?void 0:o.Empty),s=a.style,l=a.className,u=a.description,c=a.icon,d=a.imgSrc,h=r("empty"),m=Ye(h,l),g=i.Empty.noData,v=typeof u=="string"?u:"empty";return M("div",{ref:e,className:m,style:s,children:We("div",{className:h+"-wrapper",children:[M("div",{className:h+"-image",children:d?M("img",{alt:v,src:d}):c||M(PZ,{})}),M("div",{className:h+"-description",children:u||g})]})})}var iB=A.exports.forwardRef(bJ);iB.displayName="Empty";var wJ=A.exports.memo(iB),qp=globalThis&&globalThis.__assign||function(){return qp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qp.apply(this,arguments)},oB={};function SJ(n){oB=qp({},n)}function CJ(){return oB}var JS={simple:!0},MJ=function(n){JS=qp(qp({},JS),n)},EJ=function(){return JS},Bu=[],QS=globalThis&&globalThis.__assign||function(){return QS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},QS.apply(this,arguments)};function zn(n,e){var t=QS({},n);return e.forEach(function(r){r in t&&delete t[r]}),t}var Zp=globalThis&&globalThis.__assign||function(){return Zp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Zp.apply(this,arguments)},rv={primaryColor:{default:"--arcoblue-6",hover:"--arcoblue-5",active:"--arcoblue-7"},successColor:{default:"--green-6",hover:"--green-5",active:"--green-7"},infoColor:{default:"--arcoblue-6",hover:"--arcoblue-5",active:"--arcoblue-7"},warningColor:{default:"--orangered-6",hover:"--orangered-5",active:"--orangered-7"},dangerColor:{default:"--red-6",hover:"--red-5",active:"--red-7"}};function TJ(n){if(n&&Dt(n)){var e=document.body;Object.keys(rv).forEach(function(t){n[t]&&(e.style.setProperty(rv[t].default,gw(n[t],0)),n[t+"Hover"]||e.style.setProperty(rv[t].hover,gw(n[t],10)),n[t+"Active"]||e.style.setProperty(rv[t].active,gw(n[t],-10)))})}}function OJ(n){switch(n){default:return M(wJ,{})}}var aB={locale:oJ,prefixCls:"arco",getPopupContainer:function(){return document.body},size:"default",renderEmpty:OJ,focusLock:{modal:{autoFocus:!0},drawer:{autoFocus:!0}}},PJ={},wt=A.exports.createContext(Zp({getPrefixCls:function(n,e){return(e||"arco")+"-"+n}},aB));function $x(n){var e=cn(n,aB,PJ),t=e.theme,r=e.prefixCls,i=e.children,o=e.locale;A.exports.useEffect(function(){TJ(t)},[t]),A.exports.useEffect(function(){Io.config({prefixCls:r}),ZS.config({prefixCls:r})},[r]);function a(u,c){return(c||r)+"-"+u}var s=Zp(Zp({},zn(e,["children"])),{getPrefixCls:a});A.exports.useEffect(function(){SJ({locale:o,prefixCls:r})},[o,r]);var l=i;return r&&r!=="arco"&&(l=M(kt.Provider,{value:{prefixCls:r},children:i})),M(wt.Provider,{value:s,children:l})}$x.ConfigContext=wt;$x.displayName="ConfigProvider";wt.Consumer;var AJ=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},RJ={showIcon:!0,type:"info"};function IJ(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,RJ,o==null?void 0:o.Alert),s=a.style,l=a.className,u=a.action,c=a.type,d=c===void 0?"info":c,h=a.title,m=a.content,g=a.icon,v=a.showIcon,y=a.closable,x=a.closeable,_=a.afterClose,b=a.onClose,S=a.closeElement,C=a.banner,E=i("alert"),T=AJ(A.exports.useState(!0),2),P=T[0],L=T[1];function I(k){if(g)return g;switch(k){case"info":return M(GE,{});case"success":return M(Vx,{});case"warning":return M(Xy,{});case"error":return M(UE,{});default:return null}}function O(k){L(!1),b&&b(k)}var F=Ye(E,E+"-"+d,(t={},t[E+"-with-title"]=h,t[E+"-banner"]=C,t),l),U="closeable"in a?x:y;return M(Fa,{in:P,timeout:300,classNames:"zoomInTop",unmountOnExit:!0,onExited:function(){_&&_()},children:We("div",{ref:e,style:s,className:F,role:"alert",children:[v&&M("div",{className:E+"-icon-wrapper",children:I(d)}),We("div",{className:E+"-content-wrapper",children:[h&&M("div",{className:E+"-title",children:h}),m&&M("div",{className:E+"-content",children:m})]}),u&&M("div",{className:E+"-action",children:u}),U&&M("button",{onClick:O,className:E+"-close-btn",children:S||M(ka,{})})]})})}var sB=A.exports.forwardRef(IJ);sB.displayName="Alert";var NJ=sB;function LJ(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var zm=LJ,DJ=typeof fa=="object"&&fa&&fa.Object===Object&&fa,lB=DJ,kJ=lB,FJ=typeof self=="object"&&self&&self.Object===Object&&self,zJ=kJ||FJ||Function("return this")(),Wa=zJ,BJ=Wa,UJ=function(){return BJ.Date.now()},HJ=UJ,VJ=/\s/;function GJ(n){for(var e=n.length;e--&&VJ.test(n.charAt(e)););return e}var WJ=GJ,$J=WJ,jJ=/^\s+/;function KJ(n){return n&&n.slice(0,$J(n)+1).replace(jJ,"")}var XJ=KJ,YJ=Wa,qJ=YJ.Symbol,jx=qJ,$N=jx,uB=Object.prototype,ZJ=uB.hasOwnProperty,JJ=uB.toString,Ah=$N?$N.toStringTag:void 0;function QJ(n){var e=ZJ.call(n,Ah),t=n[Ah];try{n[Ah]=void 0;var r=!0}catch{}var i=JJ.call(n);return r&&(e?n[Ah]=t:delete n[Ah]),i}var eQ=QJ,tQ=Object.prototype,nQ=tQ.toString;function rQ(n){return nQ.call(n)}var iQ=rQ,jN=jx,oQ=eQ,aQ=iQ,sQ="[object Null]",lQ="[object Undefined]",KN=jN?jN.toStringTag:void 0;function uQ(n){return n==null?n===void 0?lQ:sQ:KN&&KN in Object(n)?oQ(n):aQ(n)}var Bm=uQ;function cQ(n){return n!=null&&typeof n=="object"}var Um=cQ,fQ=Bm,dQ=Um,hQ="[object Symbol]";function pQ(n){return typeof n=="symbol"||dQ(n)&&fQ(n)==hQ}var Kx=pQ,mQ=XJ,XN=zm,gQ=Kx,YN=0/0,vQ=/^[-+]0x[0-9a-f]+$/i,yQ=/^0b[01]+$/i,xQ=/^0o[0-7]+$/i,_Q=parseInt;function bQ(n){if(typeof n=="number")return n;if(gQ(n))return YN;if(XN(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=XN(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=mQ(n);var t=yQ.test(n);return t||xQ.test(n)?_Q(n.slice(2),t?2:8):vQ.test(n)?YN:+n}var wQ=bQ,SQ=zm,yw=HJ,qN=wQ,CQ="Expected a function",MQ=Math.max,EQ=Math.min;function TQ(n,e,t){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(CQ);e=qN(e)||0,SQ(t)&&(c=!!t.leading,d="maxWait"in t,o=d?MQ(qN(t.maxWait)||0,e):o,h="trailing"in t?!!t.trailing:h);function m(E){var T=r,P=i;return r=i=void 0,u=E,a=n.apply(P,T),a}function g(E){return u=E,s=setTimeout(x,e),c?m(E):a}function v(E){var T=E-l,P=E-u,L=e-T;return d?EQ(L,o-P):L}function y(E){var T=E-l,P=E-u;return l===void 0||T>=e||T<0||d&&P>=o}function x(){var E=yw();if(y(E))return _(E);s=setTimeout(x,v(E))}function _(E){return s=void 0,h&&r?m(E):(r=i=void 0,a)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function S(){return s===void 0?a:_(yw())}function C(){var E=yw(),T=y(E);if(r=arguments,i=this,l=E,T){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(x,e),m(l)}return s===void 0&&(s=setTimeout(x,e)),a}return C.cancel=b,C.flush=S,C}var cB=TQ,OQ=cB,PQ=zm,AQ="Expected a function";function RQ(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(AQ);return PQ(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),OQ(n,e,{leading:r,maxWait:e,trailing:i})}var IQ=RQ;function ZN(n){return n!=null&&typeof n=="object"&&n.nodeType===1}function JN(n,e){return e&&n==="hidden"?!1:n!=="visible"&&n!=="clip"}function xw(n,e){if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){var t=getComputedStyle(n,null);return JN(t.overflowY,e)||JN(t.overflowX,e)}return!1}function iv(n,e,t,r,i,o,a,s){return o<n&&a>e||o>n&&a<e?0:o<=n&&s<=t||a>=e&&s>=t?o-n-r:a>e&&s<t||o<n&&s>t?a-e+i:0}var QN=function(n,e){var t=e.scrollMode,r=e.block,i=e.inline,o=e.boundary,a=e.skipOverflowHiddenElements,s=typeof o=="function"?o:function(ke){return ke!==o};if(!ZN(n))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,u=[],c=n;ZN(c)&&s(c);){if(c=c.parentNode,c===l){u.push(c);break}c===document.body&&xw(c)&&!xw(document.documentElement)||xw(c,a)&&u.push(c)}for(var d=window.visualViewport?visualViewport.width:innerWidth,h=window.visualViewport?visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,v=n.getBoundingClientRect(),y=v.height,x=v.width,_=v.top,b=v.right,S=v.bottom,C=v.left,E=r==="start"||r==="nearest"?_:r==="end"?S:_+y/2,T=i==="center"?C+x/2:i==="end"?b:C,P=[],L=0;L<u.length;L++){var I=u[L],O=I.getBoundingClientRect(),F=O.height,U=O.width,k=O.top,H=O.right,$=O.bottom,V=O.left;if(t==="if-needed"&&_>=0&&C>=0&&S<=h&&b<=d&&_>=k&&S<=$&&C>=V&&b<=H)return P;var N=getComputedStyle(I),W=parseInt(N.borderLeftWidth,10),ee=parseInt(N.borderTopWidth,10),j=parseInt(N.borderRightWidth,10),G=parseInt(N.borderBottomWidth,10),ne=0,ye=0,xe="offsetWidth"in I?I.offsetWidth-I.clientWidth-W-j:0,oe="offsetHeight"in I?I.offsetHeight-I.clientHeight-ee-G:0;if(l===I)r==="start"?ne=E:r==="end"?ne=E-h:r==="nearest"?ne=iv(g,g+h,h,ee,G,g+E,g+E+y,y):ne=E-h/2,i==="start"?ye=T:i==="center"?ye=T-d/2:i==="end"?ye=T-d:ye=iv(m,m+d,d,W,j,m+T,m+T+x,x),ne=Math.max(0,ne+g),ye=Math.max(0,ye+m);else{r==="start"?ne=E-k-ee:r==="end"?ne=E-$+G+oe:r==="nearest"?ne=iv(k,$,F,ee,G+oe,E,E+y,y):ne=E-(k+F/2)+oe/2,i==="start"?ye=T-V-W:i==="center"?ye=T-(V+U/2)+xe/2:i==="end"?ye=T-H+j+xe:ye=iv(V,H,U,W,j+xe,T,T+x,x);var de=I.scrollLeft,be=I.scrollTop;ne=Math.max(0,Math.min(be+ne,I.scrollHeight-F+oe)),ye=Math.max(0,Math.min(de+ye,I.scrollWidth-U+xe)),E+=be-ne,T+=de-ye}P.push({el:I,top:ne,left:ye})}return P};function fB(n){return n===Object(n)&&Object.keys(n).length!==0}function NQ(n,e){e===void 0&&(e="auto");var t="scrollBehavior"in document.body.style;n.forEach(function(r){var i=r.el,o=r.top,a=r.left;i.scroll&&t?i.scroll({top:o,left:a,behavior:e}):(i.scrollTop=o,i.scrollLeft=a)})}function LQ(n){return n===!1?{block:"end",inline:"nearest"}:fB(n)?n:{block:"start",inline:"nearest"}}function dB(n,e){var t=!n.ownerDocument.documentElement.contains(n);if(fB(e)&&typeof e.behavior=="function")return e.behavior(t?[]:QN(n,e));if(!t){var r=LQ(e);return NQ(QN(n,r),r.behavior)}}function Xx(n,e){var t={};return e.forEach(function(r){var i=r;r in n&&(t[i]=n[i])}),t}var hB=function(){};function DQ(n){return Xx(n,["onMouseEnter","onMouseLeave","onMouseMove","onContextMenu","onClick","onFocus","onBlur","tabIndex"])}var Rd=function(){try{return!(typeof window<"u"&&document!==void 0)}catch{return!0}}(),yn=function(){return Rd?hB:function(n,e,t,r){n&&n.addEventListener(e,t,r||!1)}}(),An=function(){return Rd?hB:function(n,e,t,r){n&&n.removeEventListener(e,t,r||!1)}}(),Zy=function(n,e){for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1},kQ=function(n){return n.scrollHeight>n.offsetHeight||n.scrollWidth>n.offsetWidth},FQ=function(n,e){e===void 0&&(e=document.documentElement);for(var t=[],r=n;r&&r!==e;)kQ(r)&&t.push(r),r=r.parentElement;return t};function Yx(){var n=A.exports.useRef(!0);return A.exports.useEffect(function(){n.current=!1},[]),n.current}var Xu=typeof window>"u"?global:window,zQ=["webkit","ms","moz","o"],eo=Xu.requestAnimationFrame,hi=Xu.cancelAnimationFrame;if((!eo||!hi)&&(zQ.some(function(n){return eo=Xu[n+"RequestAnimationFrame"],hi=Xu[n+"CancelAnimationFrame"]||Xu[n+"CancelRequestAnimationFrame"],eo&&hi}),!eo||!hi)){var eL=0;eo=function(n){var e=Date.now(),t=Math.max(0,16-(e-eL)),r=setTimeout(function(){n(),eL=e+t},t);return r},hi=function(n){clearTimeout(n)}}eo=eo.bind(Xu);hi=hi.bind(Xu);var BQ=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},UQ=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function ud(n){var e=null,t=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];e&&hi(e),e=eo(function(){n.apply(void 0,UQ([],BQ(r),!1)),e=null})};return t.cancel=function(){hi(e),e=null},t}var pB=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,o){return i[0]===t?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];t.call(r,a[1],a[0])}},e}()}(),eC=typeof window<"u"&&typeof document<"u"&&window.document===document,Jy=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),HQ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Jy):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),VQ=2;function GQ(n,e){var t=!1,r=!1,i=0;function o(){t&&(t=!1,n()),r&&s()}function a(){HQ(o)}function s(){var l=Date.now();if(t){if(l-i<VQ)return;r=!0}else t=!0,r=!1,setTimeout(a,e);i=l}return s}var WQ=20,$Q=["top","right","bottom","left","width","height","size","weight"],jQ=typeof MutationObserver<"u",KQ=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=GQ(this.refresh.bind(this),WQ)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!eC||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),jQ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!eC||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=$Q.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),mB=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},cd=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Jy},gB=qx(0,0,0,0);function Qy(n){return parseFloat(n)||0}function tL(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var o=n["border-"+i+"-width"];return r+Qy(o)},0)}function XQ(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var o=i[r],a=n["padding-"+o];t[o]=Qy(a)}return t}function YQ(n){var e=n.getBBox();return qx(0,0,e.width,e.height)}function qQ(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return gB;var r=cd(n).getComputedStyle(n),i=XQ(r),o=i.left+i.right,a=i.top+i.bottom,s=Qy(r.width),l=Qy(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=tL(r,"left","right")+o),Math.round(l+a)!==t&&(l-=tL(r,"top","bottom")+a)),!JQ(n)){var u=Math.round(s+o)-e,c=Math.round(l+a)-t;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return qx(i.left,i.top,s,l)}var ZQ=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof cd(n).SVGGraphicsElement}:function(n){return n instanceof cd(n).SVGElement&&typeof n.getBBox=="function"}}();function JQ(n){return n===cd(n).document.documentElement}function QQ(n){return eC?ZQ(n)?YQ(n):qQ(n):gB}function eee(n){var e=n.x,t=n.y,r=n.width,i=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return mB(a,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),a}function qx(n,e,t,r){return{x:n,y:e,width:t,height:r}}var tee=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=qx(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=QQ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),nee=function(){function n(e,t){var r=eee(t);mB(this,{target:e,contentRect:r})}return n}(),ree=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new pB,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof cd(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new tee(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof cd(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new nee(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),vB=typeof WeakMap<"u"?new WeakMap:new pB,yB=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=KQ.getInstance(),r=new ree(e,t,this);vB.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){yB.prototype[n]=function(){var e;return(e=vB.get(this))[n].apply(e,arguments)}});var Zx=function(){return typeof Jy.ResizeObserver<"u"?Jy.ResizeObserver:yB}(),iee=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oee=function(n){iee(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.componentWillUnmount=function(){t.resizeObserver&&t.destroyResizeObserver()},t.createResizeObserver=function(){t.resizeObserver=new Zx(function(r){var i=t.props.onResize;i&&i(r)}),t.resizeObserver.observe(Rr.exports.findDOMNode(t))},t.destroyResizeObserver=function(){t.resizeObserver&&t.resizeObserver.disconnect(),t.resizeObserver=null},t}return e.prototype.componentDidMount=function(){Ce.isValidElement(this.props.children)?this.createResizeObserver():console.warn("The children of ResizeObserver is invalid.")},e.prototype.componentDidUpdate=function(){!this.resizeObserver&&Rr.exports.findDOMNode(this)&&this.createResizeObserver()},e.prototype.render=function(){return this.props.children},e}(Ce.Component),zl=oee,aee=Rd?A.exports.useEffect:A.exports.useLayoutEffect,Jp=aee,see=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function xB(n){var e=see(A.exports.useState({value:n,resolve:function(i){}}),2),t=e[0],r=e[1];return A.exports.useEffect(function(){t.resolve(t.value)},[t]),[t.value,function(i){return new Promise(function(o){r(function(a){var s=i;return typeof i=="function"&&(s=i(a.value)),{value:s,resolve:o}})})}]}function lee(n,e){var t=n.className,r=n.style,i=n.children,o=A.exports.useContext(wt).getPrefixCls,a=o("btn-group"),s=Ye(a,t);return M("div",{ref:e,className:s,style:r,children:i})}var _B=Ce.forwardRef(lee);_B.displayName="ButtonGroup";var uee=_B,pp=globalThis&&globalThis.__assign||function(){return pp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pp.apply(this,arguments)},cee=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},fee=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},dee=/^[\u4e00-\u9fa5]{2}$/;function hee(n){var e=[],t=!1;return Ce.Children.forEach(n,function(r){var i=typeof r=="string"||typeof r=="number";if(i&&t){var o=e.length-1,a=e[o];e[o]=""+a+r}else e.push(r);t=i}),Ce.Children.map(e,function(r){return typeof r=="string"?M("span",{children:r}):r})}var pee={htmlType:"button",type:"default",shape:"square"};function mee(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.size,a=r.autoInsertSpaceInButton,s=r.componentConfig,l=cn(n,pee,s==null?void 0:s.Button),u=l.style,c=l.className,d=l.children,h=l.htmlType,m=l.type,g=l.status,v=l.size,y=l.shape,x=l.href,_=l.anchorProps,b=l.disabled,S=l.loading,C=l.loadingFixedWidth,E=l.icon,T=l.iconOnly,P=l.onClick,L=l.long,I=cee(l,["style","className","children","htmlType","type","status","size","shape","href","anchorProps","disabled","loading","loadingFixedWidth","icon","iconOnly","onClick","long"]),O=S?M(dc,{}):E,F=fee(A.exports.useState(!1),2),U=F[0],k=F[1],H=A.exports.useRef(),$=e||H;A.exports.useEffect(function(){if(a&&$&&$.current){var ne=$.current.textContent;dee.test(ne)?U||k(!0):U&&k(!1)}},[$.current,a]);var V=i("btn"),N=m==="default"?"secondary":m,W=Ye(V,V+"-"+N,V+"-size-"+(v||o),V+"-shape-"+y,(t={},t[V+"-long"]=L,t[V+"-status-"+g]=g,t[V+"-loading-fixed-width"]=C,t[V+"-loading"]=S,t[V+"-link"]=x,t[V+"-icon-only"]=T||!d&&d!==0&&O,t[V+"-disabled"]=b,t[V+"-two-chinese-chars"]=U,t),c),ee=function(ne){if(S){typeof(ne==null?void 0:ne.preventDefault)=="function"&&ne.preventDefault();return}P&&P(ne)},j=We(Ut,{children:[O,hee(d)]});if(x){var G=pp({},_);return b?delete G.href:G.href=x,M("a",lt(Be({},pp({ref:$},I,G,{style:u,className:W,onClick:ee})),{children:j}))}return M("button",lt(Be({},pp({ref:$},I,{style:u,className:W,type:h,disabled:b,onClick:ee})),{children:j}))}var gee=A.exports.forwardRef(mee),Jx=gee;Jx.__BYTE_BUTTON=!0;Jx.Group=uee;Jx.displayName="Button";var Jt=Jx,vee=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function $n(n,e){var t=e||{},r=t.defaultValue,i=t.value,o=A.exports.useRef(!0),a=vee(A.exports.useState(Ra(i)?Ra(r)?n:r:i),2),s=a[0],l=a[1];A.exports.useEffect(function(){if(o.current){o.current=!1;return}i===void 0&&l(i)},[i]);var u=Ra(i)?s:i;return[u,l,s]}var tC=globalThis&&globalThis.__assign||function(){return tC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},tC.apply(this,arguments)},yee=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},xee=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},bB=Ce.forwardRef(function(n,e){var t,r=A.exports.useContext(wt).getPrefixCls,i=xee($n("",{defaultValue:"defaultValue"in n?dd(n.defaultValue,n.maxLength):void 0,value:"value"in n?dd(n.value,n.maxLength):void 0}),2),o=i[0],a=i[1],s=n.className,l=n.style,u=n.placeholder,c=n.disabled,d=n.searchButton,h=n.loading,m=n.defaultValue,g=yee(n,["className","style","placeholder","disabled","searchButton","loading","defaultValue"]),v=r("input-search"),y=Ye(v,(t={},t[v+"-button"]=d,t),s),x=function(_){!c&&n.onSearch&&n.onSearch(o),n.onPressEnter&&n.onPressEnter(_)};return M(zs,Be({},tC({},zn(g,["onSearch"]),{disabled:c,className:y,style:l,ref:e,placeholder:u,addAfter:d?M(Jt,{disabled:c,size:g.size,className:v+"-btn",type:"primary",onClick:x,loading:h,loadingFixedWidth:!0,icon:d===!0&&!h&&M(GS,{}),children:d!==!0&&d}):null,suffix:!d&&(h?M(dc,{}):M(GS,{onClick:x})),onChange:function(_,b){a(_),n.onChange&&n.onChange(_,b)},defaultValue:m,onPressEnter:x})))});bB.displayName="Search";var _ee=bB,fd={key:"Enter",code:13},Qp={key:"Escape",code:27},wB={key:"Backspace",code:8},nL={key:"Tab",code:9},mp={key:"ArrowUp",code:38},gp={key:"ArrowDown",code:40},rL={key:"ArrowLeft",code:37},iL={key:"ArrowRight",code:39},bee=`
  position: absolute;
  min-height: 0 !important;
  max-height: none;
  height:0;
  visibility: hidden;
  z-index: -100;
  top: 0;
  right: 0;
`,wee=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","width"],_l;function See(n){_l||(_l=document.createElement("textarea"),document.body.appendChild(_l));var e=window.getComputedStyle(n),t=`
    `+wee.map(function(a){return a+":"+e.getPropertyValue(a)}).join(";")+`
  `;_l.setAttribute("style",""+bee+t);var r=parseFloat(e.getPropertyValue("padding-top"))+parseFloat(e.getPropertyValue("padding-bottom")),i=e.getPropertyValue("box-sizing"),o=parseFloat(e.getPropertyValue("border-top-width"))+parseFloat(e.getPropertyValue("border-bottom-width"));return{paddingSize:r,boxSizing:i,borderSize:o}}function Cee(n,e){var t=function(){var x,_;return Dt(n)&&(x=n.minRows,_=n.maxRows),{minRows:x,maxRows:_}};if(n){var r=t(),i=r.minRows,o=r.maxRows,a=e,s=See(a),l=s.paddingSize,u=s.boxSizing,c=s.borderSize;_l.value=a.value||a.placeholder||"";var d=_l.scrollHeight+c,h=void 0,m=void 0,g=void 0;if(i||o){_l.value="";var v=_l.scrollHeight-l;rn(i)&&(h=v*i,u==="border-box"&&(h+=l,h+=c),d=Math.max(d,h)),rn(o)&&(m=v*o,u==="border-box"&&(m+=l,m+=c),g=d>m?"auto":"",m=Math.min(d,m))}var y={};return y.height=d,h&&(y.minHeight=h),m&&(y.maxHeight=m),g&&(y.overflowY=g),y}}var vp=globalThis&&globalThis.__assign||function(){return vp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},vp.apply(this,arguments)},Mee=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},_w=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Eee=function(n,e){var t,r,i,o=n.className,a=n.style,s=n.wrapperStyle,l=n.placeholder,u=n.disabled,c=n.error,d=n.maxLength,h=n.showWordLimit,m=n.allowClear,g=n.onClear,v=Mee(n,["className","style","wrapperStyle","placeholder","disabled","error","maxLength","showWordLimit","allowClear","onClear"]),y=Dt(d)?d.length:d,x=Dt(d)&&d.errorOnly?void 0:y,_=A.exports.useRef(!1),b=A.exports.useRef(),S=_w(A.exports.useState(""),2),C=S[0],E=S[1],T=_w(A.exports.useState({}),2),P=T[0],L=T[1],I=_w($n("",{defaultValue:"defaultValue"in n?dd(n.defaultValue,x):void 0,value:"value"in n?dd(n.value,x):void 0}),2),O=I[0],F=I[1],U=A.exports.useContext(wt).getPrefixCls,k=U("textarea");u&&(P.resize="none");var H=function(){if(b.current&&b.current.focus){if(b.current.setSelectionRange){var de=b.current.textContent.length;b.current.setSelectionRange(de,de)}b.current.focus()}},$=function(de,be){var ke=n.onChange;"value"in n||F(de),ke&&ke(de,be)},V=function(de){var be=de.currentTarget.value;_.current?E(be):x?be.length<=y&&$(be,de):$(be,de)},N=function(de){de.type==="compositionend"?(_.current=!1,E(void 0),$(de.target.value,de)):_.current=!0},W=function(){var de=Cee(n.autoSize,b.current);de&&L(de)},ee=function(de){de.stopPropagation(),H(),$("",de),g&&g()};Jp(function(){W()},[O]),A.exports.useImperativeHandle(e,function(){return{dom:b.current,focus:function(){H()},blur:function(){b.current&&b.current.blur&&b.current.blur()}}},[]);var j=O?O.length:0,G=y&&h||m,ne=A.exports.useMemo(function(){return!x&&y?j>y:!1},[j,y,x]),ye=Ye(k,(t={},t[k+"-error"]=c||ne,t[k+"-disabled"]=u,t),o),xe=M("textarea",Be({},vp({},zn(v,["autoSize","defaultValue","onPressEnter"]),{maxLength:x,ref:b,style:vp(vp({},a),P),className:ye,placeholder:l,disabled:u,onChange:V,onKeyDown:function(de){var be=n.onKeyDown,ke=n.onPressEnter,he=de.keyCode||de.which;be&&be(de),he===fd.code&&ke&&ke(de)},onCompositionStart:N,onCompositionUpdate:N,onCompositionEnd:N,value:C||O||""})));if(G){var oe=!u&&m&&O;return We("div",{className:Ye(k+"-wrapper",(r={},r[k+"-clear-wrapper"]=m,r)),style:s,children:[xe,oe?M(Ir,{className:k+"-clear-icon",children:M(ka,{onClick:ee,onMouseDown:function(de){de.preventDefault()}})}):null,y&&h&&We("span",{className:Ye(k+"-word-limit",(i={},i[k+"-word-limit-error"]=ne,i)),children:[j,"/",y]})]})}return xe},SB=Ce.forwardRef(Eee);SB.displayName="TextArea";var Tee=SB,yp=globalThis&&globalThis.__assign||function(){return yp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},yp.apply(this,arguments)},Oee=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Pee=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},OT=Ce.forwardRef(function(n,e){var t,r=Pee($n(!1,{defaultValue:n.defaultVisibility,value:n.visibility}),2),i=r[0],o=r[1],a=A.exports.useContext(wt).getPrefixCls,s=n.className,l=n.visibilityToggle,u=n.onVisibilityChange,c=Oee(n,["className","visibilityToggle","onVisibilityChange"]),d=a("input-password"),h=Ye(d,(t={},t[d+"-visibility"]=l,t),s),m=function(x){"visibility"in n||o(x),u&&u(x)},g=n.suffix;if(l){var v={onClick:function(){return m(!i)},onMouseDown:function(x){return x.preventDefault()},onMouseUp:function(x){return x.preventDefault()}};if(n.suffix)g=M("span",lt(Be({},yp({},v)),{children:n.suffix}));else{var y=i?JE:qE;g=M(y,Be({},yp({},v)))}}return M(zs,Be({},yp({},zn(c,["visibility","defaultVisibility"]),{type:i?"text":"password",className:h,ref:e,suffix:g})))});OT.displayName="Password";OT.defaultProps={visibilityToggle:!0};var Aee=OT,fl=globalThis&&globalThis.__assign||function(){return fl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fl.apply(this,arguments)},Ree=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Iee=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},CB=Ce.forwardRef(function(n,e){var t,r=n.allowClear,i=n.error,o=n.disabled,a=n.placeholder,s=n.className,l=n.style,u=n.height,c=n.prefixCls,d=n.hasParent,h=n.size,m=n.value,g=n.autoFitWidth,v=n.onClear,y=n.readOnly,x=n.onValueChange,_=n.maxLength,b=Ree(n,["allowClear","error","disabled","placeholder","className","style","height","prefixCls","hasParent","size","value","autoFitWidth","onClear","readOnly","onValueChange","maxLength"]),S=zn(b,["showWordLimit","className","defaultValue","addBefore","addAfter","afterStyle","beforeStyle","onKeyDown","onPressEnter","prefix","suffix"]),C=Iee(A.exports.useState(""),2),E=C[0],T=C[1],P=A.exports.useRef(!1),L=A.exports.useRef(),I=A.exports.useRef(),O=A.exports.useRef(null),F=Dt(_)?_.length:_,U=Dt(_)&&_.errorOnly?void 0:F,k=Ye(c,c&&(t={},t[c+"-size-"+h]=h,t[c+"-error"]=i,t[c+"-disabled"]=o,t),d?void 0:s);A.exports.useImperativeHandle(e,function(){return{dom:L.current,focus:function(){L.current&&L.current.focus&&L.current.focus()},blur:function(){L.current&&L.current.blur&&L.current.blur()}}},[]);var H=function(){if(I.current&&L.current){var G=I.current.offsetWidth;L.current.style.width=G+(G?8:4)+"px"}};A.exports.useEffect(function(){return g&&H()},[]);var $=function(G,ne){x&&G!==m&&(U===void 0||G.length<=U)&&x(G,ne)},V=function(G){var ne=G.target.value;P.current?(P.current=!1,T(ne)):(E&&T(void 0),$(ne,G))},N=function(G){P.current=G.type!=="compositionend",P.current||(T(void 0),$(G.target.value,G))},W=function(G){var ne=n.onKeyDown,ye=n.onPressEnter,xe=G.keyCode||G.which;P.current||(ne&&ne(G),xe===fd.code&&ye&&ye(G))},ee=fl(fl({"aria-invalid":i},S),{readOnly:y,maxLength:U,value:E||m||"",disabled:o,placeholder:a,onChange:V,onKeyDown:W,className:k,onCompositionStart:N,onCompositionUpdate:N,onCompositionEnd:N}),j=ee.value||a;return We(Ut,{children:[r?We(Ut,{children:[M("input",Be({},fl({ref:L},ee))),!y&&!o&&r&&m?M(Ir,{className:c+"-clear-icon",onClick:function(G){G.stopPropagation(),L.current&&L.current.focus&&L.current.focus(),$("",G),v&&v()},children:M(ka,{onMouseDown:function(G){G.preventDefault()}})}):null]}):M("input",Be({},fl({ref:L},ee,{style:d?{}:fl(fl({},l),"height"in n?{height:u}:{})}))),g&&M(zl,{onResize:function(){var G=I.current.offsetWidth;if(typeof g=="object"){var ne=typeof g.delay=="function"?g.delay(G,O.current):g.delay;ne?setTimeout(H,ne):H()}else H();O.current=G},children:M("span",{className:c+"-mirror",ref:I,children:j&&j.replace(/\s/g,"\xA0")})})]})});CB.displayName="InputComponent";var PT=CB,nC=globalThis&&globalThis.__assign||function(){return nC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nC.apply(this,arguments)},Nee=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},MB=Ce.forwardRef(function(n,e){var t,r=A.exports.useContext(wt).getPrefixCls,i=n.className,o=n.style,a=n.children,s=n.compact,l=Nee(n,["className","style","children","compact"]),u=r("input-group"),c=Ye(u,(t={},t[u+"-compact"]=s,t),i);return M("div",lt(Be({},nC({ref:e,className:c,style:o},l)),{children:a}))});MB.displayName="InputGroup";var Lee=MB,Tu=globalThis&&globalThis.__assign||function(){return Tu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Tu.apply(this,arguments)},oL=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Dee=function(n){n.target.tagName!=="INPUT"&&n.preventDefault()},ov=function(n,e,t,r){return t===void 0&&(t={}),e?M("span",{style:t,className:n,onClick:r,children:e}):null};function dd(n,e){var t=n!==null&&!Ra(n)&&!Fm(n)?String(n):n||"";return e?t.slice(0,e):t}function kee(n,e){var t,r,i,o=A.exports.useContext(wt),a=o.getPrefixCls,s=o.size,l=o.componentConfig,u=cn(n,{},l==null?void 0:l.Input),c=u.className,d=u.style,h=u.addBefore,m=u.addAfter,g=u.suffix,v=u.prefix,y=u.beforeStyle,x=u.afterStyle,_=u.height,b=u.disabled,S=u.maxLength,C=u.showWordLimit,E=u.allowClear,T=Dt(S)?S.length:S,P=Dt(S)&&S.errorOnly?void 0:T,L=oL(A.exports.useState(!1),2),I=L[0],O=L[1],F=A.exports.useRef(),U=A.exports.useRef(),k=oL($n("",{defaultValue:"defaultValue"in u?dd(u.defaultValue,P):void 0,value:"value"in u?dd(u.value,P):void 0}),2),H=k[0],$=k[1];A.exports.useImperativeHandle(e,function(){return F.current},[]);var V=function(be,ke){"value"in u||$(be),u.onChange&&u.onChange(be,ke)},N=a("input"),W=u.size||s,ee="height"in u,j=g,G=H?H.length:0,ne=A.exports.useMemo(function(){return!P&&T?G>T:!1},[G,T,P]);T&&C&&(j=We("span",{className:Ye(N+"-word-limit",(t={},t[N+"-word-limit-error"]=ne,t)),children:[G,"/",T]}));var ye=Ye(N+"-group-wrapper",N+"-group-wrapper-"+W,(r={},r[N+"-custom-height"]=ee,r[N+"-has-suffix"]=j,r[N+"-group-wrapper-disabled"]=b,r),c),xe=h||m||j||v,oe=M(PT,Be({},Tu({ref:F},u,{onFocus:function(be){O(!0),u.onFocus&&u.onFocus(be)},onBlur:function(be){O(!1),u.onBlur&&u.onBlur(be)},prefixCls:N,value:H,onValueChange:V,hasParent:!!xe||E,size:W}))),de=Ye(N+"-inner-wrapper",(i={},i[N+"-inner-wrapper-error"]=u.error||ne,i[N+"-inner-wrapper-disabled"]=b,i[N+"-inner-wrapper-focus"]=I,i[N+"-inner-wrapper-has-prefix"]=v,i[N+"-inner-wrapper-"+W]=W,i[N+"-clear-wrapper"]=E,i));return xe?M("div",{className:ye,style:Tu(Tu({},d),ee?{height:_}:{}),children:We("span",{className:N+"-group",children:[ov(N+"-group-addbefore",h,y),We("span",{className:de,ref:U,onMouseDown:function(be){be.target.tagName!=="INPUT"&&U.current&&Zy(U.current,be.target)&&be.preventDefault()},onClick:function(be){U.current&&Zy(U.current,be.target)&&F.current&&F.current.focus()},children:[ov(N+"-group-prefix",v),oe,ov(N+"-group-suffix",j)]}),ov(N+"-group-addafter",m,x)]})}):E?M("span",{className:Ye(c,de),style:Tu(Tu({},d),ee?{height:_}:{}),onMouseDown:Dee,onClick:function(){F.current&&F.current.focus()},children:oe}):oe}var Id=Ce.forwardRef(kee);Id.displayName="Input";Id.Search=_ee;Id.TextArea=Tee;Id.Password=Aee;Id.Group=Lee;var zs=Id,Fee=function(n){var e=n.getContainer,t=n.children,r=A.exports.useRef(),i=Yx();return i&&!Rd&&(r.current=e()),A.exports.useEffect(function(){return function(){var o=r.current;o&&o.parentNode&&o.parentNode.removeChild(o)}},[]),r.current?Ts.createPortal(t,r.current):null},zee=Fee,Cf=globalThis&&globalThis.__assign||function(){return Cf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Cf.apply(this,arguments)};function Bee(n,e,t){if(!t||!n||Rd)return{left:0,width:0,height:0,top:0};var r=function(g){return document.documentElement[g]||document.body[g]},i=t===document.body?r("scrollTop"):t.scrollTop,o=t===document.body?r("scrollLeft"):t.scrollLeft,a=e.left,s=e.top,l=e.width,u=e.height,c=t===document.body?0:t.getBoundingClientRect().left,d=t===document.body?0:t.getBoundingClientRect().top,h=s+i-d,m=a+o-c;return{left:m,top:h,width:l,height:u}}var Co=function(n,e,t){return t<n?n:t>e?e:t},Uee=function(n,e){var t=0,r=0,i={};e?i=Cf({left:12,right:12,top:12,bottom:12},n):i=Cf({},n);for(var o in i)if(gr(i[o])){var a=0;["top","bottom"].indexOf(o)>-1?(a=1,t=i[o][0]):r=i[o][1],i[o]=i[o][a]}return Cf(Cf({},i),{horizontalOffset:t,verticalOffset:r})},Hee=function(n,e){return e?{left:e.clientX,top:e.clientY,width:0,height:0,right:e.clientX,bottom:e.clientY}:n.getBoundingClientRect()},Vee=function(n,e,t,r,i){var o=n.autoAlignPopupWidth,a=n.autoAlignPopupMinWidth,s=n.alignPoint,l=n.style;if(!t||!e||!r)return{};var u={},c=Hee(t,s&&i),d=Bee(t,c,r),h=d.left,m=d.top,g=d.width,v=d.height,y=Uee(n.popupAlign,n.showArrow),x=y.left||0,_=y.right||0,b=y.top||0,S=y.bottom||0;o&&(l==null?void 0:l.width)===void 0&&(e.style.width=t.offsetWidth+"px"),a&&(e.style.minWidth=t.offsetWidth+"px");var C=n.position,E={},T=function($){var V,N;if(!!n.autoFitPosition){var W=((V=document.documentElement)===null||V===void 0?void 0:V.clientHeight)||window.innerHeight,ee=((N=document.documentElement)===null||N===void 0?void 0:N.clientWidth)||window.innerWidth,j=!1,G={left:h-c.left,top:m-c.top},ne=u.top,ye=ne===void 0?0:ne,xe=u.left,oe=xe===void 0?0:xe;if(($==="top"||$==="bottom")&&(G.left>oe&&c.right>12?(u.left=Math.max(G.left,h-e.clientWidth),u.left=Math.max(u.left,h-e.clientWidth+24)):oe-G.left+e.clientWidth>ee&&ee-c.left>12&&(u.left=Math.max(G.left,G.left+ee-e.clientWidth),u.left=Math.max(u.left,h-e.clientWidth+24))),($==="left"||$==="right")&&(G.top>ye&&c.bottom>12?(u.top=G.top,u.top=Math.max(u.top,m-e.clientHeight+c.height/2)):ye-G.top+e.clientHeight>W&&W-c.top>12&&(u.top=Math.max(G.top,G.top+W-e.clientHeight),u.top=Math.max(u.top,m-e.clientHeight+c.height/2))),$==="top"&&G.top>ye&&(c.top<W-c.bottom?(u.top=Math.min(m+v+(b||0),G.top+W-e.clientHeight),j=!0):u.top=G.top),$==="bottom"&&ye-G.top+e.clientHeight>W&&(W-c.bottom<c.top?(u.top=Math.max(m-e.clientHeight-(S||0),G.top),j=!0):u.top=G.top+W-e.clientHeight),$==="left"&&G.left>oe&&(c.left<ee-c.right?(u.left=Math.min(g+h+_,G.left+ee-e.clientWidth),j=!0):u.left=G.left),$==="right"&&oe-G.left+e.clientWidth>ee&&(ee-c.right<c.left?(u.left=Math.max(h-e.clientWidth-x,G.left),j=!0):u.left=G.left+ee-e.clientWidth),u.left<0)u.left=0;else{var de=r.scrollWidth-e.clientWidth;u.left=Math.min(de,u.left)}return j}},P=y.horizontalOffset||0,L=y.verticalOffset||0;switch(n.position){case"top":{u.top=m-e.clientHeight-b,u.left=h+g/2-e.clientWidth/2,T("top")&&(C="bottom"),u.left+=P;var I=h-Number(u.left)+g/2;E.left=Co(12,e.clientWidth-12,I);break}case"tl":u.top=m-e.clientHeight-b,u.left=h,T("top")&&(C="bl"),u.left+=P;var O=h-Number(u.left)+Math.min(g/2,50);E.left=Co(12,e.clientWidth-12,O);break;case"tr":u.top=-e.clientHeight+m-b,u.left=h+g-e.clientWidth,T("top")&&(C="br"),u.left+=P,O=h-Number(u.left)+Math.max(g/2,g-50),E.left=Co(12,e.clientWidth-12,O);break;case"bottom":{u.top=v+m+S,u.left=h+g/2-e.clientWidth/2,T("bottom")&&(C="top"),u.left+=P;var F=h-Number(u.left)+g/2;E.left=Co(12,e.clientWidth-12,F);break}case"bl":u.top=v+m+S,u.left=h,T("bottom")&&(C="tl"),u.left+=P,O=h-Number(u.left)+Math.min(g/2,50),E.left=Co(12,e.clientWidth-12,O);break;case"br":u.top=v+m+S,u.left=h+g-e.clientWidth,T("bottom")&&(C="tr"),u.left+=P,O=h-Number(u.left)+Math.max(g/2,g-50),E.left=Co(12,e.clientWidth-12,O);break;case"left":{u.top=m+v/2-e.clientHeight/2,u.left=h-e.clientWidth-x,T("left")&&(C="right"),u.top+=L;var U=m-Number(u.top)+v/2;E.top=Co(12,e.clientHeight-12,U);break}case"lt":u.top=m,u.left=h-e.clientWidth-x,T("left")&&(C="rt"),u.top+=L;var k=m-Number(u.top)+Math.min(v/2,50);E.top=Co(12,e.clientHeight-12,k);break;case"lb":u.top=m+v-e.clientHeight,u.left=h-e.clientWidth-x,T("left")&&(C="rb"),u.top+=L,k=m-Number(u.top)+Math.max(v/2,v-50),E.top=Co(12,e.clientHeight-12,k);break;case"right":{u.top=m+v/2-e.clientHeight/2,u.left=g+h+_,T("right")&&(C="left"),u.top+=L;var H=m-Number(u.top)+v/2;E.top=Co(12,e.clientHeight-12,H);break}case"rt":u.top=m,u.left=g+h+_,T("right")&&(C="lt"),u.top+=L,k=m-Number(u.top)+Math.min(v/2,50),E.top=Co(12,e.clientHeight-12,k);break;case"rb":u.top=m+v-e.clientHeight,u.left=g+h+_,T("right")&&(C="lb"),u.top+=L,k=m-Number(u.top)+Math.max(v/2,v-50),E.top=Co(12,e.clientHeight-12,k);break}return{style:u,arrowStyle:E,realPosition:C}},xp=globalThis&&globalThis.__assign||function(){return xp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},xp.apply(this,arguments)};function Gee(n,e,t){var r=xp(xp({},e),t),i=xp({},n);for(var o in r)i[o]===void 0&&(i[o]=r[o]);return i}var Wee=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fr=globalThis&&globalThis.__assign||function(){return fr=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fr.apply(this,arguments)};function aL(n){if(!n)return{};var e=n.getBoundingClientRect(),t=e.width,r=e.height,i=e.left,o=e.right;return{width:t,height:r,left:i,right:o}}var EB=["onClick","onMouseEnter","onMouseLeave","onMouseMove","onFocus","onBlur","onContextMenu","onKeyDown"];function $ee(n,e){var t={},r=fr({},n);return e.forEach(function(i){n&&i in n&&(t[i]=n[i],delete r[i])}),{picked:t,omitted:r}}var jee={blurToHide:!0,clickToClose:!0,classNames:"fadeIn",trigger:"hover",position:"bottom",duration:200,unmountOnExit:!0,popupAlign:{},popupHoverStay:!0,clickOutsideToClose:!0,escToClose:!1,mouseLeaveToClose:!0,getDocument:function(){return window.document},autoFixPosition:!0,mouseEnterDelay:100,mouseLeaveDelay:100,autoFitPosition:!0},Kee=function(n){Wee(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.delayTimer=null,i.updatePositionTimer=null,i.popupOpen=!1,i.mousedownToHide=!1,i.hasPopupMouseDown=!1,i.unmount=!1,i.mouseLocation={clientX:0,clientY:0},i.observerContainer=null,i.scrollElements=null,i.resizeObserver=new Zx(function(){i.handleUpdatePosition()}),i.childrenDom=null,i.childrenDomSize={},i.getMergedProps=function(s){var l=i.context.componentConfig,u=Gee(s||i.props,jee,l==null?void 0:l.Trigger);return u},i.getRootElement=function(){return Rr.exports.findDOMNode(i)},i.isDidMount=!1,i.offScrollListeners=function(){(i.scrollElements||[]).forEach(function(s){An(s,"scroll",i.handleUpdatePosition)}),i.scrollElements=null},i.offWindowResize=function(){i.handleWindowResize=!1,An(window,"resize",i.handleUpdatePosition)},i.offContainerResize=function(){i.resizeObserver&&i.observerContainer&&(i.resizeObserver.unobserve(i.observerContainer),i.observerContainer=null)},i.onContainersScroll=function(){var s;i.scrollElements||(i.scrollElements=FQ(i.childrenDom,(s=i.popupContainer)===null||s===void 0?void 0:s.parentNode),i.scrollElements.forEach(function(l){yn(l,"scroll",i.handleUpdatePosition)}))},i.onContainerResize=function(){var s,l=(s=i.popupContainer)===null||s===void 0?void 0:s.parentNode;i.resizeObserver&&i.observerContainer!==l&&(i.offContainerResize(),l&&i.resizeObserver.observe(l),i.observerContainer=l)},i.handleUpdatePosition=ud(function(){i.updatePopupPosition()}),i.isClickTrigger=function(){var s=i.getMergedProps().trigger;return[].concat(s).indexOf("click")>-1},i.isFocusTrigger=function(){var s=i.getMergedProps().trigger;return[].concat(s).indexOf("focus")>-1},i.isHoverTrigger=function(){var s=i.getMergedProps().trigger;return[].concat(s).indexOf("hover")>-1},i.isContextMenuTrigger=function(){var s=i.getMergedProps().trigger;return[].concat(s).indexOf("contextMenu")>-1},i.isMouseLeaveToClose=function(){return i.isHoverTrigger()&&i.getMergedProps().mouseLeaveToClose},i.isPopupHoverHide=function(){return i.isHoverTrigger()&&!i.getMergedProps().popupHoverStay},i.isClickToHide=function(){return(i.isClickTrigger()||i.isContextMenuTrigger())&&i.getMergedProps().clickToClose},i.isBlurToHide=function(){return i.isFocusTrigger()&&i.getMergedProps().blurToHide},i.clearTimer=function(){i.updatePositionTimer&&(i.updatePositionTimer.cancel?i.updatePositionTimer.cancel():(clearTimeout(i.updatePositionTimer),i.updatePositionTimer=null)),i.delayTimer&&(clearTimeout(i.delayTimer),i.delayTimer=null),i.mouseDownTimeout&&(clearTimeout(i.mouseDownTimeout),i.mouseDownTimeout=null)},i.offClickOutside=function(){if(i.handleClickOutside){var s=i.getMergedProps().getDocument,l=Xt(s)&&s();An(l,"mousedown",i.onClickOutside),i.handleClickOutside=!1}},i.getTransformOrigin=function(s){var l,u,c=Rr.exports.findDOMNode(i.triggerRef);if(!c)return{};var d=i.getMergedProps(),h=d.showArrow,m=d.classNames,g=h&&((l=i.arrowStyle)===null||l===void 0?void 0:l.top)||0,v=h&&((u=i.arrowStyle)===null||u===void 0?void 0:u.left)||0;g=g?g+"px":"",v=v?v+"px":"";var y={top:(v||"50%")+" 100% 0",tl:(v||"15px")+" 100% 0",tr:(v||c.clientWidth-15+"px")+" 100% 0",bottom:(v||"50%")+" 0 0",bl:(v||"15px")+" 0 0",br:(v||c.clientWidth-15+"px")+" 0 0",left:"100% "+(g||"50%")+" 0",lt:"100% "+(g||"15px")+" 0",lb:"100% "+(g||c.clientHeight-15+"px")+" 0",right:"0 "+(g||"50%")+" 0",rt:"0 "+(g||"15px")+" 0",rb:"0 "+(g||c.clientHeight-15+"px")+" 0"};if(m&&m.indexOf("zoom")>-1)return{transformOrigin:y[s]};if(m==="slideDynamicOrigin"){var x="0% 0%";return["top","tl","tr"].indexOf(s)>-1&&(x="100% 100%"),{transformOrigin:x}}return{}},i.getTransformTranslate=function(){if(i.getMergedProps().classNames!=="slideDynamicOrigin")return"";switch(i.realPosition){case"bottom":case"bl":case"br":return"scaleY(0.9) translateY(-4px)";case"top":case"tl":case"tr":return"scaleY(0.9) translateY(4px)";default:return""}},i.getPopupStyle=function(){if(!(i.unmount||!i.popupContainer)){var s=i.popupContainer,l=Rr.exports.findDOMNode(i.triggerRef),u=Rr.exports.findDOMNode(i),c=Vee(i.getMergedProps(),l,u,s,i.mouseLocation),d=c.style,h=c.arrowStyle,m=c.realPosition;return i.realPosition=m||i.getMergedProps().position,i.arrowStyle=h||{},fr(fr({},d),i.getTransformOrigin(i.realPosition))}},i.showPopup=function(s){s===void 0&&(s=function(){});var l=i.getPopupStyle();i.setState({popupStyle:l},s)},i.update=ud(function(s){if(!(i.unmount||!i.state.popupVisible)){var l=i.getPopupStyle();i.setState({popupStyle:l},function(){s&&s()})}}),i.updatePopupPosition=function(s,l){s===void 0&&(s=0);var u=i.state.popupVisible;if(!!u){if(s<4){i.updatePositionTimer=i.update(l);return}i.updatePositionTimer=setTimeout(function(){var c=i.getPopupStyle();i.setState({popupStyle:c},function(){l&&l()})},s)}},i.setPopupVisible=function(s,l,u){l===void 0&&(l=0);var c=i.getMergedProps(),d=c.onVisibleChange,h=i.state.popupVisible;s!==h?i.delayToDo(l,function(){d&&d(s),"popupVisible"in c?u&&u():s?i.setState({popupVisible:!0},function(){i.showPopup(u)}):i.setState({popupVisible:!1},function(){u&&u()})}):u&&u()},i.delayToDo=function(s,l){s?(i.clearDelayTimer(),i.delayTimer=setTimeout(function(){l(),i.clearDelayTimer()},s)):l()},i.onClickOutside=function(s){var l=i.getMergedProps(),u=l.onClickOutside,c=l.clickOutsideToClose,d=Rr.exports.findDOMNode(i.triggerRef),h=Rr.exports.findDOMNode(i);!Zy(d,s.target)&&!Zy(h,s.target)&&!i.hasPopupMouseDown&&(u&&u(),c&&!i.isBlurToHide()&&!i.isHoverTrigger()&&i.setPopupVisible(!1))},i.onKeyDown=function(s){var l=s.keyCode||s.which;i.triggerPropsEvent("onKeyDown",s),l===Qp.code&&i.onPressEsc(s)},i.onPressEsc=function(s){var l=i.getMergedProps().escToClose;l&&s&&s.key===Qp.key&&i.state.popupVisible&&i.setPopupVisible(!1)},i.onMouseEnter=function(s){var l=i.getMergedProps().mouseEnterDelay;i.triggerPropsEvent("onMouseEnter",s),i.clearDelayTimer(),i.setPopupVisible(!0,l||0)},i.onMouseMove=function(s){i.triggerPropsEvent("onMouseMove",s),i.setMouseLocation(s),i.state.popupVisible&&i.update()},i.onMouseLeave=function(s){var l=i.getMergedProps().mouseLeaveDelay;i.clearDelayTimer(),i.triggerPropsEvent("onMouseLeave",s),i.isMouseLeaveToClose()&&i.state.popupVisible&&i.setPopupVisible(!1,l||0)},i.onPopupMouseEnter=function(){i.clearDelayTimer()},i.onPopupMouseLeave=function(s){i.onMouseLeave(s)},i.setMouseLocation=function(s){i.getMergedProps().alignPoint&&(i.mouseLocation={clientX:s.clientX,clientY:s.clientY})},i.onContextMenu=function(s){s.preventDefault(),i.triggerPropsEvent("onContextMenu",s),i.setMouseLocation(s),i.state.popupVisible?i.getMergedProps().alignPoint&&i.update():i.setPopupVisible(!0,0)},i.hideContextMenu=function(s){var l=i.state.popupVisible;l&&(i.mousedownToHide=!0),i.triggerPropsEvent("onClick",s),i.isClickToHide()&&l&&i.setPopupVisible(!l,0)},i.onClick=function(s){var l=i.state.popupVisible;l&&(i.mousedownToHide=!0),i.triggerPropsEvent("onClick",s),i.setMouseLocation(s),!(!i.isClickToHide()&&l)&&i.setPopupVisible(!l,0)},i.onFocus=function(s){var l=i.getMergedProps().focusDelay,u=function(){i.triggerPropsEvent("onFocus",s)};i.clearDelayTimer(),i.mousedownToHide||(i.state.popupVisible?u&&u():i.setPopupVisible(!0,l||0,u)),i.mousedownToHide=!1},i.onBlur=function(s){i.setPopupVisible(!1,200,function(){return i.triggerPropsEvent("onBlur",s)})},i.onResize=function(){i.getMergedProps().autoFixPosition&&i.state.popupVisible&&i.updatePopupPosition()},i.onPopupMouseDown=function(){i.hasPopupMouseDown=!0,clearTimeout(i.mouseDownTimeout),i.mouseDownTimeout=setTimeout(function(){i.hasPopupMouseDown=!1},0)},i.getChild=function(){var s=i.props.children,l=s,u=l&&typeof l!="string"&&l.type,c=s;if(["string","number"].indexOf(typeof s)>-1||Ce.Children.count(s)>1)c=M("span",{children:s});else if(l&&u&&(u.__BYTE_BUTTON===!0||u.__BYTE_CHECKBOX===!0||u.__BYTE_SWITCH===!0||u.__BYTE_RADIO===!0||u==="button")&&l.props.disabled){var d=$ee(l.props.style,["position","left","right","top","bottom","float","display","zIndex"]),h=d.picked,m=d.omitted;c=M("span",{className:l.props.className,style:fr(fr({display:"inline-block"},h),{cursor:"not-allowed"}),children:Ce.cloneElement(l,{style:fr(fr({},m),{pointerEvents:"none"}),className:void 0})})}return c||M("span",{})},i.appendToContainer=function(s){if(hi(i.rafId),i.isDidMount){var l=i.context.getPopupContainer,u=i.getMergedProps().getPopupContainer,c=u||l,d=i.getRootElement(),h=c(d);if(h){h.appendChild(s);return}}i.rafId=eo(function(){i.appendToContainer(s)})},i.getContainer=function(){var s=document.createElement("div");return s.style.width="100%",s.style.position="absolute",s.style.top="0",s.style.left="0",i.popupContainer=s,i.appendToContainer(s),s},i.triggerPropsEvent=function(s,l){var u=i.getChild(),c=u&&u.props&&u.props[s],d=i.getMergedProps();Xt(c)&&c(l),Xt(d[s])&&d[s](l)},i.triggerOriginEvent=function(s){var l=i.getChild(),u=l&&l.props&&l.props[s],c=i.getMergedProps()[s];return Xt(c)&&Xt(u)?function(d){u(d),c(d)}:u||c};var o=i.getMergedProps(t),a="popupVisible"in o?o.popupVisible:o.defaultPopupVisible;return i.popupOpen=!!a,i.state={popupVisible:!!a,popupStyle:{}},i}return e.getDerivedStateFromProps=function(t,r){return"popupVisible"in t&&t.popupVisible!==r.popupVisible?{popupVisible:t.popupVisible}:null},e.prototype.componentDidMount=function(){this.componentDidUpdate(this.getMergedProps()),this.isDidMount=!0,this.childrenDom=Rr.exports.findDOMNode(this),this.state.popupVisible&&(this.childrenDomSize=aL(this.childrenDom))},e.prototype.componentDidUpdate=function(t){var r=this.getMergedProps(t),i=this.getMergedProps();!r.popupVisible&&i.popupVisible&&this.update();var o=this.state.popupVisible;this.popupOpen=o;var a=i.getDocument;if(!o){this.offClickOutside(),this.offContainerResize(),this.offWindowResize(),this.offScrollListeners();return}var s=aL(this.childrenDom);if(JSON.stringify(s)!==JSON.stringify(this.childrenDomSize)&&(this.updatePopupPosition(),this.childrenDomSize=s),this.onContainerResize(),i.updateOnScroll&&this.onContainersScroll(),this.handleWindowResize||(yn(window,"resize",this.handleUpdatePosition),this.handleWindowResize=!0),!this.handleClickOutside){var l=Xt(a)&&a();l&&(yn(l,"mousedown",this.onClickOutside),this.handleClickOutside=!0)}},e.prototype.componentWillUnmount=function(){this.unmount=!0,this.offClickOutside(),this.clearTimer(),this.offWindowResize(),this.offScrollListeners(),this.offContainerResize(),hi(this.rafId)},e.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},e.prototype.render=function(){var t,r,i=this,o,a=this.getMergedProps(),s=a.children,l=a.style,u=a.className,c=a.arrowProps,d=a.disabled,h=a.popup,m=a.classNames,g=a.duration,v=a.unmountOnExit,y=a.alignPoint,x=a.autoAlignPopupWidth,_=a.position,b=a.childrenPrefix,S=a.showArrow,C=a.popupStyle,E=s||s===0,T=this.context,P=T.getPrefixCls,L=T.zIndex,I=this.state,O=I.popupVisible,F=I.popupStyle;if(!h)return null;var U={},k={onMouseDown:this.onPopupMouseDown};this.isHoverTrigger()&&!d?(U.onMouseEnter=this.onMouseEnter,U.onMouseLeave=this.onMouseLeave,y&&(U.onMouseMove=this.onMouseMove),this.isPopupHoverHide()||(k.onMouseEnter=this.onPopupMouseEnter,k.onMouseLeave=this.onPopupMouseLeave)):(U.onMouseEnter=this.triggerOriginEvent("onMouseEnter"),U.onMouseLeave=this.triggerOriginEvent("onMouseLeave")),this.isContextMenuTrigger()&&!d?(U.onContextMenu=this.onContextMenu,U.onClick=this.hideContextMenu):U.onContextMenu=this.triggerOriginEvent("onContextMenu"),this.isClickTrigger()&&!d?U.onClick=this.onClick:U.onClick=U.onClick||this.triggerOriginEvent("onClick"),this.isFocusTrigger()&&!d?(U.onFocus=this.onFocus,this.isBlurToHide()&&(U.onBlur=this.onBlur)):(U.onFocus=this.triggerOriginEvent("onFocus"),U.onBlur=this.triggerOriginEvent("onBlur")),d?U.onKeyDown=this.triggerOriginEvent("onKeyDown"):U.onKeyDown=this.onKeyDown;var H=this.getChild(),$=Ce.Children.only(h());H.props.className&&(U.className=H.props.className),b&&O&&(U.className=U.className?U.className+" "+b+"-open":b+"-open"),this.isFocusTrigger()&&(U.tabIndex=d?-1:0);var V=P("trigger"),N=Ye(V,b,V+"-position-"+_,u),W=E&&M(zl,{onResize:this.onResize,children:Ce.cloneElement(H,fr({},U))}),ee=Ce.createElement(Fa,{in:!!O,timeout:g,classNames:m,unmountOnExit:v,appear:!0,mountOnEnter:!0,onEnter:function(G){G.style.display="initial",G.style.pointerEvents="none",m==="slideDynamicOrigin"&&(G.style.transform=i.getTransformTranslate())},onEntering:function(G){m==="slideDynamicOrigin"&&(G.style.transform="")},onEntered:function(G){G.style.pointerEvents="auto",i.forceUpdate()},onExit:function(G){G.style.pointerEvents="none"},onExited:function(G){G.style.display="none",v&&(i.triggerRef=null),i.setState({popupStyle:{}})}},Ce.createElement(zl,{onResize:this.onResize},Ce.createElement("span",fr({ref:function(G){return i.triggerRef=G},"trigger-placement":this.realPosition,style:fr(fr(fr({width:x&&(l==null?void 0:l.width)===void 0?(o=this.childrenDomSize)===null||o===void 0?void 0:o.width:""},F),{position:"absolute",zIndex:L||""}),l)},k,{className:N}),Ce.createElement($.type,fr({ref:$.ref},$.props,{style:fr(fr({},$.props.style),C)})),(S||c)&&M("div",{className:Ye(V+"-arrow-container",(t={},t[b+"-arrow-container"]=b,t)),children:M("div",Be({},fr({},c,{className:Ye(V+"-arrow",(r={},r[b+"-arrow"]=b,r),c==null?void 0:c.className),style:fr(fr({},this.arrowStyle),c==null?void 0:c.style)})))})))),j=O||this.triggerRef?M(zee,{getContainer:this.getContainer,children:ee}):null;return E?We(Ut,{children:[W,j]}):j},e.displayName="Trigger",e.contextType=wt,e}(A.exports.PureComponent),Qx=Kee,rC=globalThis&&globalThis.__assign||function(){return rC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rC.apply(this,arguments)},Xee=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Yee(n,e){var t=n.prefixCls,r=n.label,i=Xee(n,["prefixCls","label"]);return Ce.createElement("li",rC({ref:e,className:t+"-group-title"},zn(i,["_key","children","isSelectOptGroup"])),r)}var TB=Ce.forwardRef(Yee);TB.defaultProps={isSelectOptGroup:!0};var qee=TB,bw=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},sL=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},OB=A.exports.createContext({isCheckboxGroup:!1,checkboxGroupValue:[],onGroupChange:function(){},registerValue:function(){},unRegisterValue:function(){}});function PB(n){var e,t=bw($n([],{defaultValue:"defaultValue"in n?n.defaultValue||[]:void 0,value:"value"in n?n.value||[]:void 0}),2),r=t[0],i=t[1],o=bw(A.exports.useState([]),2),a=o[0],s=o[1],l=A.exports.useContext(wt).getPrefixCls,u=n.disabled,c=n.options,d=n.style,h=n.className,m=n.error,g=n.children,v=n.direction,y=v===void 0?"horizontal":v,x=l("checkbox"),_=Ye(x+"-group",(e={},e[x+"-group-is-error"]=m,e[x+"-group-direction-"+y]=y,e),h),b=A.exports.useCallback(function(S,C,E){var T=r.slice();C?T.push(S):T.splice(r.indexOf(S),1),i(T),n.onChange&&n.onChange(T.filter(function(P){return a.indexOf(P)>-1}),E)},[r,n.onChange,a]);return M("span",{className:_,style:d,children:M(OB.Provider,{value:{isCheckboxGroup:!0,checkboxGroupValue:r,onGroupChange:b,disabled:u,registerValue:function(S){s(function(C){return Array.from(new Set(sL(sL([],bw(C),!1),[S],!1)))})},unRegisterValue:function(S){s(function(C){return C.filter(function(E){return E!==S})})}},children:gr(c)?c.map(function(S){var C=Dt(S)?S.label:S,E=Dt(S)?S.value:S;return M(Hm,{disabled:u||Dt(S)&&S.disabled,value:E,children:C},E)}):g})})}PB.displayName="CheckboxGroup";var Rh=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},av=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Zee=function(n,e){var t=Rh(A.exports.useState(av([],Rh(e||[]),!1)),2),r=t[0],i=t[1],o=A.exports.useMemo(function(){var g=function(y){return r.indexOf(y)>-1},v=function(y,x){var _=gr(y)?y:[y],b;x?b=av(av([],Rh(r),!1),Rh(_),!1):b=r.filter(function(S){return _.indexOf(S)===-1}),i(Array.from(new Set(b)))};return{isSelected:g,setValueSelected:v}},[r]),a=o.isSelected,s=o.setValueSelected,l=A.exports.useMemo(function(){var g=function(){i(n)},v=function(){i([])},y=function(b){b===void 0&&(b=n);var S=gr(b)?b:[b],C=av([],Rh(r),!1);S.forEach(function(E){var T=C.indexOf(E);T>-1?C.splice(T,1):C.push(E)}),i(C)},x=function(){return n.every(function(b){return a(b)})},_=function(){return n.some(function(b){return a(b)})&&!x()};return{selectAll:g,unSelectAll:v,toggle:y,isAllSelected:x,isPartialSelected:_}},[r,n,a]),u=l.selectAll,c=l.unSelectAll,d=l.toggle,h=l.isAllSelected,m=l.isPartialSelected;return{selected:r,setSelected:i,setValueSelected:s,selectAll:u,unSelectAll:c,toggle:d,isSelected:a,isAllSelected:h,isPartialSelected:m}},Jee=Zee;function Qee(n){var e=n.className;return Ce.createElement("svg",{className:e,"aria-hidden":!0,focusable:!1,viewBox:"0 0 1024 1024",width:"200",height:"200",fill:"currentColor"},Ce.createElement("path",{d:"M877.44815445 206.10060629a64.72691371 64.72691371 0 0 0-95.14856334 4.01306852L380.73381888 685.46812814 235.22771741 533.48933518a64.72691371 64.72691371 0 0 0-92.43003222-1.03563036l-45.82665557 45.82665443a64.72691371 64.72691371 0 0 0-0.90617629 90.61767965l239.61903446 250.10479331a64.72691371 64.72691371 0 0 0 71.19960405 15.14609778 64.33855261 64.33855261 0 0 0 35.08198741-21.23042702l36.24707186-42.71976334 40.5190474-40.77795556-3.36579926-3.49525333 411.40426297-486.74638962a64.72691371 64.72691371 0 0 0-3.88361443-87.64024149l-45.3088404-45.43829334z","p-id":"840"}))}var e0=globalThis&&globalThis.__assign||function(){return e0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},e0.apply(this,arguments)},ete=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},tte=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function nte(n,e){var t,r=A.exports.useRef(null),i=A.exports.useContext(wt),o=i.getPrefixCls,a=i.componentConfig,s=cn(n,{},a==null?void 0:a.Checkbox),l=A.exports.useContext(OB),u=o("checkbox"),c=l.onGroupChange,d=e0({},s);l.isCheckboxGroup&&(d.checked=l.checkboxGroupValue.indexOf(s.value)!==-1,d.disabled="disabled"in s?s.disabled:l.disabled);var h=d.disabled,m=d.children,g=d.className,v=d.value,y=d.style,x=d.indeterminate,_=d.error,b=ete(d,["disabled","children","className","value","style","indeterminate","error"]),S=tte($n(!1,{value:d.checked,defaultValue:d.defaultChecked}),2),C=S[0],E=S[1],T=Ye(u,(t={},t[u+"-disabled"]=!!h,t[u+"-indeterminate"]=!!x,t[u+"-checked"]=C,t.error=_,t),g);A.exports.useEffect(function(){return l.registerValue(v),function(){l.unRegisterValue(v)}},[v]);var P=A.exports.useCallback(function(I){I.persist(),I.stopPropagation(),E(I.target.checked),l.isCheckboxGroup&&c&&c(s.value,I.target.checked,I),s.onChange&&s.onChange(I.target.checked,I)},[c,l.isCheckboxGroup,s.onChange,s.value]),L=Ce.useCallback(function(I){Xt(s.children)&&(I.preventDefault(),r.current&&r.current.click()),b.onClick&&b.onClick(I)},[s.children,b.onClick]);return We("label",lt(Be({},e0({ref:e,"aria-disabled":h},zn(b,["onChange"]),{onClick:L,className:T,style:y})),{children:[M("input",{value:v,disabled:!!h,ref:r,checked:!!C,onChange:P,onClick:function(I){return I.stopPropagation()},type:"checkbox"}),Xt(m)?m({checked:C,indeterminate:x}):We(Ut,{children:[M(Ir,{prefix:u,className:u+"-mask-wrapper",disabled:C||h||x,children:M("div",{className:u+"-mask",children:M(Qee,{className:u+"-mask-icon"})})}),m&&M("span",{className:u+"-text",children:m})]})]}))}var e_=Ce.forwardRef(nte);e_.displayName="Checkbox";e_.Group=PB;e_.useCheckbox=Jee;var Hm=e_,_p=globalThis&&globalThis.__assign||function(){return _p=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},_p.apply(this,arguments)},rte=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function ite(n,e){var t,r,i=n.style,o=n.className,a=n.wrapperClassName,s=n.disabled,l=n.prefixCls,u=n.value,c=n.children,d=n._isMultipleMode,h=n._valueActive,m=n._valueSelect,g=n._onMouseEnter,v=n._onMouseLeave,y=n._onClick,x=rte(n,["style","className","wrapperClassName","disabled","prefixCls","value","children","_isMultipleMode","_valueActive","_valueSelect","_onMouseEnter","_onMouseLeave","_onClick"]),_="value"in n?u:""+c,b="children"in n?c:""+u,S=d?m.indexOf(_)!==-1:m===_,C=_p({style:i,className:Ye(l+"-option",(t={},t[l+"-option-selected"]=S,t[l+"-option-disabled"]=s,t[l+"-option-hover"]=_===h,t[l+"-option-empty"]=!b&&b!==0,t),o),onMouseEnter:function(E){g&&g(_),x.onMouseEnter&&x.onMouseEnter(E)},onMouseLeave:function(E){v&&v(),x.onMouseLeave&&x.onMouseLeave(E)},onClick:function(E){y&&y(_,s),x.onClick&&x.onClick(E)}},zn(x,["_key","extra","isSelectOption","onClick","onMouseEnter","onMouseLeave"]));return d?Ce.createElement("li",{role:"option","aria-selected":S,ref:e,className:Ye(l+"-option-wrapper",(r={},r[l+"-option-wrapper-selected"]=S,r[l+"-option-wrapper-disabled"]=s,r),a)},Ce.createElement(Hm,{"aria-hidden":"true",className:l+"-checkbox",checked:S,disabled:s,onChange:C.onClick}),Ce.createElement("span",_p({},C),b)):Ce.createElement("li",_p({role:"option","aria-selected":S,ref:e},C),b)}var AB=Ce.forwardRef(ite);AB.defaultProps={isSelectOption:!0};var RB=AB,lL=function(n){return JSON.stringify({code:n.code,ctrl:!!n.ctrl,shift:!!n.shift,alt:!!n.alt,meta:!!n.meta})};function IB(n){var e={};return n.forEach(function(t,r){r=typeof r=="number"?{code:r}:r,e[lL(r)]=t}),function(t){var r=lL({code:t.keyCode||t.which,ctrl:!!t.ctrlKey,shift:!!t.shiftKey,alt:!!t.altKey,meta:!!t.metaKey}),i=e[r];i&&(t.stopPropagation(),i(t)===!1&&t.preventDefault())}}var t0=globalThis&&globalThis.__assign||function(){return t0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},t0.apply(this,arguments)},ote=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},ww=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},ate=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta","gray"],ste={size:"default"};function lte(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,ste,o==null?void 0:o.Tag),s=a.className,l=a.style,u=a.children,c=a.color,d=a.closable,h=a.checkable,m=a.defaultChecked,g=a.size,v=a.onClose,y=a.onCheck,x=a.icon,_=a.closeIcon,b=a.bordered,S=ote(a,["className","style","children","color","closable","checkable","defaultChecked","size","onClose","onCheck","icon","closeIcon","bordered"]),C=i("tag"),E=ww(A.exports.useState("visible"in a?a.visible:!0),2),T=E[0],P=E[1],L=ww(A.exports.useState("checked"in a?a.checked:m),2),I=L[0],O=L[1],F=ww(A.exports.useState(),2),U=F[0],k=F[1],H="checked"in a?a.checked:I,$="visible"in a?a.visible:T;function V(ye){var xe=v&&v(ye);xe&&xe.then?(k(!0),xe.then(function(){k(!1),P(!1)}).catch(function(){k(!1)})):P(!1)}function N(){var ye=!H;"checked"in a||O(ye),y&&y(ye)}var W=c&&ate.indexOf(c)!==-1?c:"",ee=h?H:!0,j=Ye(C,(t={},t[C+"-loading"]=U,t[C+"-hide"]=!$,t[C+"-"+W]=W,t[C+"-checkable"]=h,t[C+"-checked"]=ee,t[C+"-size-"+g]=g,t[C+"-bordered"]=b,t[C+"-custom-color"]=ee&&c&&!W,t),s),G=t0({},l);c&&!W&&ee&&(G.backgroundColor=c,G.borderColor=c);var ne=zn(S,["visible"]);return h&&(ne.onClick=N),We("div",lt(Be({},t0({ref:e,style:G,className:j},ne)),{children:[x&&M("span",{className:C+"-icon",children:x}),u,d&&!U&&_!==null&&M(Ir,{prefix:C,className:C+"-close-btn",onClick:V,role:"button","aria-label":"Close",children:_!==void 0?_:M(ka,{})}),U&&M("span",{className:C+"-loading-icon",children:M(dc,{})})]}))}var NB=A.exports.forwardRef(lte);NB.displayName="Tag";var ute=NB,Sw=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function LB(n){var e,t=n.prefixCls,r=n.style,i=n.children,o=n.direction,a=n.disabled,s=n.droppable,l=n.onDrop,u=n.onDragStart,c=n.onDragEnd,d=n.onDragOver,h=n.onDragLeave,m=A.exports.useRef(null),g=A.exports.useRef(null),v=Sw(A.exports.useState("none"),2),y=v[0],x=v[1],_=Sw(A.exports.useState(!1),2),b=_[0],S=_[1],C=Sw(A.exports.useState(null),2),E=C[0],T=C[1];return A.exports.useEffect(function(){return function(){g.current&&clearTimeout(g.current)}},[]),A.exports.useEffect(function(){y==="dragged"&&(g.current=setTimeout(function(){return x("none")},1e3))},[y]),M("li",{draggable:!0,ref:m,style:r,className:Ye(t+"-item",(e={},e[t+"-item-"+y]=y!=="none",e[t+"-item-gap-"+E]=E,e[t+"-item-disabled"]=a,e[t+"-item-dragover"]=b,e)),onDragStart:function(P){P.stopPropagation(),x("dragging");try{P.dataTransfer.setData("text/plain","")}catch{}u&&u(P)},onDragEnd:function(P){P.stopPropagation(),S(!1),x("dragged"),c&&c(P)},onDragOver:function(P){if(s){P.stopPropagation(),P.preventDefault();var L=m.current.getBoundingClientRect();T(o==="vertical"?P.pageY>window.pageYOffset+L.top+L.height/2?"bottom":"top":P.pageX>window.pageXOffset+L.left+L.width/2?"right":"left"),S(!0),d&&d(P)}},onDragLeave:function(P){s&&(P.stopPropagation(),S(!1),h&&h(P))},onDrop:function(P){s&&(P.stopPropagation(),P.preventDefault(),S(!1),T(null),x("none"),l&&l(P,E))},children:i})}LB.defaultProps={droppable:!0};var cte=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function DB(n){var e=A.exports.useContext(wt).getPrefixCls,t=e("draggable"),r=n.className,i=n.children,o=n.direction,a=n.onIndexChange,s=n.itemWrapperStyle,l=cte(A.exports.useState(null),2),u=l[0],c=l[1];return M("div",{className:Ye(t,r),children:Ce.Children.map(i,function(d,h){return M(LB,{style:s,prefixCls:t,direction:o,onDragStart:function(){return c(h)},onDragEnd:function(){return c(null)},onDrop:function(m,g){var v=u,y=g==="left"||g==="top"?h:h+1;a&&v!==y&&a(y,v)},children:d})})})}DB.defaultProps={direction:"vertical"};var em=globalThis&&globalThis.__assign||function(){return em=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},em.apply(this,arguments)},Cw=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,e||[])).next())})},Mw=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Fc=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},uL=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},iC=300,fte="__input_"+Math.random().toFixed(10).slice(2),Ew=function(n){n.target.tagName!=="INPUT"&&n.preventDefault()},cL=function(n){return gr(n)?n.map(function(e){return Dt(e)?em(em({},e),{label:"label"in e?e.label:e.value,value:e.value,closable:e.closable}):{label:e,value:e}}):[]},dte=function(n){var e=A.exports.useRef(0),t=A.exports.useRef(n.length);return A.exports.useEffect(function(){e.current=n.length===0&&t.current>0?iC:0,t.current=n.length},[n]),e},hte=function(n){var e=n.prefixCls,t=n.children,r=n.animation;return r?M(ET,{component:"div",className:e+"-inner",children:t}):M("div",{className:e+"-inner",children:t})},pte={animation:!0,validate:function(n,e){return n&&e.every(function(t){return t.value!==n})}};function mte(n,e){var t,r=this,i=A.exports.useContext(wt),o=i.getPrefixCls,a=i.size,s=i.componentConfig,l=cn(n,pte,s==null?void 0:s.InputTag),u=l.className,c=l.style,d=l.placeholder,h=l.error,m=l.disabled,g=l.readOnly,v=l.allowClear,y=l.autoFocus,x=l.labelInValue,_=l.disableInput,b=l.animation,S=l.saveOnBlur,C=l.dragToSort,E=l.icon,T=l.suffix,P=l.validate,L=l.renderTag,I=l.tagClassName,O=l.onInputChange,F=l.onKeyDown,U=l.onPaste,k=l.onChange,H=l.onFocus,$=l.onBlur,V=l.onPressEnter,N=l.onRemove,W=l.onClear,ee=l.onClick,j=o("input-tag"),G="size"in l?l.size:a,ne=A.exports.useRef(),ye=Fc(A.exports.useState(!1),2),xe=ye[0],oe=ye[1],de=Fc($n([],{defaultValue:"defaultValue"in l?cL(l.defaultValue):void 0,value:"value"in l?cL(l.value):void 0}),2),be=de[0],ke=de[1],he=Fc($n("",{value:l.inputValue}),2),Le=he[0],le=he[1],ce=dte(be),we=!!(C&&!g&&!m);A.exports.useImperativeHandle(e,function(){return{blur:ne.current&&ne.current.blur,focus:ne.current&&ne.current.focus}},[]);var De=function(z,re){m||g||("value"in l||ke(z),k&&k(x?z:z.map(function(_e){return _e.value}),re))},pe=function(z,re,_e){N&&N(z,re,_e),De(uL(uL([],Fc(be.slice(0,re)),!1),Fc(be.slice(re+1)),!1),"remove")},Oe=IB(new Map([[wB.code,function(z){if(!z.target.value&&be.length)for(var re=be.length-1;re>=0;re--){var _e=be[re];if(_e.closable!==!1){pe(_e,re,z);return}}}]])),Te=function(){return Cw(r,void 0,void 0,function(){var z,re,_e;return Mw(this,function(ue){switch(ue.label){case 0:return ue.trys.push([0,4,,5]),typeof P!="function"?[3,2]:[4,P(Le,be)];case 1:return re=ue.sent(),[3,3];case 2:re=!0,ue.label=3;case 3:return z=re,z&&(De(be.concat({value:Le,label:Le}),"add"),le("")),[3,5];case 4:return _e=ue.sent(),console.error(_e),[3,5];case 5:return[2]}})})},je=function(z,re){var _e,ue=z.value,Me=z.label,Ue=!g&&!m&&z.closable!==!1,K=function(Ne){pe(z,re,Ne)};return L?L({value:ue,label:Me,closable:Ue,onClose:K},re,be):M(ute,{visible:!0,className:Ye(j+"-tag",(_e={},_e[I]=I,_e)),closable:Ue,closeIcon:E&&E.removeIcon,onClose:K,children:M("span",{title:typeof Me=="string"?Me:void 0,className:j+"-tag-content",children:typeof Me=="string"?Me.replace(/\s/g,"\xA0"):Me})})},it=v&&!m&&!g&&be.length?M(Ir,{size:G,className:j+"-clear-icon",onClick:function(z){z.stopPropagation(),De([],"clear"),xe||ne.current&&ne.current.focus(),W&&W()},onMouseDown:Ew,children:E&&E.clearIcon||M(ka,{})},"clearIcon"):null,nt=!!(it||T),q=be.map(function(z,re){var _e=be.findIndex(function(Me){return Me.value===z.value})!==re,ue=je(z,re);return Ce.isValidElement(ue)?M(Fa,{timeout:iC,classNames:"zoomIn",children:ue},typeof z.value=="object"?re:_e?z.value+"-"+re:z.value):ue}).concat(M(Fa,{timeout:iC,classNames:"zoomIn",children:M(PT,{autoComplete:"off",size:G,disabled:m||_,readOnly:g,ref:ne,autoFocus:y,placeholder:be.length?"":d,prefixCls:j+"-input",autoFitWidth:{delay:function(){return ce.current}},onPressEnter:function(z){return Cw(r,void 0,void 0,function(){return Mw(this,function(re){switch(re.label){case 0:return Le&&z.preventDefault(),V&&V(z),[4,Te()];case 1:return re.sent(),[2]}})})},onFocus:function(z){!m&&!g&&(oe(!0),H&&H(z))},onBlur:function(z){return Cw(r,void 0,void 0,function(){return Mw(this,function(re){switch(re.label){case 0:return oe(!1),$&&$(z),S?[4,Te()]:[3,2];case 1:re.sent(),re.label=2;case 2:return le(""),[2]}})})},value:Le,onValueChange:function(z,re){le(z),O&&O(z,re)},onKeyDown:function(z){Oe(z),F&&F(z)},onPaste:U})},fte));return M("div",lt(Be({},em({},DQ(l),{style:c,className:Ye(j,(t={},t[j+"-size-"+G]=G,t[j+"-disabled"]=m,t[j+"-error"]=h,t[j+"-focus"]=xe,t[j+"-readonly"]=g,t[j+"-has-suffix"]=nt,t[j+"-has-placeholder"]=!be.length,t),u),onMouseDown:function(z){xe&&Ew(z)},onClick:function(z){!xe&&ne.current&&ne.current.focus(),ee&&ee(z)}})),{children:We("div",{className:j+"-view",children:[M(hte,{prefixCls:j,animation:b,children:we?M(DB,{itemWrapperStyle:{display:"inline-block"},direction:"horizontal",onIndexChange:function(z,re){var _e=function(ue,Me,Ue){ue=ue.slice();var K=Me>Ue,Ne=Fc(ue.splice(Me,1),1),at=Ne[0];return ue.splice(K?Ue:Ue-1,0,at),ue};De(_e(be,re,z),"sort")},children:q}):q}),nt&&We("div",{className:j+"-suffix",onMouseDown:Ew,children:[it,T]})]})}))}var kB=Ce.forwardRef(mte);kB.displayName="InputTag";var gte=kB;function vte(n,e){var t={};return Object.keys(n).forEach(function(r){e.indexOf(r)!==-1&&(t[r]=n[r])}),t}var yte=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function AT(){var n=yte(A.exports.useReducer(function(t){return t+1},0),2),e=n[1];return e}var bp=globalThis&&globalThis.__assign||function(){return bp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},bp.apply(this,arguments)},xte=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},fL=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},zc={BEFORE:0,EDITING:1,NONE:2},_te=function(n,e){var t,r,i=n.style,o=n.className,a=n.size,s=n.bordered,l=n.allowClear,u=n.allowCreate,c=n.error,d=n.loading,h=n.disabled,m=n.animation,g=n.prefixCls,v=n.suffixIcon,y=n.arrowIcon,x=n.removeIcon,_=n.clearIcon,b=n.placeholder,S=n.renderText,C=n.value,E=n.inputValue,T=n.popupVisible,P=n.maxTagCount,L=n.isMultiple,I=n.isEmptyValue,O=n.prefix,F=n.ariaControls,U=n.renderTag,k=n.dragToSort,H=n.onKeyDown,$=n.onChangeInputValue,V=n.onPaste,N=n.onClear,W=n.onFocus,ee=n.onBlur,j=n.onRemoveCheckedItem,G=n.onSort,ne=xte(n,["style","className","size","bordered","allowClear","allowCreate","error","loading","disabled","animation","prefixCls","suffixIcon","arrowIcon","removeIcon","clearIcon","placeholder","renderText","value","inputValue","popupVisible","maxTagCount","isMultiple","isEmptyValue","prefix","ariaControls","renderTag","dragToSort","onKeyDown","onChangeInputValue","onPaste","onClear","onFocus","onBlur","onRemoveCheckedItem","onSort"]),ye=A.exports.useRef(null),xe=A.exports.useRef(null),oe=A.exports.useContext(wt),de=oe.size,be=oe.getPrefixCls,ke=fL(A.exports.useState(zc.NONE),2),he=ke[0],Le=ke[1],le=fL(A.exports.useState(!1),2),ce=le[0],we=le[1],De=AT(),pe="showSearch"in n?n.showSearch:L,Oe=pe||u,Te=a||de,je=ce||T,it=Dt(pe)&&pe.retainInputValue,nt=!L&&C!==void 0?S(C).text:"",q=function(Z){Z&&Z.preventDefault()},z=function(Z){var ve=Oe?ye.current:xe.current;ve&&(Z==="focus"?ve.focus():ve.blur())},re=function(Z,ve){Oe&&ve.target===xe.current||(Z==="focus"?(we(!0),W&&W(ve)):(we(!1),ee&&ee(ve)))},_e=function(Z){if(!(Oe&&Z.currentTarget===xe.current)){var ve=Z.keyCode||Z.which;ve===fd.code&&Z.preventDefault(),H&&H(Z)}};A.exports.useEffect(function(){z(T?"focus":"blur"),Oe&&Le(T?zc.BEFORE:zc.NONE)},[T]),A.exports.useImperativeHandle(e,function(){return{dom:xe.current,focus:z.bind(null,"focus"),blur:z.bind(null,"blur"),getWidth:function(){return xe.current&&xe.current.clientWidth}}});var ue="arrowIcon"in n?y===null?null:M("div",{className:g+"-arrow-icon",children:y}):Oe?M("div",{className:g+"-expand-icon",children:M(Gq,{style:{transform:"rotate(-45deg)"}})}):M("div",{className:g+"-arrow-icon",children:M(Ad,{})}),Me=d?M("span",{className:g+"-loading-icon",children:M(dc,{})}):v?M("span",{className:g+"-suffix-icon",children:v}):n.showSearch&&T?M("div",{className:g+"-search-icon",children:M(GS,{})}):ue,Ue={paste:V,keyDown:_e,focus:function(Z){Z.stopPropagation(),re("focus",Z)},blur:function(Z){Z.stopPropagation(),re("blur",Z)},change:function(Z,ve){Le(zc.EDITING),$&&$(Z,ve)}},K=function(){var Z,ve,Ae;switch(he){case zc.BEFORE:Ae=E||(it?nt:"");break;case zc.EDITING:Ae=E||"";break;default:Ae=nt;break}var qe={style:{width:"100%"},value:typeof Ae!="object"?Ae:"",placeholder:Oe&&nt&&typeof nt!="object"?nt:b};Oe?(qe.onPaste=Ue.paste,qe.onKeyDown=Ue.keyDown,qe.onFocus=Ue.focus,qe.onBlur=Ue.blur,qe.onValueChange=Ue.change):(qe.tabIndex=-1,qe.style.pointerEvents="none");var ze=!!(je&&Oe||I);return We(Ut,{children:[M(PT,Be({},bp({"aria-hidden":!ze||void 0,ref:ye,disabled:h,className:Ye(g+"-view-input",(Z={},Z[g+"-hidden"]=!ze,Z)),autoComplete:"off"},qe))),M("span",{"aria-hidden":ze||void 0,className:Ye(g+"-view-value",(ve={},ve[g+"-hidden"]=ze,ve)),children:Ae})]})},Ne=function(){for(var Z=Ra(C)?[]:[].concat(C),ve=typeof P=="number"?Math.max(P,0):Z.length,Ae=[],qe=-1,ze=Z.length-1;ze>=0;ze--){var Ve=Z[ze],Ze=S(Ve);ze<ve&&Ae.unshift({value:Ve,label:Ze.text,closable:!Ze.disabled}),!Ze.disabled&&qe===-1&&(qe=ze)}var Fe=Z.length-ve;Fe>0&&Ae.push({label:"+"+Fe+"...",closable:!1,value:"__arco_value_tag_placeholder"});var Ct={onPaste:Ue.paste,onKeyDown:Ue.keyDown,onFocus:Ue.focus,onBlur:Ue.blur,onInputChange:Ue.change,onRemove:function(xt,zt,an){var Er=an.keyCode||an.which;Er===wB.code&&qe>-1&&(xt=Z[qe],zt=qe),P&&De(),j&&j(xt,zt,an)}};return M(gte,Be({},bp({className:je?be("input-tag")+"-focus":"",ref:ye,disabled:h,dragToSort:k,disableInput:!pe,animation:m,placeholder:b,value:Ae,inputValue:E,size:Te,tagClassName:g+"-tag",renderTag:U,icon:{removeIcon:x},onChange:function(xt,zt){G&&zt==="sort"&&G(xt)}},Ct)))},at=Ye(g,g+"-"+(L?"multiple":"single"),(t={},t[g+"-show-search"]=pe,t[g+"-open"]=T,t[g+"-size-"+Te]=Te,t[g+"-focused"]=je,t[g+"-error"]=c,t[g+"-disabled"]=h,t[g+"-no-border"]=!s,t),o),Ke=!h&&!I&&l?M(Ir,{size:Te,className:g+"-clear-icon",onClick:N,onMouseDown:q,children:_??M(ka,{})},"clearIcon"):null;return M("div",lt(Be({},bp({role:"combobox","aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":T,"aria-disabled":h,"aria-controls":F},vte(ne,["onClick","onMouseEnter","onMouseLeave"]),{ref:xe,tabIndex:h?-1:0,style:i,className:at,onKeyDown:_e,onFocus:function(Z){!h&&!k&&(Oe?ye.current&&ye.current.focus():re("focus",Z))},onBlur:function(Z){return re("blur",Z)}})),{children:We("div",{title:typeof nt=="string"?nt:void 0,className:Ye(g+"-view",(r={},r[g+"-view-with-prefix"]=O,r)),onClick:function(Z){return T&&Oe&&Z.stopPropagation()},children:[O&&M("div",{"aria-hidden":"true",className:Ye(g+"-prefix"),onMouseDown:function(Z){return ce&&q(Z)},children:O}),L?Ne():K(),We("div",{"aria-hidden":"true",className:g+"-suffix",onMouseDown:function(Z){return ce&&q(Z)},children:[Ke,Me]})]})}))},FB=Ce.forwardRef(_te);FB.displayName="SelectView";var bte=FB;function wte(n){for(var e=0,t=0;t<n.length;t++)n.charCodeAt(t)>127||n.charCodeAt(t)===94?e+=2:e++;return e}var Ste=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Cte="__rc_ghost_item__";function zB(n,e){var t=Math.floor(n*e),r=t/e,i=(n-r)/(1/e);return{index:t,offsetPtg:Number.isNaN(i)?0:i}}function dL(n){var e=Rr.exports.findDOMNode(n);return e?e.offsetHeight:0}function oC(n,e){return n<0?0:n>e?e:n}function Bc(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight,i=t-r;return i<=0?0:oC(e,i)/i}function hL(n,e,t){var r=zB(n,e),i=r.index,o=r.offsetPtg,a=Math.ceil(n*t),s=Math.ceil((1-n)*t);return{itemIndex:i,itemOffsetPtg:o,startIndex:Math.max(0,i-a),endIndex:Math.min(e-1,i+s)}}function hy(n){var e=n.itemHeight,t=n.itemOffsetPtg,r=n.scrollPtg,i=n.clientHeight;return Math.floor(i*r-e*t)}function Mte(n){var e=n.scrollTop,t=Ste(n,["scrollTop"]);return e+hy(t)}function Ete(n){var e=n.locatedItemRelativeTop,t=n.locatedItemIndex,r=n.compareItemIndex,i=n.startIndex,o=n.endIndex,a=n.getItemKey,s=n.itemElementHeights,l=n.itemHeight,u=e,c=a(r);if(r<=t)for(var d=t;d>=i;d-=1){var h=a(d);if(h===c)break;var m=a(d-1);u-=s[m]||l}else for(var d=t;d<=o;d+=1){var h=a(d);if(h===c)break;u+=s[h]||l}return u}function Tte(n){var e=-1,t=0;return n.forEach(function(r,i){var o;if(r=typeof r=="string"?r:(o=r.props)===null||o===void 0?void 0:o.children,typeof r=="string"){var a=wte(r);a>t&&(t=a,e=i)}}),e}function Ote(n){var e=A.exports.useRef();return A.exports.useEffect(function(){e.current=n}),e.current}function Pte(n,e,t,r){var i=t-n,o=e-t,a=Math.min(i,o)*2;if(r<=a){var s=Math.floor(r/2);return r%2?t+s+1:t-s}return i>o?t-(r-o):t+(r-i)}function Ate(n,e,t){var r=n.length,i=e.length,o,a;if(r===0&&i===0)return null;r<i?(o=n,a=e):(o=e,a=n);var s={__EMPTY_ITEM__:!0};function l(g,v){return g!==void 0?t(g,v):s}for(var u=null,c=Math.abs(r-i)!==1,d=0;d<a.length;d+=1){var h=l(o[d],d),m=l(a[d],d);if(h!==m){u=d,c=c||h!==l(a[d+1],d+1);break}}return u===null?null:{index:u,multiple:c}}var n0=globalThis&&globalThis.__assign||function(){return n0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},n0.apply(this,arguments)},Rte=function(n){var e=n.height,t=n.offset,r=n.children,i={},o={display:"flex",flexDirection:"column"};return t!==void 0&&(i={height:e,position:"relative",overflow:"hidden",zIndex:0},o=n0(n0({},o),{transform:"translateY("+t+"px)",position:"absolute",left:0,right:0,top:0})),A.exports.createElement("div",{style:i},A.exports.createElement("div",{style:o},r))},pL=Rte,ui=globalThis&&globalThis.__assign||function(){return ui=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ui.apply(this,arguments)},Ite=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},aC=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Nte=32,Mf="__virtual_item_height_"+Math.random().toFixed(5).slice(2),Lte=function(n){var e=AT(),t=n.current;A.exports.useEffect(function(){Object.keys(t).length&&!t[Mf]&&(t[Mf]=Object.entries(t).reduce(function(r,i,o,a){var s=aC(i,2),l=s[1],u=r+l;return o===a.length-1?Math.round(u/a.length):u},0),e())},[Object.keys(t).length])},Dte=function(n){var e=A.exports.useRef({}),t=A.exports.useRef(n);return A.exports.useEffect(function(){t.current=n},[n]),n!==t.current&&(e.current={}),function(r,i,o){return e.current.hasOwnProperty(i)||(e.current[i]=n(r,i,o)),e.current[i]}},BB=Ce.forwardRef(function(n,e){var t=n.style,r=n.className,i=n.children,o=n.data,a=o===void 0?[]:o,s=n.itemKey,l=n.threshold,u=l===void 0?100:l,c=n.wrapper,d=c===void 0?"div":c,h=n.height,m=h===void 0?"100%":h,g=n.isStaticItemHeight,v=g===void 0?!0:g,y=n.itemHeight,x=n.measureLongestItem,_=n.scrollOptions,b=n.onScroll,S=Ite(n,["style","className","children","data","itemKey","threshold","wrapper","height","isStaticItemHeight","itemHeight","measureLongestItem","scrollOptions","onScroll"]),C=t&&t.maxHeight||m,E=A.exports.useRef({}),T=aC(A.exports.useState(200),2),P=T[0],L=T[1],I=Dte(i);Lte(E);var O=a.length,F=y||E.current[Mf]||Nte,U=rn(C)?C:P,k=Math.ceil(U/F),H=F*O,$=u!==null&&O>=u&&H>U,V=A.exports.useRef(null),N=A.exports.useRef(null),W=A.exports.useRef(!1),ee=A.exports.useRef($),j=A.exports.useMemo(function(){if(V.current){var pe=function(Oe){return+window.getComputedStyle(V.current)[Oe].replace(/\D/g,"")};return{top:pe("paddingTop"),bottom:pe("paddingBottom")}}return{top:0,bottom:0}},[V.current]),G=aC(xB({status:"NONE",startIndex:0,endIndex:0,itemIndex:0,itemOffsetPtg:0,startItemTop:0,scrollTop:0}),2),ne=G[0],ye=G[1],xe=Ote(a)||[],oe=Yx(),de=function(pe,Oe){return typeof s=="function"?s(pe,Oe):typeof s=="string"?pe[s]:pe.key||Oe},be=function(pe,Oe){if(Oe===void 0&&(Oe=a),pe===Oe.length)return Cte;var Te=Oe[pe];return Te!==void 0?de(Te,pe):null},ke=function(pe){return E.current[pe]||F},he=function(pe){for(var Oe=pe.itemIndex,Te=pe.relativeTop,je=V.current,it=je.scrollHeight,nt=je.clientHeight,q=ne.scrollTop,z=it-nt,re=Number.MAX_VALUE,_e=null,ue=null,Me=null,Ue=null,K=null,Ne=0,at=0;at<z;at++){var Ke=Pte(0,z,q,at),Z=Bc({scrollTop:Ke,scrollHeight:it,clientHeight:nt}),ve=hL(Z,O,k),Ae=ve.itemIndex,qe=ve.itemOffsetPtg,ze=ve.startIndex,Ve=ve.endIndex;if(ze<=Oe&&Oe<=Ve){var Ze=hy({itemHeight:ke(be(Ae)),itemOffsetPtg:qe,clientHeight:nt,scrollPtg:Z}),Fe=Ete({locatedItemRelativeTop:Ze,locatedItemIndex:Ae,compareItemIndex:Oe,startIndex:ze,endIndex:Ve,itemHeight:F,getItemKey:be,itemElementHeights:E.current}),Ct=Math.abs(Fe-Te);Ct<re?(re=Ct,_e=Ke,ue=Ae,Me=qe,Ue=ze,K=Ve,Ne=0):Ne+=1}if(Ne>10)break}_e!==null&&(W.current=!0,V.current.scrollTop=_e,ye(ui(ui({},ne),{status:"MEASURE_START",scrollTop:_e,itemIndex:ue,itemOffsetPtg:Me,startIndex:Ue,endIndex:K}))),N.current=eo(function(){W.current=!1})},Le=function(pe){var Oe=V.current,Te=Oe.scrollTop,je=Oe.clientHeight,it=Oe.scrollHeight,nt=oC(Te,it-je),q=Bc({scrollTop:nt,clientHeight:je,scrollHeight:it}),z=zB(q,O),re=z.index,_e=z.offsetPtg;ye(ui(ui({},ne),{scrollTop:nt,itemIndex:re,itemOffsetPtg:_e})),pe&&b&&b(pe)},le=function(pe,Oe){Oe===void 0&&(Oe=!1);var Te=V.current,je=Te.scrollTop,it=Te.clientHeight,nt=Te.scrollHeight,q=oC(je,nt-it);if(!(!Oe&&(q===ne.scrollTop||W.current))){var z=Bc({scrollTop:q,clientHeight:it,scrollHeight:nt}),re=hL(z,O,k),_e=re.itemIndex,ue=re.itemOffsetPtg,Me=re.startIndex,Ue=re.endIndex;ye(ui(ui({},ne),{scrollTop:q,itemIndex:_e,itemOffsetPtg:ue,startIndex:Me,endIndex:Ue,status:"MEASURE_START"})),pe&&b&&b(pe)}};A.exports.useEffect(function(){return function(){N.current&&hi(N.current)}},[]),A.exports.useEffect(function(){V.current&&(oe&&(V.current.scrollTop=0),le(null,!0))},[k]),A.exports.useEffect(function(){var pe=null,Oe=ee.current!==$?$?"virtual":"raw":"";if(ee.current=$,U&&xe.length!==a.length){var Te=Ate(xe,a,de);pe=Te?Te.index:null}if(Oe||$&&pe){var je=V.current.clientHeight,it=hy({itemHeight:ke(be(ne.itemIndex,xe)),itemOffsetPtg:ne.itemOffsetPtg,scrollPtg:Bc({scrollTop:ne.scrollTop,scrollHeight:xe.length*F,clientHeight:je}),clientHeight:je});if(Oe==="raw"){for(var nt=it,q=0;q<ne.itemIndex;q++)nt-=ke(be(q));V.current.scrollTop=-nt,W.current=!0,N.current=eo(function(){W.current=!1})}else he({itemIndex:ne.itemIndex,relativeTop:it})}},[a,$]),Jp(function(){if(ne.status==="MEASURE_START"){for(var pe=V.current,Oe=pe.scrollTop,Te=pe.scrollHeight,je=pe.clientHeight,it=Bc({scrollTop:Oe,scrollHeight:Te,clientHeight:je}),nt=Mte({scrollPtg:it,clientHeight:je,scrollTop:Oe-(j.top+j.bottom)*it,itemHeight:ke(be(ne.itemIndex)),itemOffsetPtg:ne.itemOffsetPtg}),q=ne.itemIndex-1;q>=ne.startIndex;q--)nt-=ke(be(q));ye(ui(ui({},ne),{startItemTop:nt,status:"MEASURE_DONE"}))}},[ne]),A.exports.useImperativeHandle(e,function(){return{dom:V.current,scrollTo:function(pe){N.current&&hi(N.current),N.current=eo(function(){var Oe;if(typeof pe=="number"){V.current.scrollTop=pe;return}var Te="index"in pe?pe.index:"key"in pe?a.findIndex(function(at,Ke){return de(at,Ke)===pe.key}):0,je=a[Te];if(!!je){var it=typeof pe=="object"&&((Oe=pe.options)===null||Oe===void 0?void 0:Oe.block)?pe.options.block:(_==null?void 0:_.block)||"nearest",nt=V.current,q=nt.clientHeight,z=nt.scrollTop;if($&&!v){if(it==="nearest"){var re=ne.itemIndex,_e=ne.itemOffsetPtg;if(Math.abs(re-Te)<k){var ue=hy({itemHeight:ke(be(re)),itemOffsetPtg:_e,clientHeight:q,scrollPtg:Bc(V.current)});if(Te<re)for(var Me=Te;Me<re;Me++)ue-=ke(be(Me));else for(var Me=re;Me<Te;Me++)ue+=ke(be(Me));if(ue<0||ue>q)it=ue<0?"start":"end";else return}else it=Te<re?"start":"end"}ye(ui(ui({},ne),{startIndex:Math.max(0,Te-k),endIndex:Math.min(O-1,Te+k)})).then(function(){var at=ke(de(je,Te));he({itemIndex:Te,relativeTop:it==="start"?0:(q-at)/(it==="center"?2:1)})})}else{for(var Ue=ke(be(Te)),ue=0,Me=0;Me<Te;Me++)ue+=ke(be(Me));var K=ue+Ue;it==="nearest"&&(ue<z?it="start":K>z+q&&(it="end"));var Ne=q-Ue;V.current.scrollTop=ue-(it==="start"?0:Ne/(it==="center"?2:1))}}})}}},[a,F,ne]);var ce=function(pe,Oe){return pe.map(function(Te,je){var it=Oe+je,nt=I(Te,it,{style:{}}),q=de(Te,it);return Ce.cloneElement(nt,{key:q,ref:function(z){var re=E.current;z&&ne.status==="MEASURE_START"&&(!v||re[q]===void 0)&&(v?(re[Mf]||(re[Mf]=dL(z)),re[q]=re[Mf]):re[q]=dL(z))}})})},we=A.exports.useRef(null);A.exports.useEffect(function(){we.current=null},[a]);var De=function(){if(x){var pe=we.current===null?Tte(a):we.current,Oe=a[pe];return we.current=pe,Oe?M("div",{style:{height:1,overflow:"hidden",opacity:0},children:I(Oe,pe,{style:{}})}):null}return null};return M(zl,{onResize:function(){if(V.current&&!rn(C)){var pe=V.current.clientHeight;L(pe)}},children:M(d,lt(Be({},ui({ref:V,style:ui(ui({overflowY:"auto",overflowAnchor:"none"},t),{maxHeight:C}),className:r,onScroll:$?le:Le},S)),{children:$?We(Ut,{children:[M(pL,{height:H,offset:ne.status==="MEASURE_DONE"?ne.startItemTop:0,children:ce(a.slice(ne.startIndex,ne.endIndex+1),ne.startIndex)}),De()]}):M(pL,{height:U,children:ce(a,0)})}))})});BB.displayName="VirtualList";var t_=BB,kte=Array.isArray,Nd=kte,Fte=Nd,zte=Kx,Bte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ute=/^\w*$/;function Hte(n,e){if(Fte(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||zte(n)?!0:Ute.test(n)||!Bte.test(n)||e!=null&&n in Object(e)}var Vte=Hte,Gte=Bm,Wte=zm,$te="[object AsyncFunction]",jte="[object Function]",Kte="[object GeneratorFunction]",Xte="[object Proxy]";function Yte(n){if(!Wte(n))return!1;var e=Gte(n);return e==jte||e==Kte||e==$te||e==Xte}var UB=Yte,qte=Wa,Zte=qte["__core-js_shared__"],Jte=Zte,Tw=Jte,mL=function(){var n=/[^.]+$/.exec(Tw&&Tw.keys&&Tw.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Qte(n){return!!mL&&mL in n}var ene=Qte,tne=Function.prototype,nne=tne.toString;function rne(n){if(n!=null){try{return nne.call(n)}catch{}try{return n+""}catch{}}return""}var HB=rne,ine=UB,one=ene,ane=zm,sne=HB,lne=/[\\^$.*+?()[\]{}|]/g,une=/^\[object .+?Constructor\]$/,cne=Function.prototype,fne=Object.prototype,dne=cne.toString,hne=fne.hasOwnProperty,pne=RegExp("^"+dne.call(hne).replace(lne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mne(n){if(!ane(n)||one(n))return!1;var e=ine(n)?pne:une;return e.test(sne(n))}var gne=mne;function vne(n,e){return n==null?void 0:n[e]}var yne=vne,xne=gne,_ne=yne;function bne(n,e){var t=_ne(n,e);return xne(t)?t:void 0}var Ld=bne,wne=Ld,Sne=wne(Object,"create"),n_=Sne,gL=n_;function Cne(){this.__data__=gL?gL(null):{},this.size=0}var Mne=Cne;function Ene(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Tne=Ene,One=n_,Pne="__lodash_hash_undefined__",Ane=Object.prototype,Rne=Ane.hasOwnProperty;function Ine(n){var e=this.__data__;if(One){var t=e[n];return t===Pne?void 0:t}return Rne.call(e,n)?e[n]:void 0}var Nne=Ine,Lne=n_,Dne=Object.prototype,kne=Dne.hasOwnProperty;function Fne(n){var e=this.__data__;return Lne?e[n]!==void 0:kne.call(e,n)}var zne=Fne,Bne=n_,Une="__lodash_hash_undefined__";function Hne(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Bne&&e===void 0?Une:e,this}var Vne=Hne,Gne=Mne,Wne=Tne,$ne=Nne,jne=zne,Kne=Vne;function Dd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Dd.prototype.clear=Gne;Dd.prototype.delete=Wne;Dd.prototype.get=$ne;Dd.prototype.has=jne;Dd.prototype.set=Kne;var Xne=Dd;function Yne(){this.__data__=[],this.size=0}var qne=Yne;function Zne(n,e){return n===e||n!==n&&e!==e}var VB=Zne,Jne=VB;function Qne(n,e){for(var t=n.length;t--;)if(Jne(n[t][0],e))return t;return-1}var r_=Qne,ere=r_,tre=Array.prototype,nre=tre.splice;function rre(n){var e=this.__data__,t=ere(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():nre.call(e,t,1),--this.size,!0}var ire=rre,ore=r_;function are(n){var e=this.__data__,t=ore(e,n);return t<0?void 0:e[t][1]}var sre=are,lre=r_;function ure(n){return lre(this.__data__,n)>-1}var cre=ure,fre=r_;function dre(n,e){var t=this.__data__,r=fre(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var hre=dre,pre=qne,mre=ire,gre=sre,vre=cre,yre=hre;function kd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}kd.prototype.clear=pre;kd.prototype.delete=mre;kd.prototype.get=gre;kd.prototype.has=vre;kd.prototype.set=yre;var i_=kd,xre=Ld,_re=Wa,bre=xre(_re,"Map"),RT=bre,vL=Xne,wre=i_,Sre=RT;function Cre(){this.size=0,this.__data__={hash:new vL,map:new(Sre||wre),string:new vL}}var Mre=Cre;function Ere(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var Tre=Ere,Ore=Tre;function Pre(n,e){var t=n.__data__;return Ore(e)?t[typeof e=="string"?"string":"hash"]:t.map}var o_=Pre,Are=o_;function Rre(n){var e=Are(this,n).delete(n);return this.size-=e?1:0,e}var Ire=Rre,Nre=o_;function Lre(n){return Nre(this,n).get(n)}var Dre=Lre,kre=o_;function Fre(n){return kre(this,n).has(n)}var zre=Fre,Bre=o_;function Ure(n,e){var t=Bre(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var Hre=Ure,Vre=Mre,Gre=Ire,Wre=Dre,$re=zre,jre=Hre;function Fd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Fd.prototype.clear=Vre;Fd.prototype.delete=Gre;Fd.prototype.get=Wre;Fd.prototype.has=$re;Fd.prototype.set=jre;var IT=Fd,GB=IT,Kre="Expected a function";function NT(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(Kre);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var a=n.apply(this,r);return t.cache=o.set(i,a)||o,a};return t.cache=new(NT.Cache||GB),t}NT.Cache=GB;var Xre=NT,Yre=Xre,qre=500;function Zre(n){var e=Yre(n,function(r){return t.size===qre&&t.clear(),r}),t=e.cache;return e}var Jre=Zre,Qre=Jre,eie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tie=/\\(\\)?/g,nie=Qre(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(eie,function(t,r,i,o){e.push(i?o.replace(tie,"$1"):r||t)}),e}),rie=nie;function iie(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var oie=iie,yL=jx,aie=oie,sie=Nd,lie=Kx,uie=1/0,xL=yL?yL.prototype:void 0,_L=xL?xL.toString:void 0;function WB(n){if(typeof n=="string")return n;if(sie(n))return aie(n,WB)+"";if(lie(n))return _L?_L.call(n):"";var e=n+"";return e=="0"&&1/n==-uie?"-0":e}var cie=WB,fie=cie;function die(n){return n==null?"":fie(n)}var hie=die,pie=Nd,mie=Vte,gie=rie,vie=hie;function yie(n,e){return pie(n)?n:mie(n,e)?[n]:gie(vie(n))}var xie=yie,_ie=Kx,bie=1/0;function wie(n){if(typeof n=="string"||_ie(n))return n;var e=n+"";return e=="0"&&1/n==-bie?"-0":e}var Sie=wie,Cie=xie,Mie=Sie;function Eie(n,e){e=Cie(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Mie(e[t++])];return t&&t==r?n:void 0}var Tie=Eie,Oie=Tie;function Pie(n,e,t){var r=n==null?void 0:Oie(n,e);return r===void 0?t:r}var LT=Pie,sC={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,h=2,m=4,g=1,v=2,y=1,x=2,_=4,b=8,S=16,C=32,E=64,T=128,P=256,L=512,I=30,O="...",F=800,U=16,k=1,H=2,$=3,V=1/0,N=9007199254740991,W=17976931348623157e292,ee=0/0,j=4294967295,G=j-1,ne=j>>>1,ye=[["ary",T],["bind",y],["bindKey",x],["curry",b],["curryRight",S],["flip",L],["partial",C],["partialRight",E],["rearg",P]],xe="[object Arguments]",oe="[object Array]",de="[object AsyncFunction]",be="[object Boolean]",ke="[object Date]",he="[object DOMException]",Le="[object Error]",le="[object Function]",ce="[object GeneratorFunction]",we="[object Map]",De="[object Number]",pe="[object Null]",Oe="[object Object]",Te="[object Promise]",je="[object Proxy]",it="[object RegExp]",nt="[object Set]",q="[object String]",z="[object Symbol]",re="[object Undefined]",_e="[object WeakMap]",ue="[object WeakSet]",Me="[object ArrayBuffer]",Ue="[object DataView]",K="[object Float32Array]",Ne="[object Float64Array]",at="[object Int8Array]",Ke="[object Int16Array]",Z="[object Int32Array]",ve="[object Uint8Array]",Ae="[object Uint8ClampedArray]",qe="[object Uint16Array]",ze="[object Uint32Array]",Ve=/\b__p \+= '';/g,Ze=/\b(__p \+=) '' \+/g,Fe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ct=/&(?:amp|lt|gt|quot|#39);/g,xt=/[&<>"']/g,zt=RegExp(Ct.source),an=RegExp(xt.source),Er=/<%-([\s\S]+?)%>/g,bi=/<%([\s\S]+?)%>/g,Ui=/<%=([\s\S]+?)%>/g,Fr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,va=/^\w*$/,ya=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,po=/[\\^$.*+?()[\]{}|]/g,$o=RegExp(po.source),ie=/^\s+/,Ie=/\s/,Ge=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,me=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vt=/[()=,{}\[\]\/\s]/,D=/\\(\\)?/g,X=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,te=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,Re=/^0b[01]+$/i,Pe=/^\[object .+?Constructor\]$/,rt=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,yt="\\ud800-\\udfff",dt="\\u0300-\\u036f",Et="\\ufe20-\\ufe2f",Rt="\\u20d0-\\u20ff",_t=dt+Et+Rt,Tt="\\u2700-\\u27bf",Pt="a-z\\xdf-\\xf6\\xf8-\\xff",fn="\\xac\\xb1\\xd7\\xf7",Mn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",En="\\u2000-\\u206f",Tn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qt="A-Z\\xc0-\\xd6\\xd8-\\xde",Qn="\\ufe0e\\ufe0f",ni=fn+Mn+En+Tn,er="['\u2019]",ln="["+yt+"]",mn="["+ni+"]",wi="["+_t+"]",Us="\\d+",mo="["+Tt+"]",eu="["+Pt+"]",lP="[^"+yt+ni+Us+Tt+Pt+qt+"]",A_="\\ud83c[\\udffb-\\udfff]",v6="(?:"+wi+"|"+A_+")",uP="[^"+yt+"]",R_="(?:\\ud83c[\\udde6-\\uddff]){2}",I_="[\\ud800-\\udbff][\\udc00-\\udfff]",xc="["+qt+"]",cP="\\u200d",fP="(?:"+eu+"|"+lP+")",y6="(?:"+xc+"|"+lP+")",dP="(?:"+er+"(?:d|ll|m|re|s|t|ve))?",hP="(?:"+er+"(?:D|LL|M|RE|S|T|VE))?",pP=v6+"?",mP="["+Qn+"]?",x6="(?:"+cP+"(?:"+[uP,R_,I_].join("|")+")"+mP+pP+")*",_6="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",b6="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",gP=mP+pP+x6,w6="(?:"+[mo,R_,I_].join("|")+")"+gP,S6="(?:"+[uP+wi+"?",wi,R_,I_,ln].join("|")+")",C6=RegExp(er,"g"),M6=RegExp(wi,"g"),N_=RegExp(A_+"(?="+A_+")|"+S6+gP,"g"),E6=RegExp([xc+"?"+eu+"+"+dP+"(?="+[mn,xc,"$"].join("|")+")",y6+"+"+hP+"(?="+[mn,xc+fP,"$"].join("|")+")",xc+"?"+fP+"+"+dP,xc+"+"+hP,b6,_6,Us,w6].join("|"),"g"),T6=RegExp("["+cP+yt+_t+Qn+"]"),O6=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,P6=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],A6=-1,Nn={};Nn[K]=Nn[Ne]=Nn[at]=Nn[Ke]=Nn[Z]=Nn[ve]=Nn[Ae]=Nn[qe]=Nn[ze]=!0,Nn[xe]=Nn[oe]=Nn[Me]=Nn[be]=Nn[Ue]=Nn[ke]=Nn[Le]=Nn[le]=Nn[we]=Nn[De]=Nn[Oe]=Nn[it]=Nn[nt]=Nn[q]=Nn[_e]=!1;var Rn={};Rn[xe]=Rn[oe]=Rn[Me]=Rn[Ue]=Rn[be]=Rn[ke]=Rn[K]=Rn[Ne]=Rn[at]=Rn[Ke]=Rn[Z]=Rn[we]=Rn[De]=Rn[Oe]=Rn[it]=Rn[nt]=Rn[q]=Rn[z]=Rn[ve]=Rn[Ae]=Rn[qe]=Rn[ze]=!0,Rn[Le]=Rn[le]=Rn[_e]=!1;var R6={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},I6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},N6={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},L6={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},D6=parseFloat,k6=parseInt,vP=typeof fa=="object"&&fa&&fa.Object===Object&&fa,F6=typeof self=="object"&&self&&self.Object===Object&&self,zr=vP||F6||Function("return this")(),L_=e&&!e.nodeType&&e,tu=L_&&!0&&n&&!n.nodeType&&n,yP=tu&&tu.exports===L_,D_=yP&&vP.process,go=function(){try{var Se=tu&&tu.require&&tu.require("util").types;return Se||D_&&D_.binding&&D_.binding("util")}catch{}}(),xP=go&&go.isArrayBuffer,_P=go&&go.isDate,bP=go&&go.isMap,wP=go&&go.isRegExp,SP=go&&go.isSet,CP=go&&go.isTypedArray;function Hi(Se,Xe,He){switch(He.length){case 0:return Se.call(Xe);case 1:return Se.call(Xe,He[0]);case 2:return Se.call(Xe,He[0],He[1]);case 3:return Se.call(Xe,He[0],He[1],He[2])}return Se.apply(Xe,He)}function z6(Se,Xe,He,bt){for(var Bt=-1,un=Se==null?0:Se.length;++Bt<un;){var yr=Se[Bt];Xe(bt,yr,He(yr),Se)}return bt}function vo(Se,Xe){for(var He=-1,bt=Se==null?0:Se.length;++He<bt&&Xe(Se[He],He,Se)!==!1;);return Se}function B6(Se,Xe){for(var He=Se==null?0:Se.length;He--&&Xe(Se[He],He,Se)!==!1;);return Se}function MP(Se,Xe){for(var He=-1,bt=Se==null?0:Se.length;++He<bt;)if(!Xe(Se[He],He,Se))return!1;return!0}function Hs(Se,Xe){for(var He=-1,bt=Se==null?0:Se.length,Bt=0,un=[];++He<bt;){var yr=Se[He];Xe(yr,He,Se)&&(un[Bt++]=yr)}return un}function Zm(Se,Xe){var He=Se==null?0:Se.length;return!!He&&_c(Se,Xe,0)>-1}function k_(Se,Xe,He){for(var bt=-1,Bt=Se==null?0:Se.length;++bt<Bt;)if(He(Xe,Se[bt]))return!0;return!1}function Bn(Se,Xe){for(var He=-1,bt=Se==null?0:Se.length,Bt=Array(bt);++He<bt;)Bt[He]=Xe(Se[He],He,Se);return Bt}function Vs(Se,Xe){for(var He=-1,bt=Xe.length,Bt=Se.length;++He<bt;)Se[Bt+He]=Xe[He];return Se}function F_(Se,Xe,He,bt){var Bt=-1,un=Se==null?0:Se.length;for(bt&&un&&(He=Se[++Bt]);++Bt<un;)He=Xe(He,Se[Bt],Bt,Se);return He}function U6(Se,Xe,He,bt){var Bt=Se==null?0:Se.length;for(bt&&Bt&&(He=Se[--Bt]);Bt--;)He=Xe(He,Se[Bt],Bt,Se);return He}function z_(Se,Xe){for(var He=-1,bt=Se==null?0:Se.length;++He<bt;)if(Xe(Se[He],He,Se))return!0;return!1}var H6=B_("length");function V6(Se){return Se.split("")}function G6(Se){return Se.match(ct)||[]}function EP(Se,Xe,He){var bt;return He(Se,function(Bt,un,yr){if(Xe(Bt,un,yr))return bt=un,!1}),bt}function Jm(Se,Xe,He,bt){for(var Bt=Se.length,un=He+(bt?1:-1);bt?un--:++un<Bt;)if(Xe(Se[un],un,Se))return un;return-1}function _c(Se,Xe,He){return Xe===Xe?t8(Se,Xe,He):Jm(Se,TP,He)}function W6(Se,Xe,He,bt){for(var Bt=He-1,un=Se.length;++Bt<un;)if(bt(Se[Bt],Xe))return Bt;return-1}function TP(Se){return Se!==Se}function OP(Se,Xe){var He=Se==null?0:Se.length;return He?H_(Se,Xe)/He:ee}function B_(Se){return function(Xe){return Xe==null?t:Xe[Se]}}function U_(Se){return function(Xe){return Se==null?t:Se[Xe]}}function PP(Se,Xe,He,bt,Bt){return Bt(Se,function(un,yr,On){He=bt?(bt=!1,un):Xe(He,un,yr,On)}),He}function $6(Se,Xe){var He=Se.length;for(Se.sort(Xe);He--;)Se[He]=Se[He].value;return Se}function H_(Se,Xe){for(var He,bt=-1,Bt=Se.length;++bt<Bt;){var un=Xe(Se[bt]);un!==t&&(He=He===t?un:He+un)}return He}function V_(Se,Xe){for(var He=-1,bt=Array(Se);++He<Se;)bt[He]=Xe(He);return bt}function j6(Se,Xe){return Bn(Xe,function(He){return[He,Se[He]]})}function AP(Se){return Se&&Se.slice(0,LP(Se)+1).replace(ie,"")}function Vi(Se){return function(Xe){return Se(Xe)}}function G_(Se,Xe){return Bn(Xe,function(He){return Se[He]})}function oh(Se,Xe){return Se.has(Xe)}function RP(Se,Xe){for(var He=-1,bt=Se.length;++He<bt&&_c(Xe,Se[He],0)>-1;);return He}function IP(Se,Xe){for(var He=Se.length;He--&&_c(Xe,Se[He],0)>-1;);return He}function K6(Se,Xe){for(var He=Se.length,bt=0;He--;)Se[He]===Xe&&++bt;return bt}var X6=U_(R6),Y6=U_(I6);function q6(Se){return"\\"+L6[Se]}function Z6(Se,Xe){return Se==null?t:Se[Xe]}function bc(Se){return T6.test(Se)}function J6(Se){return O6.test(Se)}function Q6(Se){for(var Xe,He=[];!(Xe=Se.next()).done;)He.push(Xe.value);return He}function W_(Se){var Xe=-1,He=Array(Se.size);return Se.forEach(function(bt,Bt){He[++Xe]=[Bt,bt]}),He}function NP(Se,Xe){return function(He){return Se(Xe(He))}}function Gs(Se,Xe){for(var He=-1,bt=Se.length,Bt=0,un=[];++He<bt;){var yr=Se[He];(yr===Xe||yr===c)&&(Se[He]=c,un[Bt++]=He)}return un}function Qm(Se){var Xe=-1,He=Array(Se.size);return Se.forEach(function(bt){He[++Xe]=bt}),He}function e8(Se){var Xe=-1,He=Array(Se.size);return Se.forEach(function(bt){He[++Xe]=[bt,bt]}),He}function t8(Se,Xe,He){for(var bt=He-1,Bt=Se.length;++bt<Bt;)if(Se[bt]===Xe)return bt;return-1}function n8(Se,Xe,He){for(var bt=He+1;bt--;)if(Se[bt]===Xe)return bt;return bt}function wc(Se){return bc(Se)?i8(Se):H6(Se)}function jo(Se){return bc(Se)?o8(Se):V6(Se)}function LP(Se){for(var Xe=Se.length;Xe--&&Ie.test(Se.charAt(Xe)););return Xe}var r8=U_(N6);function i8(Se){for(var Xe=N_.lastIndex=0;N_.test(Se);)++Xe;return Xe}function o8(Se){return Se.match(N_)||[]}function a8(Se){return Se.match(E6)||[]}var s8=function Se(Xe){Xe=Xe==null?zr:Sc.defaults(zr.Object(),Xe,Sc.pick(zr,P6));var He=Xe.Array,bt=Xe.Date,Bt=Xe.Error,un=Xe.Function,yr=Xe.Math,On=Xe.Object,$_=Xe.RegExp,l8=Xe.String,yo=Xe.TypeError,eg=He.prototype,u8=un.prototype,Cc=On.prototype,tg=Xe["__core-js_shared__"],ng=u8.toString,gn=Cc.hasOwnProperty,c8=0,DP=function(){var f=/[^.]+$/.exec(tg&&tg.keys&&tg.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),rg=Cc.toString,f8=ng.call(On),d8=zr._,h8=$_("^"+ng.call(gn).replace(po,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ig=yP?Xe.Buffer:t,Ws=Xe.Symbol,og=Xe.Uint8Array,kP=ig?ig.allocUnsafe:t,ag=NP(On.getPrototypeOf,On),FP=On.create,zP=Cc.propertyIsEnumerable,sg=eg.splice,BP=Ws?Ws.isConcatSpreadable:t,ah=Ws?Ws.iterator:t,nu=Ws?Ws.toStringTag:t,lg=function(){try{var f=su(On,"defineProperty");return f({},"",{}),f}catch{}}(),p8=Xe.clearTimeout!==zr.clearTimeout&&Xe.clearTimeout,m8=bt&&bt.now!==zr.Date.now&&bt.now,g8=Xe.setTimeout!==zr.setTimeout&&Xe.setTimeout,ug=yr.ceil,cg=yr.floor,j_=On.getOwnPropertySymbols,v8=ig?ig.isBuffer:t,UP=Xe.isFinite,y8=eg.join,x8=NP(On.keys,On),xr=yr.max,jr=yr.min,_8=bt.now,b8=Xe.parseInt,HP=yr.random,w8=eg.reverse,K_=su(Xe,"DataView"),sh=su(Xe,"Map"),X_=su(Xe,"Promise"),Mc=su(Xe,"Set"),lh=su(Xe,"WeakMap"),uh=su(On,"create"),fg=lh&&new lh,Ec={},S8=lu(K_),C8=lu(sh),M8=lu(X_),E8=lu(Mc),T8=lu(lh),dg=Ws?Ws.prototype:t,ch=dg?dg.valueOf:t,VP=dg?dg.toString:t;function Y(f){if(tr(f)&&!Ht(f)&&!(f instanceof Zt)){if(f instanceof xo)return f;if(gn.call(f,"__wrapped__"))return G2(f)}return new xo(f)}var Tc=function(){function f(){}return function(p){if(!Kn(p))return{};if(FP)return FP(p);f.prototype=p;var w=new f;return f.prototype=t,w}}();function hg(){}function xo(f,p){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=t}Y.templateSettings={escape:Er,evaluate:bi,interpolate:Ui,variable:"",imports:{_:Y}},Y.prototype=hg.prototype,Y.prototype.constructor=Y,xo.prototype=Tc(hg.prototype),xo.prototype.constructor=xo;function Zt(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function O8(){var f=new Zt(this.__wrapped__);return f.__actions__=Si(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Si(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Si(this.__views__),f}function P8(){if(this.__filtered__){var f=new Zt(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function A8(){var f=this.__wrapped__.value(),p=this.__dir__,w=Ht(f),R=p<0,B=w?f.length:0,Q=VV(0,B,this.__views__),se=Q.start,fe=Q.end,Ee=fe-se,et=R?fe:se-1,tt=this.__iteratees__,ot=tt.length,mt=0,Ot=jr(Ee,this.__takeCount__);if(!w||!R&&B==Ee&&Ot==Ee)return d2(f,this.__actions__);var Nt=[];e:for(;Ee--&&mt<Ot;){et+=p;for(var Wt=-1,Lt=f[et];++Wt<ot;){var jt=tt[Wt],tn=jt.iteratee,$i=jt.type,oi=tn(Lt);if($i==H)Lt=oi;else if(!oi){if($i==k)continue e;break e}}Nt[mt++]=Lt}return Nt}Zt.prototype=Tc(hg.prototype),Zt.prototype.constructor=Zt;function ru(f){var p=-1,w=f==null?0:f.length;for(this.clear();++p<w;){var R=f[p];this.set(R[0],R[1])}}function R8(){this.__data__=uh?uh(null):{},this.size=0}function I8(f){var p=this.has(f)&&delete this.__data__[f];return this.size-=p?1:0,p}function N8(f){var p=this.__data__;if(uh){var w=p[f];return w===l?t:w}return gn.call(p,f)?p[f]:t}function L8(f){var p=this.__data__;return uh?p[f]!==t:gn.call(p,f)}function D8(f,p){var w=this.__data__;return this.size+=this.has(f)?0:1,w[f]=uh&&p===t?l:p,this}ru.prototype.clear=R8,ru.prototype.delete=I8,ru.prototype.get=N8,ru.prototype.has=L8,ru.prototype.set=D8;function Xa(f){var p=-1,w=f==null?0:f.length;for(this.clear();++p<w;){var R=f[p];this.set(R[0],R[1])}}function k8(){this.__data__=[],this.size=0}function F8(f){var p=this.__data__,w=pg(p,f);if(w<0)return!1;var R=p.length-1;return w==R?p.pop():sg.call(p,w,1),--this.size,!0}function z8(f){var p=this.__data__,w=pg(p,f);return w<0?t:p[w][1]}function B8(f){return pg(this.__data__,f)>-1}function U8(f,p){var w=this.__data__,R=pg(w,f);return R<0?(++this.size,w.push([f,p])):w[R][1]=p,this}Xa.prototype.clear=k8,Xa.prototype.delete=F8,Xa.prototype.get=z8,Xa.prototype.has=B8,Xa.prototype.set=U8;function Ya(f){var p=-1,w=f==null?0:f.length;for(this.clear();++p<w;){var R=f[p];this.set(R[0],R[1])}}function H8(){this.size=0,this.__data__={hash:new ru,map:new(sh||Xa),string:new ru}}function V8(f){var p=Eg(this,f).delete(f);return this.size-=p?1:0,p}function G8(f){return Eg(this,f).get(f)}function W8(f){return Eg(this,f).has(f)}function $8(f,p){var w=Eg(this,f),R=w.size;return w.set(f,p),this.size+=w.size==R?0:1,this}Ya.prototype.clear=H8,Ya.prototype.delete=V8,Ya.prototype.get=G8,Ya.prototype.has=W8,Ya.prototype.set=$8;function iu(f){var p=-1,w=f==null?0:f.length;for(this.__data__=new Ya;++p<w;)this.add(f[p])}function j8(f){return this.__data__.set(f,l),this}function K8(f){return this.__data__.has(f)}iu.prototype.add=iu.prototype.push=j8,iu.prototype.has=K8;function Ko(f){var p=this.__data__=new Xa(f);this.size=p.size}function X8(){this.__data__=new Xa,this.size=0}function Y8(f){var p=this.__data__,w=p.delete(f);return this.size=p.size,w}function q8(f){return this.__data__.get(f)}function Z8(f){return this.__data__.has(f)}function J8(f,p){var w=this.__data__;if(w instanceof Xa){var R=w.__data__;if(!sh||R.length<i-1)return R.push([f,p]),this.size=++w.size,this;w=this.__data__=new Ya(R)}return w.set(f,p),this.size=w.size,this}Ko.prototype.clear=X8,Ko.prototype.delete=Y8,Ko.prototype.get=q8,Ko.prototype.has=Z8,Ko.prototype.set=J8;function GP(f,p){var w=Ht(f),R=!w&&uu(f),B=!w&&!R&&Ys(f),Q=!w&&!R&&!B&&Rc(f),se=w||R||B||Q,fe=se?V_(f.length,l8):[],Ee=fe.length;for(var et in f)(p||gn.call(f,et))&&!(se&&(et=="length"||B&&(et=="offset"||et=="parent")||Q&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||Qa(et,Ee)))&&fe.push(et);return fe}function WP(f){var p=f.length;return p?f[ob(0,p-1)]:t}function Q8(f,p){return Tg(Si(f),ou(p,0,f.length))}function eV(f){return Tg(Si(f))}function Y_(f,p,w){(w!==t&&!Xo(f[p],w)||w===t&&!(p in f))&&qa(f,p,w)}function fh(f,p,w){var R=f[p];(!(gn.call(f,p)&&Xo(R,w))||w===t&&!(p in f))&&qa(f,p,w)}function pg(f,p){for(var w=f.length;w--;)if(Xo(f[w][0],p))return w;return-1}function tV(f,p,w,R){return $s(f,function(B,Q,se){p(R,B,w(B),se)}),R}function $P(f,p){return f&&_a(p,Tr(p),f)}function nV(f,p){return f&&_a(p,Mi(p),f)}function qa(f,p,w){p=="__proto__"&&lg?lg(f,p,{configurable:!0,enumerable:!0,value:w,writable:!0}):f[p]=w}function q_(f,p){for(var w=-1,R=p.length,B=He(R),Q=f==null;++w<R;)B[w]=Q?t:Ab(f,p[w]);return B}function ou(f,p,w){return f===f&&(w!==t&&(f=f<=w?f:w),p!==t&&(f=f>=p?f:p)),f}function _o(f,p,w,R,B,Q){var se,fe=p&d,Ee=p&h,et=p&m;if(w&&(se=B?w(f,R,B,Q):w(f)),se!==t)return se;if(!Kn(f))return f;var tt=Ht(f);if(tt){if(se=WV(f),!fe)return Si(f,se)}else{var ot=Kr(f),mt=ot==le||ot==ce;if(Ys(f))return m2(f,fe);if(ot==Oe||ot==xe||mt&&!B){if(se=Ee||mt?{}:L2(f),!fe)return Ee?NV(f,nV(se,f)):IV(f,$P(se,f))}else{if(!Rn[ot])return B?f:{};se=$V(f,ot,fe)}}Q||(Q=new Ko);var Ot=Q.get(f);if(Ot)return Ot;Q.set(f,se),uA(f)?f.forEach(function(Lt){se.add(_o(Lt,p,w,Lt,f,Q))}):sA(f)&&f.forEach(function(Lt,jt){se.set(jt,_o(Lt,p,w,jt,f,Q))});var Nt=et?Ee?gb:mb:Ee?Mi:Tr,Wt=tt?t:Nt(f);return vo(Wt||f,function(Lt,jt){Wt&&(jt=Lt,Lt=f[jt]),fh(se,jt,_o(Lt,p,w,jt,f,Q))}),se}function rV(f){var p=Tr(f);return function(w){return jP(w,f,p)}}function jP(f,p,w){var R=w.length;if(f==null)return!R;for(f=On(f);R--;){var B=w[R],Q=p[B],se=f[B];if(se===t&&!(B in f)||!Q(se))return!1}return!0}function KP(f,p,w){if(typeof f!="function")throw new yo(a);return yh(function(){f.apply(t,w)},p)}function dh(f,p,w,R){var B=-1,Q=Zm,se=!0,fe=f.length,Ee=[],et=p.length;if(!fe)return Ee;w&&(p=Bn(p,Vi(w))),R?(Q=k_,se=!1):p.length>=i&&(Q=oh,se=!1,p=new iu(p));e:for(;++B<fe;){var tt=f[B],ot=w==null?tt:w(tt);if(tt=R||tt!==0?tt:0,se&&ot===ot){for(var mt=et;mt--;)if(p[mt]===ot)continue e;Ee.push(tt)}else Q(p,ot,R)||Ee.push(tt)}return Ee}var $s=_2(xa),XP=_2(J_,!0);function iV(f,p){var w=!0;return $s(f,function(R,B,Q){return w=!!p(R,B,Q),w}),w}function mg(f,p,w){for(var R=-1,B=f.length;++R<B;){var Q=f[R],se=p(Q);if(se!=null&&(fe===t?se===se&&!Wi(se):w(se,fe)))var fe=se,Ee=Q}return Ee}function oV(f,p,w,R){var B=f.length;for(w=Gt(w),w<0&&(w=-w>B?0:B+w),R=R===t||R>B?B:Gt(R),R<0&&(R+=B),R=w>R?0:fA(R);w<R;)f[w++]=p;return f}function YP(f,p){var w=[];return $s(f,function(R,B,Q){p(R,B,Q)&&w.push(R)}),w}function Br(f,p,w,R,B){var Q=-1,se=f.length;for(w||(w=KV),B||(B=[]);++Q<se;){var fe=f[Q];p>0&&w(fe)?p>1?Br(fe,p-1,w,R,B):Vs(B,fe):R||(B[B.length]=fe)}return B}var Z_=b2(),qP=b2(!0);function xa(f,p){return f&&Z_(f,p,Tr)}function J_(f,p){return f&&qP(f,p,Tr)}function gg(f,p){return Hs(p,function(w){return es(f[w])})}function au(f,p){p=Ks(p,f);for(var w=0,R=p.length;f!=null&&w<R;)f=f[ba(p[w++])];return w&&w==R?f:t}function ZP(f,p,w){var R=p(f);return Ht(f)?R:Vs(R,w(f))}function ri(f){return f==null?f===t?re:pe:nu&&nu in On(f)?HV(f):eG(f)}function Q_(f,p){return f>p}function aV(f,p){return f!=null&&gn.call(f,p)}function sV(f,p){return f!=null&&p in On(f)}function lV(f,p,w){return f>=jr(p,w)&&f<xr(p,w)}function eb(f,p,w){for(var R=w?k_:Zm,B=f[0].length,Q=f.length,se=Q,fe=He(Q),Ee=1/0,et=[];se--;){var tt=f[se];se&&p&&(tt=Bn(tt,Vi(p))),Ee=jr(tt.length,Ee),fe[se]=!w&&(p||B>=120&&tt.length>=120)?new iu(se&&tt):t}tt=f[0];var ot=-1,mt=fe[0];e:for(;++ot<B&&et.length<Ee;){var Ot=tt[ot],Nt=p?p(Ot):Ot;if(Ot=w||Ot!==0?Ot:0,!(mt?oh(mt,Nt):R(et,Nt,w))){for(se=Q;--se;){var Wt=fe[se];if(!(Wt?oh(Wt,Nt):R(f[se],Nt,w)))continue e}mt&&mt.push(Nt),et.push(Ot)}}return et}function uV(f,p,w,R){return xa(f,function(B,Q,se){p(R,w(B),Q,se)}),R}function hh(f,p,w){p=Ks(p,f),f=z2(f,p);var R=f==null?f:f[ba(wo(p))];return R==null?t:Hi(R,f,w)}function JP(f){return tr(f)&&ri(f)==xe}function cV(f){return tr(f)&&ri(f)==Me}function fV(f){return tr(f)&&ri(f)==ke}function ph(f,p,w,R,B){return f===p?!0:f==null||p==null||!tr(f)&&!tr(p)?f!==f&&p!==p:dV(f,p,w,R,ph,B)}function dV(f,p,w,R,B,Q){var se=Ht(f),fe=Ht(p),Ee=se?oe:Kr(f),et=fe?oe:Kr(p);Ee=Ee==xe?Oe:Ee,et=et==xe?Oe:et;var tt=Ee==Oe,ot=et==Oe,mt=Ee==et;if(mt&&Ys(f)){if(!Ys(p))return!1;se=!0,tt=!1}if(mt&&!tt)return Q||(Q=new Ko),se||Rc(f)?R2(f,p,w,R,B,Q):BV(f,p,Ee,w,R,B,Q);if(!(w&g)){var Ot=tt&&gn.call(f,"__wrapped__"),Nt=ot&&gn.call(p,"__wrapped__");if(Ot||Nt){var Wt=Ot?f.value():f,Lt=Nt?p.value():p;return Q||(Q=new Ko),B(Wt,Lt,w,R,Q)}}return mt?(Q||(Q=new Ko),UV(f,p,w,R,B,Q)):!1}function hV(f){return tr(f)&&Kr(f)==we}function tb(f,p,w,R){var B=w.length,Q=B,se=!R;if(f==null)return!Q;for(f=On(f);B--;){var fe=w[B];if(se&&fe[2]?fe[1]!==f[fe[0]]:!(fe[0]in f))return!1}for(;++B<Q;){fe=w[B];var Ee=fe[0],et=f[Ee],tt=fe[1];if(se&&fe[2]){if(et===t&&!(Ee in f))return!1}else{var ot=new Ko;if(R)var mt=R(et,tt,Ee,f,p,ot);if(!(mt===t?ph(tt,et,g|v,R,ot):mt))return!1}}return!0}function QP(f){if(!Kn(f)||YV(f))return!1;var p=es(f)?h8:Pe;return p.test(lu(f))}function pV(f){return tr(f)&&ri(f)==it}function mV(f){return tr(f)&&Kr(f)==nt}function gV(f){return tr(f)&&Ng(f.length)&&!!Nn[ri(f)]}function e2(f){return typeof f=="function"?f:f==null?Ei:typeof f=="object"?Ht(f)?r2(f[0],f[1]):n2(f):wA(f)}function nb(f){if(!vh(f))return x8(f);var p=[];for(var w in On(f))gn.call(f,w)&&w!="constructor"&&p.push(w);return p}function vV(f){if(!Kn(f))return QV(f);var p=vh(f),w=[];for(var R in f)R=="constructor"&&(p||!gn.call(f,R))||w.push(R);return w}function rb(f,p){return f<p}function t2(f,p){var w=-1,R=Ci(f)?He(f.length):[];return $s(f,function(B,Q,se){R[++w]=p(B,Q,se)}),R}function n2(f){var p=yb(f);return p.length==1&&p[0][2]?k2(p[0][0],p[0][1]):function(w){return w===f||tb(w,f,p)}}function r2(f,p){return _b(f)&&D2(p)?k2(ba(f),p):function(w){var R=Ab(w,f);return R===t&&R===p?Rb(w,f):ph(p,R,g|v)}}function vg(f,p,w,R,B){f!==p&&Z_(p,function(Q,se){if(B||(B=new Ko),Kn(Q))yV(f,p,se,w,vg,R,B);else{var fe=R?R(wb(f,se),Q,se+"",f,p,B):t;fe===t&&(fe=Q),Y_(f,se,fe)}},Mi)}function yV(f,p,w,R,B,Q,se){var fe=wb(f,w),Ee=wb(p,w),et=se.get(Ee);if(et){Y_(f,w,et);return}var tt=Q?Q(fe,Ee,w+"",f,p,se):t,ot=tt===t;if(ot){var mt=Ht(Ee),Ot=!mt&&Ys(Ee),Nt=!mt&&!Ot&&Rc(Ee);tt=Ee,mt||Ot||Nt?Ht(fe)?tt=fe:ir(fe)?tt=Si(fe):Ot?(ot=!1,tt=m2(Ee,!0)):Nt?(ot=!1,tt=g2(Ee,!0)):tt=[]:xh(Ee)||uu(Ee)?(tt=fe,uu(fe)?tt=dA(fe):(!Kn(fe)||es(fe))&&(tt=L2(Ee))):ot=!1}ot&&(se.set(Ee,tt),B(tt,Ee,R,Q,se),se.delete(Ee)),Y_(f,w,tt)}function i2(f,p){var w=f.length;if(!!w)return p+=p<0?w:0,Qa(p,w)?f[p]:t}function o2(f,p,w){p.length?p=Bn(p,function(Q){return Ht(Q)?function(se){return au(se,Q.length===1?Q[0]:Q)}:Q}):p=[Ei];var R=-1;p=Bn(p,Vi(It()));var B=t2(f,function(Q,se,fe){var Ee=Bn(p,function(et){return et(Q)});return{criteria:Ee,index:++R,value:Q}});return $6(B,function(Q,se){return RV(Q,se,w)})}function xV(f,p){return a2(f,p,function(w,R){return Rb(f,R)})}function a2(f,p,w){for(var R=-1,B=p.length,Q={};++R<B;){var se=p[R],fe=au(f,se);w(fe,se)&&mh(Q,Ks(se,f),fe)}return Q}function _V(f){return function(p){return au(p,f)}}function ib(f,p,w,R){var B=R?W6:_c,Q=-1,se=p.length,fe=f;for(f===p&&(p=Si(p)),w&&(fe=Bn(f,Vi(w)));++Q<se;)for(var Ee=0,et=p[Q],tt=w?w(et):et;(Ee=B(fe,tt,Ee,R))>-1;)fe!==f&&sg.call(fe,Ee,1),sg.call(f,Ee,1);return f}function s2(f,p){for(var w=f?p.length:0,R=w-1;w--;){var B=p[w];if(w==R||B!==Q){var Q=B;Qa(B)?sg.call(f,B,1):lb(f,B)}}return f}function ob(f,p){return f+cg(HP()*(p-f+1))}function bV(f,p,w,R){for(var B=-1,Q=xr(ug((p-f)/(w||1)),0),se=He(Q);Q--;)se[R?Q:++B]=f,f+=w;return se}function ab(f,p){var w="";if(!f||p<1||p>N)return w;do p%2&&(w+=f),p=cg(p/2),p&&(f+=f);while(p);return w}function $t(f,p){return Sb(F2(f,p,Ei),f+"")}function wV(f){return WP(Ic(f))}function SV(f,p){var w=Ic(f);return Tg(w,ou(p,0,w.length))}function mh(f,p,w,R){if(!Kn(f))return f;p=Ks(p,f);for(var B=-1,Q=p.length,se=Q-1,fe=f;fe!=null&&++B<Q;){var Ee=ba(p[B]),et=w;if(Ee==="__proto__"||Ee==="constructor"||Ee==="prototype")return f;if(B!=se){var tt=fe[Ee];et=R?R(tt,Ee,fe):t,et===t&&(et=Kn(tt)?tt:Qa(p[B+1])?[]:{})}fh(fe,Ee,et),fe=fe[Ee]}return f}var l2=fg?function(f,p){return fg.set(f,p),f}:Ei,CV=lg?function(f,p){return lg(f,"toString",{configurable:!0,enumerable:!1,value:Nb(p),writable:!0})}:Ei;function MV(f){return Tg(Ic(f))}function bo(f,p,w){var R=-1,B=f.length;p<0&&(p=-p>B?0:B+p),w=w>B?B:w,w<0&&(w+=B),B=p>w?0:w-p>>>0,p>>>=0;for(var Q=He(B);++R<B;)Q[R]=f[R+p];return Q}function EV(f,p){var w;return $s(f,function(R,B,Q){return w=p(R,B,Q),!w}),!!w}function yg(f,p,w){var R=0,B=f==null?R:f.length;if(typeof p=="number"&&p===p&&B<=ne){for(;R<B;){var Q=R+B>>>1,se=f[Q];se!==null&&!Wi(se)&&(w?se<=p:se<p)?R=Q+1:B=Q}return B}return sb(f,p,Ei,w)}function sb(f,p,w,R){var B=0,Q=f==null?0:f.length;if(Q===0)return 0;p=w(p);for(var se=p!==p,fe=p===null,Ee=Wi(p),et=p===t;B<Q;){var tt=cg((B+Q)/2),ot=w(f[tt]),mt=ot!==t,Ot=ot===null,Nt=ot===ot,Wt=Wi(ot);if(se)var Lt=R||Nt;else et?Lt=Nt&&(R||mt):fe?Lt=Nt&&mt&&(R||!Ot):Ee?Lt=Nt&&mt&&!Ot&&(R||!Wt):Ot||Wt?Lt=!1:Lt=R?ot<=p:ot<p;Lt?B=tt+1:Q=tt}return jr(Q,G)}function u2(f,p){for(var w=-1,R=f.length,B=0,Q=[];++w<R;){var se=f[w],fe=p?p(se):se;if(!w||!Xo(fe,Ee)){var Ee=fe;Q[B++]=se===0?0:se}}return Q}function c2(f){return typeof f=="number"?f:Wi(f)?ee:+f}function Gi(f){if(typeof f=="string")return f;if(Ht(f))return Bn(f,Gi)+"";if(Wi(f))return VP?VP.call(f):"";var p=f+"";return p=="0"&&1/f==-V?"-0":p}function js(f,p,w){var R=-1,B=Zm,Q=f.length,se=!0,fe=[],Ee=fe;if(w)se=!1,B=k_;else if(Q>=i){var et=p?null:FV(f);if(et)return Qm(et);se=!1,B=oh,Ee=new iu}else Ee=p?[]:fe;e:for(;++R<Q;){var tt=f[R],ot=p?p(tt):tt;if(tt=w||tt!==0?tt:0,se&&ot===ot){for(var mt=Ee.length;mt--;)if(Ee[mt]===ot)continue e;p&&Ee.push(ot),fe.push(tt)}else B(Ee,ot,w)||(Ee!==fe&&Ee.push(ot),fe.push(tt))}return fe}function lb(f,p){return p=Ks(p,f),f=z2(f,p),f==null||delete f[ba(wo(p))]}function f2(f,p,w,R){return mh(f,p,w(au(f,p)),R)}function xg(f,p,w,R){for(var B=f.length,Q=R?B:-1;(R?Q--:++Q<B)&&p(f[Q],Q,f););return w?bo(f,R?0:Q,R?Q+1:B):bo(f,R?Q+1:0,R?B:Q)}function d2(f,p){var w=f;return w instanceof Zt&&(w=w.value()),F_(p,function(R,B){return B.func.apply(B.thisArg,Vs([R],B.args))},w)}function ub(f,p,w){var R=f.length;if(R<2)return R?js(f[0]):[];for(var B=-1,Q=He(R);++B<R;)for(var se=f[B],fe=-1;++fe<R;)fe!=B&&(Q[B]=dh(Q[B]||se,f[fe],p,w));return js(Br(Q,1),p,w)}function h2(f,p,w){for(var R=-1,B=f.length,Q=p.length,se={};++R<B;){var fe=R<Q?p[R]:t;w(se,f[R],fe)}return se}function cb(f){return ir(f)?f:[]}function fb(f){return typeof f=="function"?f:Ei}function Ks(f,p){return Ht(f)?f:_b(f,p)?[f]:V2(dn(f))}var TV=$t;function Xs(f,p,w){var R=f.length;return w=w===t?R:w,!p&&w>=R?f:bo(f,p,w)}var p2=p8||function(f){return zr.clearTimeout(f)};function m2(f,p){if(p)return f.slice();var w=f.length,R=kP?kP(w):new f.constructor(w);return f.copy(R),R}function db(f){var p=new f.constructor(f.byteLength);return new og(p).set(new og(f)),p}function OV(f,p){var w=p?db(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.byteLength)}function PV(f){var p=new f.constructor(f.source,te.exec(f));return p.lastIndex=f.lastIndex,p}function AV(f){return ch?On(ch.call(f)):{}}function g2(f,p){var w=p?db(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.length)}function v2(f,p){if(f!==p){var w=f!==t,R=f===null,B=f===f,Q=Wi(f),se=p!==t,fe=p===null,Ee=p===p,et=Wi(p);if(!fe&&!et&&!Q&&f>p||Q&&se&&Ee&&!fe&&!et||R&&se&&Ee||!w&&Ee||!B)return 1;if(!R&&!Q&&!et&&f<p||et&&w&&B&&!R&&!Q||fe&&w&&B||!se&&B||!Ee)return-1}return 0}function RV(f,p,w){for(var R=-1,B=f.criteria,Q=p.criteria,se=B.length,fe=w.length;++R<se;){var Ee=v2(B[R],Q[R]);if(Ee){if(R>=fe)return Ee;var et=w[R];return Ee*(et=="desc"?-1:1)}}return f.index-p.index}function y2(f,p,w,R){for(var B=-1,Q=f.length,se=w.length,fe=-1,Ee=p.length,et=xr(Q-se,0),tt=He(Ee+et),ot=!R;++fe<Ee;)tt[fe]=p[fe];for(;++B<se;)(ot||B<Q)&&(tt[w[B]]=f[B]);for(;et--;)tt[fe++]=f[B++];return tt}function x2(f,p,w,R){for(var B=-1,Q=f.length,se=-1,fe=w.length,Ee=-1,et=p.length,tt=xr(Q-fe,0),ot=He(tt+et),mt=!R;++B<tt;)ot[B]=f[B];for(var Ot=B;++Ee<et;)ot[Ot+Ee]=p[Ee];for(;++se<fe;)(mt||B<Q)&&(ot[Ot+w[se]]=f[B++]);return ot}function Si(f,p){var w=-1,R=f.length;for(p||(p=He(R));++w<R;)p[w]=f[w];return p}function _a(f,p,w,R){var B=!w;w||(w={});for(var Q=-1,se=p.length;++Q<se;){var fe=p[Q],Ee=R?R(w[fe],f[fe],fe,w,f):t;Ee===t&&(Ee=f[fe]),B?qa(w,fe,Ee):fh(w,fe,Ee)}return w}function IV(f,p){return _a(f,xb(f),p)}function NV(f,p){return _a(f,I2(f),p)}function _g(f,p){return function(w,R){var B=Ht(w)?z6:tV,Q=p?p():{};return B(w,f,It(R,2),Q)}}function Oc(f){return $t(function(p,w){var R=-1,B=w.length,Q=B>1?w[B-1]:t,se=B>2?w[2]:t;for(Q=f.length>3&&typeof Q=="function"?(B--,Q):t,se&&ii(w[0],w[1],se)&&(Q=B<3?t:Q,B=1),p=On(p);++R<B;){var fe=w[R];fe&&f(p,fe,R,Q)}return p})}function _2(f,p){return function(w,R){if(w==null)return w;if(!Ci(w))return f(w,R);for(var B=w.length,Q=p?B:-1,se=On(w);(p?Q--:++Q<B)&&R(se[Q],Q,se)!==!1;);return w}}function b2(f){return function(p,w,R){for(var B=-1,Q=On(p),se=R(p),fe=se.length;fe--;){var Ee=se[f?fe:++B];if(w(Q[Ee],Ee,Q)===!1)break}return p}}function LV(f,p,w){var R=p&y,B=gh(f);function Q(){var se=this&&this!==zr&&this instanceof Q?B:f;return se.apply(R?w:this,arguments)}return Q}function w2(f){return function(p){p=dn(p);var w=bc(p)?jo(p):t,R=w?w[0]:p.charAt(0),B=w?Xs(w,1).join(""):p.slice(1);return R[f]()+B}}function Pc(f){return function(p){return F_(_A(xA(p).replace(C6,"")),f,"")}}function gh(f){return function(){var p=arguments;switch(p.length){case 0:return new f;case 1:return new f(p[0]);case 2:return new f(p[0],p[1]);case 3:return new f(p[0],p[1],p[2]);case 4:return new f(p[0],p[1],p[2],p[3]);case 5:return new f(p[0],p[1],p[2],p[3],p[4]);case 6:return new f(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new f(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var w=Tc(f.prototype),R=f.apply(w,p);return Kn(R)?R:w}}function DV(f,p,w){var R=gh(f);function B(){for(var Q=arguments.length,se=He(Q),fe=Q,Ee=Ac(B);fe--;)se[fe]=arguments[fe];var et=Q<3&&se[0]!==Ee&&se[Q-1]!==Ee?[]:Gs(se,Ee);if(Q-=et.length,Q<w)return T2(f,p,bg,B.placeholder,t,se,et,t,t,w-Q);var tt=this&&this!==zr&&this instanceof B?R:f;return Hi(tt,this,se)}return B}function S2(f){return function(p,w,R){var B=On(p);if(!Ci(p)){var Q=It(w,3);p=Tr(p),w=function(fe){return Q(B[fe],fe,B)}}var se=f(p,w,R);return se>-1?B[Q?p[se]:se]:t}}function C2(f){return Ja(function(p){var w=p.length,R=w,B=xo.prototype.thru;for(f&&p.reverse();R--;){var Q=p[R];if(typeof Q!="function")throw new yo(a);if(B&&!se&&Mg(Q)=="wrapper")var se=new xo([],!0)}for(R=se?R:w;++R<w;){Q=p[R];var fe=Mg(Q),Ee=fe=="wrapper"?vb(Q):t;Ee&&bb(Ee[0])&&Ee[1]==(T|b|C|P)&&!Ee[4].length&&Ee[9]==1?se=se[Mg(Ee[0])].apply(se,Ee[3]):se=Q.length==1&&bb(Q)?se[fe]():se.thru(Q)}return function(){var et=arguments,tt=et[0];if(se&&et.length==1&&Ht(tt))return se.plant(tt).value();for(var ot=0,mt=w?p[ot].apply(this,et):tt;++ot<w;)mt=p[ot].call(this,mt);return mt}})}function bg(f,p,w,R,B,Q,se,fe,Ee,et){var tt=p&T,ot=p&y,mt=p&x,Ot=p&(b|S),Nt=p&L,Wt=mt?t:gh(f);function Lt(){for(var jt=arguments.length,tn=He(jt),$i=jt;$i--;)tn[$i]=arguments[$i];if(Ot)var oi=Ac(Lt),ji=K6(tn,oi);if(R&&(tn=y2(tn,R,B,Ot)),Q&&(tn=x2(tn,Q,se,Ot)),jt-=ji,Ot&&jt<et){var or=Gs(tn,oi);return T2(f,p,bg,Lt.placeholder,w,tn,or,fe,Ee,et-jt)}var Yo=ot?w:this,ns=mt?Yo[f]:f;return jt=tn.length,fe?tn=tG(tn,fe):Nt&&jt>1&&tn.reverse(),tt&&Ee<jt&&(tn.length=Ee),this&&this!==zr&&this instanceof Lt&&(ns=Wt||gh(ns)),ns.apply(Yo,tn)}return Lt}function M2(f,p){return function(w,R){return uV(w,f,p(R),{})}}function wg(f,p){return function(w,R){var B;if(w===t&&R===t)return p;if(w!==t&&(B=w),R!==t){if(B===t)return R;typeof w=="string"||typeof R=="string"?(w=Gi(w),R=Gi(R)):(w=c2(w),R=c2(R)),B=f(w,R)}return B}}function hb(f){return Ja(function(p){return p=Bn(p,Vi(It())),$t(function(w){var R=this;return f(p,function(B){return Hi(B,R,w)})})})}function Sg(f,p){p=p===t?" ":Gi(p);var w=p.length;if(w<2)return w?ab(p,f):p;var R=ab(p,ug(f/wc(p)));return bc(p)?Xs(jo(R),0,f).join(""):R.slice(0,f)}function kV(f,p,w,R){var B=p&y,Q=gh(f);function se(){for(var fe=-1,Ee=arguments.length,et=-1,tt=R.length,ot=He(tt+Ee),mt=this&&this!==zr&&this instanceof se?Q:f;++et<tt;)ot[et]=R[et];for(;Ee--;)ot[et++]=arguments[++fe];return Hi(mt,B?w:this,ot)}return se}function E2(f){return function(p,w,R){return R&&typeof R!="number"&&ii(p,w,R)&&(w=R=t),p=ts(p),w===t?(w=p,p=0):w=ts(w),R=R===t?p<w?1:-1:ts(R),bV(p,w,R,f)}}function Cg(f){return function(p,w){return typeof p=="string"&&typeof w=="string"||(p=So(p),w=So(w)),f(p,w)}}function T2(f,p,w,R,B,Q,se,fe,Ee,et){var tt=p&b,ot=tt?se:t,mt=tt?t:se,Ot=tt?Q:t,Nt=tt?t:Q;p|=tt?C:E,p&=~(tt?E:C),p&_||(p&=~(y|x));var Wt=[f,p,B,Ot,ot,Nt,mt,fe,Ee,et],Lt=w.apply(t,Wt);return bb(f)&&B2(Lt,Wt),Lt.placeholder=R,U2(Lt,f,p)}function pb(f){var p=yr[f];return function(w,R){if(w=So(w),R=R==null?0:jr(Gt(R),292),R&&UP(w)){var B=(dn(w)+"e").split("e"),Q=p(B[0]+"e"+(+B[1]+R));return B=(dn(Q)+"e").split("e"),+(B[0]+"e"+(+B[1]-R))}return p(w)}}var FV=Mc&&1/Qm(new Mc([,-0]))[1]==V?function(f){return new Mc(f)}:kb;function O2(f){return function(p){var w=Kr(p);return w==we?W_(p):w==nt?e8(p):j6(p,f(p))}}function Za(f,p,w,R,B,Q,se,fe){var Ee=p&x;if(!Ee&&typeof f!="function")throw new yo(a);var et=R?R.length:0;if(et||(p&=~(C|E),R=B=t),se=se===t?se:xr(Gt(se),0),fe=fe===t?fe:Gt(fe),et-=B?B.length:0,p&E){var tt=R,ot=B;R=B=t}var mt=Ee?t:vb(f),Ot=[f,p,w,R,B,tt,ot,Q,se,fe];if(mt&&JV(Ot,mt),f=Ot[0],p=Ot[1],w=Ot[2],R=Ot[3],B=Ot[4],fe=Ot[9]=Ot[9]===t?Ee?0:f.length:xr(Ot[9]-et,0),!fe&&p&(b|S)&&(p&=~(b|S)),!p||p==y)var Nt=LV(f,p,w);else p==b||p==S?Nt=DV(f,p,fe):(p==C||p==(y|C))&&!B.length?Nt=kV(f,p,w,R):Nt=bg.apply(t,Ot);var Wt=mt?l2:B2;return U2(Wt(Nt,Ot),f,p)}function P2(f,p,w,R){return f===t||Xo(f,Cc[w])&&!gn.call(R,w)?p:f}function A2(f,p,w,R,B,Q){return Kn(f)&&Kn(p)&&(Q.set(p,f),vg(f,p,t,A2,Q),Q.delete(p)),f}function zV(f){return xh(f)?t:f}function R2(f,p,w,R,B,Q){var se=w&g,fe=f.length,Ee=p.length;if(fe!=Ee&&!(se&&Ee>fe))return!1;var et=Q.get(f),tt=Q.get(p);if(et&&tt)return et==p&&tt==f;var ot=-1,mt=!0,Ot=w&v?new iu:t;for(Q.set(f,p),Q.set(p,f);++ot<fe;){var Nt=f[ot],Wt=p[ot];if(R)var Lt=se?R(Wt,Nt,ot,p,f,Q):R(Nt,Wt,ot,f,p,Q);if(Lt!==t){if(Lt)continue;mt=!1;break}if(Ot){if(!z_(p,function(jt,tn){if(!oh(Ot,tn)&&(Nt===jt||B(Nt,jt,w,R,Q)))return Ot.push(tn)})){mt=!1;break}}else if(!(Nt===Wt||B(Nt,Wt,w,R,Q))){mt=!1;break}}return Q.delete(f),Q.delete(p),mt}function BV(f,p,w,R,B,Q,se){switch(w){case Ue:if(f.byteLength!=p.byteLength||f.byteOffset!=p.byteOffset)return!1;f=f.buffer,p=p.buffer;case Me:return!(f.byteLength!=p.byteLength||!Q(new og(f),new og(p)));case be:case ke:case De:return Xo(+f,+p);case Le:return f.name==p.name&&f.message==p.message;case it:case q:return f==p+"";case we:var fe=W_;case nt:var Ee=R&g;if(fe||(fe=Qm),f.size!=p.size&&!Ee)return!1;var et=se.get(f);if(et)return et==p;R|=v,se.set(f,p);var tt=R2(fe(f),fe(p),R,B,Q,se);return se.delete(f),tt;case z:if(ch)return ch.call(f)==ch.call(p)}return!1}function UV(f,p,w,R,B,Q){var se=w&g,fe=mb(f),Ee=fe.length,et=mb(p),tt=et.length;if(Ee!=tt&&!se)return!1;for(var ot=Ee;ot--;){var mt=fe[ot];if(!(se?mt in p:gn.call(p,mt)))return!1}var Ot=Q.get(f),Nt=Q.get(p);if(Ot&&Nt)return Ot==p&&Nt==f;var Wt=!0;Q.set(f,p),Q.set(p,f);for(var Lt=se;++ot<Ee;){mt=fe[ot];var jt=f[mt],tn=p[mt];if(R)var $i=se?R(tn,jt,mt,p,f,Q):R(jt,tn,mt,f,p,Q);if(!($i===t?jt===tn||B(jt,tn,w,R,Q):$i)){Wt=!1;break}Lt||(Lt=mt=="constructor")}if(Wt&&!Lt){var oi=f.constructor,ji=p.constructor;oi!=ji&&"constructor"in f&&"constructor"in p&&!(typeof oi=="function"&&oi instanceof oi&&typeof ji=="function"&&ji instanceof ji)&&(Wt=!1)}return Q.delete(f),Q.delete(p),Wt}function Ja(f){return Sb(F2(f,t,j2),f+"")}function mb(f){return ZP(f,Tr,xb)}function gb(f){return ZP(f,Mi,I2)}var vb=fg?function(f){return fg.get(f)}:kb;function Mg(f){for(var p=f.name+"",w=Ec[p],R=gn.call(Ec,p)?w.length:0;R--;){var B=w[R],Q=B.func;if(Q==null||Q==f)return B.name}return p}function Ac(f){var p=gn.call(Y,"placeholder")?Y:f;return p.placeholder}function It(){var f=Y.iteratee||Lb;return f=f===Lb?e2:f,arguments.length?f(arguments[0],arguments[1]):f}function Eg(f,p){var w=f.__data__;return XV(p)?w[typeof p=="string"?"string":"hash"]:w.map}function yb(f){for(var p=Tr(f),w=p.length;w--;){var R=p[w],B=f[R];p[w]=[R,B,D2(B)]}return p}function su(f,p){var w=Z6(f,p);return QP(w)?w:t}function HV(f){var p=gn.call(f,nu),w=f[nu];try{f[nu]=t;var R=!0}catch{}var B=rg.call(f);return R&&(p?f[nu]=w:delete f[nu]),B}var xb=j_?function(f){return f==null?[]:(f=On(f),Hs(j_(f),function(p){return zP.call(f,p)}))}:Fb,I2=j_?function(f){for(var p=[];f;)Vs(p,xb(f)),f=ag(f);return p}:Fb,Kr=ri;(K_&&Kr(new K_(new ArrayBuffer(1)))!=Ue||sh&&Kr(new sh)!=we||X_&&Kr(X_.resolve())!=Te||Mc&&Kr(new Mc)!=nt||lh&&Kr(new lh)!=_e)&&(Kr=function(f){var p=ri(f),w=p==Oe?f.constructor:t,R=w?lu(w):"";if(R)switch(R){case S8:return Ue;case C8:return we;case M8:return Te;case E8:return nt;case T8:return _e}return p});function VV(f,p,w){for(var R=-1,B=w.length;++R<B;){var Q=w[R],se=Q.size;switch(Q.type){case"drop":f+=se;break;case"dropRight":p-=se;break;case"take":p=jr(p,f+se);break;case"takeRight":f=xr(f,p-se);break}}return{start:f,end:p}}function GV(f){var p=f.match(ae);return p?p[1].split(me):[]}function N2(f,p,w){p=Ks(p,f);for(var R=-1,B=p.length,Q=!1;++R<B;){var se=ba(p[R]);if(!(Q=f!=null&&w(f,se)))break;f=f[se]}return Q||++R!=B?Q:(B=f==null?0:f.length,!!B&&Ng(B)&&Qa(se,B)&&(Ht(f)||uu(f)))}function WV(f){var p=f.length,w=new f.constructor(p);return p&&typeof f[0]=="string"&&gn.call(f,"index")&&(w.index=f.index,w.input=f.input),w}function L2(f){return typeof f.constructor=="function"&&!vh(f)?Tc(ag(f)):{}}function $V(f,p,w){var R=f.constructor;switch(p){case Me:return db(f);case be:case ke:return new R(+f);case Ue:return OV(f,w);case K:case Ne:case at:case Ke:case Z:case ve:case Ae:case qe:case ze:return g2(f,w);case we:return new R;case De:case q:return new R(f);case it:return PV(f);case nt:return new R;case z:return AV(f)}}function jV(f,p){var w=p.length;if(!w)return f;var R=w-1;return p[R]=(w>1?"& ":"")+p[R],p=p.join(w>2?", ":" "),f.replace(Ge,`{
/* [wrapped with `+p+`] */
`)}function KV(f){return Ht(f)||uu(f)||!!(BP&&f&&f[BP])}function Qa(f,p){var w=typeof f;return p=p??N,!!p&&(w=="number"||w!="symbol"&&st.test(f))&&f>-1&&f%1==0&&f<p}function ii(f,p,w){if(!Kn(w))return!1;var R=typeof p;return(R=="number"?Ci(w)&&Qa(p,w.length):R=="string"&&p in w)?Xo(w[p],f):!1}function _b(f,p){if(Ht(f))return!1;var w=typeof f;return w=="number"||w=="symbol"||w=="boolean"||f==null||Wi(f)?!0:va.test(f)||!Fr.test(f)||p!=null&&f in On(p)}function XV(f){var p=typeof f;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?f!=="__proto__":f===null}function bb(f){var p=Mg(f),w=Y[p];if(typeof w!="function"||!(p in Zt.prototype))return!1;if(f===w)return!0;var R=vb(w);return!!R&&f===R[0]}function YV(f){return!!DP&&DP in f}var qV=tg?es:zb;function vh(f){var p=f&&f.constructor,w=typeof p=="function"&&p.prototype||Cc;return f===w}function D2(f){return f===f&&!Kn(f)}function k2(f,p){return function(w){return w==null?!1:w[f]===p&&(p!==t||f in On(w))}}function ZV(f){var p=Rg(f,function(R){return w.size===u&&w.clear(),R}),w=p.cache;return p}function JV(f,p){var w=f[1],R=p[1],B=w|R,Q=B<(y|x|T),se=R==T&&w==b||R==T&&w==P&&f[7].length<=p[8]||R==(T|P)&&p[7].length<=p[8]&&w==b;if(!(Q||se))return f;R&y&&(f[2]=p[2],B|=w&y?0:_);var fe=p[3];if(fe){var Ee=f[3];f[3]=Ee?y2(Ee,fe,p[4]):fe,f[4]=Ee?Gs(f[3],c):p[4]}return fe=p[5],fe&&(Ee=f[5],f[5]=Ee?x2(Ee,fe,p[6]):fe,f[6]=Ee?Gs(f[5],c):p[6]),fe=p[7],fe&&(f[7]=fe),R&T&&(f[8]=f[8]==null?p[8]:jr(f[8],p[8])),f[9]==null&&(f[9]=p[9]),f[0]=p[0],f[1]=B,f}function QV(f){var p=[];if(f!=null)for(var w in On(f))p.push(w);return p}function eG(f){return rg.call(f)}function F2(f,p,w){return p=xr(p===t?f.length-1:p,0),function(){for(var R=arguments,B=-1,Q=xr(R.length-p,0),se=He(Q);++B<Q;)se[B]=R[p+B];B=-1;for(var fe=He(p+1);++B<p;)fe[B]=R[B];return fe[p]=w(se),Hi(f,this,fe)}}function z2(f,p){return p.length<2?f:au(f,bo(p,0,-1))}function tG(f,p){for(var w=f.length,R=jr(p.length,w),B=Si(f);R--;){var Q=p[R];f[R]=Qa(Q,w)?B[Q]:t}return f}function wb(f,p){if(!(p==="constructor"&&typeof f[p]=="function")&&p!="__proto__")return f[p]}var B2=H2(l2),yh=g8||function(f,p){return zr.setTimeout(f,p)},Sb=H2(CV);function U2(f,p,w){var R=p+"";return Sb(f,jV(R,nG(GV(R),w)))}function H2(f){var p=0,w=0;return function(){var R=_8(),B=U-(R-w);if(w=R,B>0){if(++p>=F)return arguments[0]}else p=0;return f.apply(t,arguments)}}function Tg(f,p){var w=-1,R=f.length,B=R-1;for(p=p===t?R:p;++w<p;){var Q=ob(w,B),se=f[Q];f[Q]=f[w],f[w]=se}return f.length=p,f}var V2=ZV(function(f){var p=[];return f.charCodeAt(0)===46&&p.push(""),f.replace(ya,function(w,R,B,Q){p.push(B?Q.replace(D,"$1"):R||w)}),p});function ba(f){if(typeof f=="string"||Wi(f))return f;var p=f+"";return p=="0"&&1/f==-V?"-0":p}function lu(f){if(f!=null){try{return ng.call(f)}catch{}try{return f+""}catch{}}return""}function nG(f,p){return vo(ye,function(w){var R="_."+w[0];p&w[1]&&!Zm(f,R)&&f.push(R)}),f.sort()}function G2(f){if(f instanceof Zt)return f.clone();var p=new xo(f.__wrapped__,f.__chain__);return p.__actions__=Si(f.__actions__),p.__index__=f.__index__,p.__values__=f.__values__,p}function rG(f,p,w){(w?ii(f,p,w):p===t)?p=1:p=xr(Gt(p),0);var R=f==null?0:f.length;if(!R||p<1)return[];for(var B=0,Q=0,se=He(ug(R/p));B<R;)se[Q++]=bo(f,B,B+=p);return se}function iG(f){for(var p=-1,w=f==null?0:f.length,R=0,B=[];++p<w;){var Q=f[p];Q&&(B[R++]=Q)}return B}function oG(){var f=arguments.length;if(!f)return[];for(var p=He(f-1),w=arguments[0],R=f;R--;)p[R-1]=arguments[R];return Vs(Ht(w)?Si(w):[w],Br(p,1))}var aG=$t(function(f,p){return ir(f)?dh(f,Br(p,1,ir,!0)):[]}),sG=$t(function(f,p){var w=wo(p);return ir(w)&&(w=t),ir(f)?dh(f,Br(p,1,ir,!0),It(w,2)):[]}),lG=$t(function(f,p){var w=wo(p);return ir(w)&&(w=t),ir(f)?dh(f,Br(p,1,ir,!0),t,w):[]});function uG(f,p,w){var R=f==null?0:f.length;return R?(p=w||p===t?1:Gt(p),bo(f,p<0?0:p,R)):[]}function cG(f,p,w){var R=f==null?0:f.length;return R?(p=w||p===t?1:Gt(p),p=R-p,bo(f,0,p<0?0:p)):[]}function fG(f,p){return f&&f.length?xg(f,It(p,3),!0,!0):[]}function dG(f,p){return f&&f.length?xg(f,It(p,3),!0):[]}function hG(f,p,w,R){var B=f==null?0:f.length;return B?(w&&typeof w!="number"&&ii(f,p,w)&&(w=0,R=B),oV(f,p,w,R)):[]}function W2(f,p,w){var R=f==null?0:f.length;if(!R)return-1;var B=w==null?0:Gt(w);return B<0&&(B=xr(R+B,0)),Jm(f,It(p,3),B)}function $2(f,p,w){var R=f==null?0:f.length;if(!R)return-1;var B=R-1;return w!==t&&(B=Gt(w),B=w<0?xr(R+B,0):jr(B,R-1)),Jm(f,It(p,3),B,!0)}function j2(f){var p=f==null?0:f.length;return p?Br(f,1):[]}function pG(f){var p=f==null?0:f.length;return p?Br(f,V):[]}function mG(f,p){var w=f==null?0:f.length;return w?(p=p===t?1:Gt(p),Br(f,p)):[]}function gG(f){for(var p=-1,w=f==null?0:f.length,R={};++p<w;){var B=f[p];R[B[0]]=B[1]}return R}function K2(f){return f&&f.length?f[0]:t}function vG(f,p,w){var R=f==null?0:f.length;if(!R)return-1;var B=w==null?0:Gt(w);return B<0&&(B=xr(R+B,0)),_c(f,p,B)}function yG(f){var p=f==null?0:f.length;return p?bo(f,0,-1):[]}var xG=$t(function(f){var p=Bn(f,cb);return p.length&&p[0]===f[0]?eb(p):[]}),_G=$t(function(f){var p=wo(f),w=Bn(f,cb);return p===wo(w)?p=t:w.pop(),w.length&&w[0]===f[0]?eb(w,It(p,2)):[]}),bG=$t(function(f){var p=wo(f),w=Bn(f,cb);return p=typeof p=="function"?p:t,p&&w.pop(),w.length&&w[0]===f[0]?eb(w,t,p):[]});function wG(f,p){return f==null?"":y8.call(f,p)}function wo(f){var p=f==null?0:f.length;return p?f[p-1]:t}function SG(f,p,w){var R=f==null?0:f.length;if(!R)return-1;var B=R;return w!==t&&(B=Gt(w),B=B<0?xr(R+B,0):jr(B,R-1)),p===p?n8(f,p,B):Jm(f,TP,B,!0)}function CG(f,p){return f&&f.length?i2(f,Gt(p)):t}var MG=$t(X2);function X2(f,p){return f&&f.length&&p&&p.length?ib(f,p):f}function EG(f,p,w){return f&&f.length&&p&&p.length?ib(f,p,It(w,2)):f}function TG(f,p,w){return f&&f.length&&p&&p.length?ib(f,p,t,w):f}var OG=Ja(function(f,p){var w=f==null?0:f.length,R=q_(f,p);return s2(f,Bn(p,function(B){return Qa(B,w)?+B:B}).sort(v2)),R});function PG(f,p){var w=[];if(!(f&&f.length))return w;var R=-1,B=[],Q=f.length;for(p=It(p,3);++R<Q;){var se=f[R];p(se,R,f)&&(w.push(se),B.push(R))}return s2(f,B),w}function Cb(f){return f==null?f:w8.call(f)}function AG(f,p,w){var R=f==null?0:f.length;return R?(w&&typeof w!="number"&&ii(f,p,w)?(p=0,w=R):(p=p==null?0:Gt(p),w=w===t?R:Gt(w)),bo(f,p,w)):[]}function RG(f,p){return yg(f,p)}function IG(f,p,w){return sb(f,p,It(w,2))}function NG(f,p){var w=f==null?0:f.length;if(w){var R=yg(f,p);if(R<w&&Xo(f[R],p))return R}return-1}function LG(f,p){return yg(f,p,!0)}function DG(f,p,w){return sb(f,p,It(w,2),!0)}function kG(f,p){var w=f==null?0:f.length;if(w){var R=yg(f,p,!0)-1;if(Xo(f[R],p))return R}return-1}function FG(f){return f&&f.length?u2(f):[]}function zG(f,p){return f&&f.length?u2(f,It(p,2)):[]}function BG(f){var p=f==null?0:f.length;return p?bo(f,1,p):[]}function UG(f,p,w){return f&&f.length?(p=w||p===t?1:Gt(p),bo(f,0,p<0?0:p)):[]}function HG(f,p,w){var R=f==null?0:f.length;return R?(p=w||p===t?1:Gt(p),p=R-p,bo(f,p<0?0:p,R)):[]}function VG(f,p){return f&&f.length?xg(f,It(p,3),!1,!0):[]}function GG(f,p){return f&&f.length?xg(f,It(p,3)):[]}var WG=$t(function(f){return js(Br(f,1,ir,!0))}),$G=$t(function(f){var p=wo(f);return ir(p)&&(p=t),js(Br(f,1,ir,!0),It(p,2))}),jG=$t(function(f){var p=wo(f);return p=typeof p=="function"?p:t,js(Br(f,1,ir,!0),t,p)});function KG(f){return f&&f.length?js(f):[]}function XG(f,p){return f&&f.length?js(f,It(p,2)):[]}function YG(f,p){return p=typeof p=="function"?p:t,f&&f.length?js(f,t,p):[]}function Mb(f){if(!(f&&f.length))return[];var p=0;return f=Hs(f,function(w){if(ir(w))return p=xr(w.length,p),!0}),V_(p,function(w){return Bn(f,B_(w))})}function Y2(f,p){if(!(f&&f.length))return[];var w=Mb(f);return p==null?w:Bn(w,function(R){return Hi(p,t,R)})}var qG=$t(function(f,p){return ir(f)?dh(f,p):[]}),ZG=$t(function(f){return ub(Hs(f,ir))}),JG=$t(function(f){var p=wo(f);return ir(p)&&(p=t),ub(Hs(f,ir),It(p,2))}),QG=$t(function(f){var p=wo(f);return p=typeof p=="function"?p:t,ub(Hs(f,ir),t,p)}),eW=$t(Mb);function tW(f,p){return h2(f||[],p||[],fh)}function nW(f,p){return h2(f||[],p||[],mh)}var rW=$t(function(f){var p=f.length,w=p>1?f[p-1]:t;return w=typeof w=="function"?(f.pop(),w):t,Y2(f,w)});function q2(f){var p=Y(f);return p.__chain__=!0,p}function iW(f,p){return p(f),f}function Og(f,p){return p(f)}var oW=Ja(function(f){var p=f.length,w=p?f[0]:0,R=this.__wrapped__,B=function(Q){return q_(Q,f)};return p>1||this.__actions__.length||!(R instanceof Zt)||!Qa(w)?this.thru(B):(R=R.slice(w,+w+(p?1:0)),R.__actions__.push({func:Og,args:[B],thisArg:t}),new xo(R,this.__chain__).thru(function(Q){return p&&!Q.length&&Q.push(t),Q}))});function aW(){return q2(this)}function sW(){return new xo(this.value(),this.__chain__)}function lW(){this.__values__===t&&(this.__values__=cA(this.value()));var f=this.__index__>=this.__values__.length,p=f?t:this.__values__[this.__index__++];return{done:f,value:p}}function uW(){return this}function cW(f){for(var p,w=this;w instanceof hg;){var R=G2(w);R.__index__=0,R.__values__=t,p?B.__wrapped__=R:p=R;var B=R;w=w.__wrapped__}return B.__wrapped__=f,p}function fW(){var f=this.__wrapped__;if(f instanceof Zt){var p=f;return this.__actions__.length&&(p=new Zt(this)),p=p.reverse(),p.__actions__.push({func:Og,args:[Cb],thisArg:t}),new xo(p,this.__chain__)}return this.thru(Cb)}function dW(){return d2(this.__wrapped__,this.__actions__)}var hW=_g(function(f,p,w){gn.call(f,w)?++f[w]:qa(f,w,1)});function pW(f,p,w){var R=Ht(f)?MP:iV;return w&&ii(f,p,w)&&(p=t),R(f,It(p,3))}function mW(f,p){var w=Ht(f)?Hs:YP;return w(f,It(p,3))}var gW=S2(W2),vW=S2($2);function yW(f,p){return Br(Pg(f,p),1)}function xW(f,p){return Br(Pg(f,p),V)}function _W(f,p,w){return w=w===t?1:Gt(w),Br(Pg(f,p),w)}function Z2(f,p){var w=Ht(f)?vo:$s;return w(f,It(p,3))}function J2(f,p){var w=Ht(f)?B6:XP;return w(f,It(p,3))}var bW=_g(function(f,p,w){gn.call(f,w)?f[w].push(p):qa(f,w,[p])});function wW(f,p,w,R){f=Ci(f)?f:Ic(f),w=w&&!R?Gt(w):0;var B=f.length;return w<0&&(w=xr(B+w,0)),Lg(f)?w<=B&&f.indexOf(p,w)>-1:!!B&&_c(f,p,w)>-1}var SW=$t(function(f,p,w){var R=-1,B=typeof p=="function",Q=Ci(f)?He(f.length):[];return $s(f,function(se){Q[++R]=B?Hi(p,se,w):hh(se,p,w)}),Q}),CW=_g(function(f,p,w){qa(f,w,p)});function Pg(f,p){var w=Ht(f)?Bn:t2;return w(f,It(p,3))}function MW(f,p,w,R){return f==null?[]:(Ht(p)||(p=p==null?[]:[p]),w=R?t:w,Ht(w)||(w=w==null?[]:[w]),o2(f,p,w))}var EW=_g(function(f,p,w){f[w?0:1].push(p)},function(){return[[],[]]});function TW(f,p,w){var R=Ht(f)?F_:PP,B=arguments.length<3;return R(f,It(p,4),w,B,$s)}function OW(f,p,w){var R=Ht(f)?U6:PP,B=arguments.length<3;return R(f,It(p,4),w,B,XP)}function PW(f,p){var w=Ht(f)?Hs:YP;return w(f,Ig(It(p,3)))}function AW(f){var p=Ht(f)?WP:wV;return p(f)}function RW(f,p,w){(w?ii(f,p,w):p===t)?p=1:p=Gt(p);var R=Ht(f)?Q8:SV;return R(f,p)}function IW(f){var p=Ht(f)?eV:MV;return p(f)}function NW(f){if(f==null)return 0;if(Ci(f))return Lg(f)?wc(f):f.length;var p=Kr(f);return p==we||p==nt?f.size:nb(f).length}function LW(f,p,w){var R=Ht(f)?z_:EV;return w&&ii(f,p,w)&&(p=t),R(f,It(p,3))}var DW=$t(function(f,p){if(f==null)return[];var w=p.length;return w>1&&ii(f,p[0],p[1])?p=[]:w>2&&ii(p[0],p[1],p[2])&&(p=[p[0]]),o2(f,Br(p,1),[])}),Ag=m8||function(){return zr.Date.now()};function kW(f,p){if(typeof p!="function")throw new yo(a);return f=Gt(f),function(){if(--f<1)return p.apply(this,arguments)}}function Q2(f,p,w){return p=w?t:p,p=f&&p==null?f.length:p,Za(f,T,t,t,t,t,p)}function eA(f,p){var w;if(typeof p!="function")throw new yo(a);return f=Gt(f),function(){return--f>0&&(w=p.apply(this,arguments)),f<=1&&(p=t),w}}var Eb=$t(function(f,p,w){var R=y;if(w.length){var B=Gs(w,Ac(Eb));R|=C}return Za(f,R,p,w,B)}),tA=$t(function(f,p,w){var R=y|x;if(w.length){var B=Gs(w,Ac(tA));R|=C}return Za(p,R,f,w,B)});function nA(f,p,w){p=w?t:p;var R=Za(f,b,t,t,t,t,t,p);return R.placeholder=nA.placeholder,R}function rA(f,p,w){p=w?t:p;var R=Za(f,S,t,t,t,t,t,p);return R.placeholder=rA.placeholder,R}function iA(f,p,w){var R,B,Q,se,fe,Ee,et=0,tt=!1,ot=!1,mt=!0;if(typeof f!="function")throw new yo(a);p=So(p)||0,Kn(w)&&(tt=!!w.leading,ot="maxWait"in w,Q=ot?xr(So(w.maxWait)||0,p):Q,mt="trailing"in w?!!w.trailing:mt);function Ot(or){var Yo=R,ns=B;return R=B=t,et=or,se=f.apply(ns,Yo),se}function Nt(or){return et=or,fe=yh(jt,p),tt?Ot(or):se}function Wt(or){var Yo=or-Ee,ns=or-et,SA=p-Yo;return ot?jr(SA,Q-ns):SA}function Lt(or){var Yo=or-Ee,ns=or-et;return Ee===t||Yo>=p||Yo<0||ot&&ns>=Q}function jt(){var or=Ag();if(Lt(or))return tn(or);fe=yh(jt,Wt(or))}function tn(or){return fe=t,mt&&R?Ot(or):(R=B=t,se)}function $i(){fe!==t&&p2(fe),et=0,R=Ee=B=fe=t}function oi(){return fe===t?se:tn(Ag())}function ji(){var or=Ag(),Yo=Lt(or);if(R=arguments,B=this,Ee=or,Yo){if(fe===t)return Nt(Ee);if(ot)return p2(fe),fe=yh(jt,p),Ot(Ee)}return fe===t&&(fe=yh(jt,p)),se}return ji.cancel=$i,ji.flush=oi,ji}var FW=$t(function(f,p){return KP(f,1,p)}),zW=$t(function(f,p,w){return KP(f,So(p)||0,w)});function BW(f){return Za(f,L)}function Rg(f,p){if(typeof f!="function"||p!=null&&typeof p!="function")throw new yo(a);var w=function(){var R=arguments,B=p?p.apply(this,R):R[0],Q=w.cache;if(Q.has(B))return Q.get(B);var se=f.apply(this,R);return w.cache=Q.set(B,se)||Q,se};return w.cache=new(Rg.Cache||Ya),w}Rg.Cache=Ya;function Ig(f){if(typeof f!="function")throw new yo(a);return function(){var p=arguments;switch(p.length){case 0:return!f.call(this);case 1:return!f.call(this,p[0]);case 2:return!f.call(this,p[0],p[1]);case 3:return!f.call(this,p[0],p[1],p[2])}return!f.apply(this,p)}}function UW(f){return eA(2,f)}var HW=TV(function(f,p){p=p.length==1&&Ht(p[0])?Bn(p[0],Vi(It())):Bn(Br(p,1),Vi(It()));var w=p.length;return $t(function(R){for(var B=-1,Q=jr(R.length,w);++B<Q;)R[B]=p[B].call(this,R[B]);return Hi(f,this,R)})}),Tb=$t(function(f,p){var w=Gs(p,Ac(Tb));return Za(f,C,t,p,w)}),oA=$t(function(f,p){var w=Gs(p,Ac(oA));return Za(f,E,t,p,w)}),VW=Ja(function(f,p){return Za(f,P,t,t,t,p)});function GW(f,p){if(typeof f!="function")throw new yo(a);return p=p===t?p:Gt(p),$t(f,p)}function WW(f,p){if(typeof f!="function")throw new yo(a);return p=p==null?0:xr(Gt(p),0),$t(function(w){var R=w[p],B=Xs(w,0,p);return R&&Vs(B,R),Hi(f,this,B)})}function $W(f,p,w){var R=!0,B=!0;if(typeof f!="function")throw new yo(a);return Kn(w)&&(R="leading"in w?!!w.leading:R,B="trailing"in w?!!w.trailing:B),iA(f,p,{leading:R,maxWait:p,trailing:B})}function jW(f){return Q2(f,1)}function KW(f,p){return Tb(fb(p),f)}function XW(){if(!arguments.length)return[];var f=arguments[0];return Ht(f)?f:[f]}function YW(f){return _o(f,m)}function qW(f,p){return p=typeof p=="function"?p:t,_o(f,m,p)}function ZW(f){return _o(f,d|m)}function JW(f,p){return p=typeof p=="function"?p:t,_o(f,d|m,p)}function QW(f,p){return p==null||jP(f,p,Tr(p))}function Xo(f,p){return f===p||f!==f&&p!==p}var e$=Cg(Q_),t$=Cg(function(f,p){return f>=p}),uu=JP(function(){return arguments}())?JP:function(f){return tr(f)&&gn.call(f,"callee")&&!zP.call(f,"callee")},Ht=He.isArray,n$=xP?Vi(xP):cV;function Ci(f){return f!=null&&Ng(f.length)&&!es(f)}function ir(f){return tr(f)&&Ci(f)}function r$(f){return f===!0||f===!1||tr(f)&&ri(f)==be}var Ys=v8||zb,i$=_P?Vi(_P):fV;function o$(f){return tr(f)&&f.nodeType===1&&!xh(f)}function a$(f){if(f==null)return!0;if(Ci(f)&&(Ht(f)||typeof f=="string"||typeof f.splice=="function"||Ys(f)||Rc(f)||uu(f)))return!f.length;var p=Kr(f);if(p==we||p==nt)return!f.size;if(vh(f))return!nb(f).length;for(var w in f)if(gn.call(f,w))return!1;return!0}function s$(f,p){return ph(f,p)}function l$(f,p,w){w=typeof w=="function"?w:t;var R=w?w(f,p):t;return R===t?ph(f,p,t,w):!!R}function Ob(f){if(!tr(f))return!1;var p=ri(f);return p==Le||p==he||typeof f.message=="string"&&typeof f.name=="string"&&!xh(f)}function u$(f){return typeof f=="number"&&UP(f)}function es(f){if(!Kn(f))return!1;var p=ri(f);return p==le||p==ce||p==de||p==je}function aA(f){return typeof f=="number"&&f==Gt(f)}function Ng(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=N}function Kn(f){var p=typeof f;return f!=null&&(p=="object"||p=="function")}function tr(f){return f!=null&&typeof f=="object"}var sA=bP?Vi(bP):hV;function c$(f,p){return f===p||tb(f,p,yb(p))}function f$(f,p,w){return w=typeof w=="function"?w:t,tb(f,p,yb(p),w)}function d$(f){return lA(f)&&f!=+f}function h$(f){if(qV(f))throw new Bt(o);return QP(f)}function p$(f){return f===null}function m$(f){return f==null}function lA(f){return typeof f=="number"||tr(f)&&ri(f)==De}function xh(f){if(!tr(f)||ri(f)!=Oe)return!1;var p=ag(f);if(p===null)return!0;var w=gn.call(p,"constructor")&&p.constructor;return typeof w=="function"&&w instanceof w&&ng.call(w)==f8}var Pb=wP?Vi(wP):pV;function g$(f){return aA(f)&&f>=-N&&f<=N}var uA=SP?Vi(SP):mV;function Lg(f){return typeof f=="string"||!Ht(f)&&tr(f)&&ri(f)==q}function Wi(f){return typeof f=="symbol"||tr(f)&&ri(f)==z}var Rc=CP?Vi(CP):gV;function v$(f){return f===t}function y$(f){return tr(f)&&Kr(f)==_e}function x$(f){return tr(f)&&ri(f)==ue}var _$=Cg(rb),b$=Cg(function(f,p){return f<=p});function cA(f){if(!f)return[];if(Ci(f))return Lg(f)?jo(f):Si(f);if(ah&&f[ah])return Q6(f[ah]());var p=Kr(f),w=p==we?W_:p==nt?Qm:Ic;return w(f)}function ts(f){if(!f)return f===0?f:0;if(f=So(f),f===V||f===-V){var p=f<0?-1:1;return p*W}return f===f?f:0}function Gt(f){var p=ts(f),w=p%1;return p===p?w?p-w:p:0}function fA(f){return f?ou(Gt(f),0,j):0}function So(f){if(typeof f=="number")return f;if(Wi(f))return ee;if(Kn(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=Kn(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=AP(f);var w=Re.test(f);return w||rt.test(f)?k6(f.slice(2),w?2:8):ge.test(f)?ee:+f}function dA(f){return _a(f,Mi(f))}function w$(f){return f?ou(Gt(f),-N,N):f===0?f:0}function dn(f){return f==null?"":Gi(f)}var S$=Oc(function(f,p){if(vh(p)||Ci(p)){_a(p,Tr(p),f);return}for(var w in p)gn.call(p,w)&&fh(f,w,p[w])}),hA=Oc(function(f,p){_a(p,Mi(p),f)}),Dg=Oc(function(f,p,w,R){_a(p,Mi(p),f,R)}),C$=Oc(function(f,p,w,R){_a(p,Tr(p),f,R)}),M$=Ja(q_);function E$(f,p){var w=Tc(f);return p==null?w:$P(w,p)}var T$=$t(function(f,p){f=On(f);var w=-1,R=p.length,B=R>2?p[2]:t;for(B&&ii(p[0],p[1],B)&&(R=1);++w<R;)for(var Q=p[w],se=Mi(Q),fe=-1,Ee=se.length;++fe<Ee;){var et=se[fe],tt=f[et];(tt===t||Xo(tt,Cc[et])&&!gn.call(f,et))&&(f[et]=Q[et])}return f}),O$=$t(function(f){return f.push(t,A2),Hi(pA,t,f)});function P$(f,p){return EP(f,It(p,3),xa)}function A$(f,p){return EP(f,It(p,3),J_)}function R$(f,p){return f==null?f:Z_(f,It(p,3),Mi)}function I$(f,p){return f==null?f:qP(f,It(p,3),Mi)}function N$(f,p){return f&&xa(f,It(p,3))}function L$(f,p){return f&&J_(f,It(p,3))}function D$(f){return f==null?[]:gg(f,Tr(f))}function k$(f){return f==null?[]:gg(f,Mi(f))}function Ab(f,p,w){var R=f==null?t:au(f,p);return R===t?w:R}function F$(f,p){return f!=null&&N2(f,p,aV)}function Rb(f,p){return f!=null&&N2(f,p,sV)}var z$=M2(function(f,p,w){p!=null&&typeof p.toString!="function"&&(p=rg.call(p)),f[p]=w},Nb(Ei)),B$=M2(function(f,p,w){p!=null&&typeof p.toString!="function"&&(p=rg.call(p)),gn.call(f,p)?f[p].push(w):f[p]=[w]},It),U$=$t(hh);function Tr(f){return Ci(f)?GP(f):nb(f)}function Mi(f){return Ci(f)?GP(f,!0):vV(f)}function H$(f,p){var w={};return p=It(p,3),xa(f,function(R,B,Q){qa(w,p(R,B,Q),R)}),w}function V$(f,p){var w={};return p=It(p,3),xa(f,function(R,B,Q){qa(w,B,p(R,B,Q))}),w}var G$=Oc(function(f,p,w){vg(f,p,w)}),pA=Oc(function(f,p,w,R){vg(f,p,w,R)}),W$=Ja(function(f,p){var w={};if(f==null)return w;var R=!1;p=Bn(p,function(Q){return Q=Ks(Q,f),R||(R=Q.length>1),Q}),_a(f,gb(f),w),R&&(w=_o(w,d|h|m,zV));for(var B=p.length;B--;)lb(w,p[B]);return w});function $$(f,p){return mA(f,Ig(It(p)))}var j$=Ja(function(f,p){return f==null?{}:xV(f,p)});function mA(f,p){if(f==null)return{};var w=Bn(gb(f),function(R){return[R]});return p=It(p),a2(f,w,function(R,B){return p(R,B[0])})}function K$(f,p,w){p=Ks(p,f);var R=-1,B=p.length;for(B||(B=1,f=t);++R<B;){var Q=f==null?t:f[ba(p[R])];Q===t&&(R=B,Q=w),f=es(Q)?Q.call(f):Q}return f}function X$(f,p,w){return f==null?f:mh(f,p,w)}function Y$(f,p,w,R){return R=typeof R=="function"?R:t,f==null?f:mh(f,p,w,R)}var gA=O2(Tr),vA=O2(Mi);function q$(f,p,w){var R=Ht(f),B=R||Ys(f)||Rc(f);if(p=It(p,4),w==null){var Q=f&&f.constructor;B?w=R?new Q:[]:Kn(f)?w=es(Q)?Tc(ag(f)):{}:w={}}return(B?vo:xa)(f,function(se,fe,Ee){return p(w,se,fe,Ee)}),w}function Z$(f,p){return f==null?!0:lb(f,p)}function J$(f,p,w){return f==null?f:f2(f,p,fb(w))}function Q$(f,p,w,R){return R=typeof R=="function"?R:t,f==null?f:f2(f,p,fb(w),R)}function Ic(f){return f==null?[]:G_(f,Tr(f))}function ej(f){return f==null?[]:G_(f,Mi(f))}function tj(f,p,w){return w===t&&(w=p,p=t),w!==t&&(w=So(w),w=w===w?w:0),p!==t&&(p=So(p),p=p===p?p:0),ou(So(f),p,w)}function nj(f,p,w){return p=ts(p),w===t?(w=p,p=0):w=ts(w),f=So(f),lV(f,p,w)}function rj(f,p,w){if(w&&typeof w!="boolean"&&ii(f,p,w)&&(p=w=t),w===t&&(typeof p=="boolean"?(w=p,p=t):typeof f=="boolean"&&(w=f,f=t)),f===t&&p===t?(f=0,p=1):(f=ts(f),p===t?(p=f,f=0):p=ts(p)),f>p){var R=f;f=p,p=R}if(w||f%1||p%1){var B=HP();return jr(f+B*(p-f+D6("1e-"+((B+"").length-1))),p)}return ob(f,p)}var ij=Pc(function(f,p,w){return p=p.toLowerCase(),f+(w?yA(p):p)});function yA(f){return Ib(dn(f).toLowerCase())}function xA(f){return f=dn(f),f&&f.replace(ft,X6).replace(M6,"")}function oj(f,p,w){f=dn(f),p=Gi(p);var R=f.length;w=w===t?R:ou(Gt(w),0,R);var B=w;return w-=p.length,w>=0&&f.slice(w,B)==p}function aj(f){return f=dn(f),f&&an.test(f)?f.replace(xt,Y6):f}function sj(f){return f=dn(f),f&&$o.test(f)?f.replace(po,"\\$&"):f}var lj=Pc(function(f,p,w){return f+(w?"-":"")+p.toLowerCase()}),uj=Pc(function(f,p,w){return f+(w?" ":"")+p.toLowerCase()}),cj=w2("toLowerCase");function fj(f,p,w){f=dn(f),p=Gt(p);var R=p?wc(f):0;if(!p||R>=p)return f;var B=(p-R)/2;return Sg(cg(B),w)+f+Sg(ug(B),w)}function dj(f,p,w){f=dn(f),p=Gt(p);var R=p?wc(f):0;return p&&R<p?f+Sg(p-R,w):f}function hj(f,p,w){f=dn(f),p=Gt(p);var R=p?wc(f):0;return p&&R<p?Sg(p-R,w)+f:f}function pj(f,p,w){return w||p==null?p=0:p&&(p=+p),b8(dn(f).replace(ie,""),p||0)}function mj(f,p,w){return(w?ii(f,p,w):p===t)?p=1:p=Gt(p),ab(dn(f),p)}function gj(){var f=arguments,p=dn(f[0]);return f.length<3?p:p.replace(f[1],f[2])}var vj=Pc(function(f,p,w){return f+(w?"_":"")+p.toLowerCase()});function yj(f,p,w){return w&&typeof w!="number"&&ii(f,p,w)&&(p=w=t),w=w===t?j:w>>>0,w?(f=dn(f),f&&(typeof p=="string"||p!=null&&!Pb(p))&&(p=Gi(p),!p&&bc(f))?Xs(jo(f),0,w):f.split(p,w)):[]}var xj=Pc(function(f,p,w){return f+(w?" ":"")+Ib(p)});function _j(f,p,w){return f=dn(f),w=w==null?0:ou(Gt(w),0,f.length),p=Gi(p),f.slice(w,w+p.length)==p}function bj(f,p,w){var R=Y.templateSettings;w&&ii(f,p,w)&&(p=t),f=dn(f),p=Dg({},p,R,P2);var B=Dg({},p.imports,R.imports,P2),Q=Tr(B),se=G_(B,Q),fe,Ee,et=0,tt=p.interpolate||Qe,ot="__p += '",mt=$_((p.escape||Qe).source+"|"+tt.source+"|"+(tt===Ui?X:Qe).source+"|"+(p.evaluate||Qe).source+"|$","g"),Ot="//# sourceURL="+(gn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++A6+"]")+`
`;f.replace(mt,function(Lt,jt,tn,$i,oi,ji){return tn||(tn=$i),ot+=f.slice(et,ji).replace(Je,q6),jt&&(fe=!0,ot+=`' +
__e(`+jt+`) +
'`),oi&&(Ee=!0,ot+=`';
`+oi+`;
__p += '`),tn&&(ot+=`' +
((__t = (`+tn+`)) == null ? '' : __t) +
'`),et=ji+Lt.length,Lt}),ot+=`';
`;var Nt=gn.call(p,"variable")&&p.variable;if(!Nt)ot=`with (obj) {
`+ot+`
}
`;else if(vt.test(Nt))throw new Bt(s);ot=(Ee?ot.replace(Ve,""):ot).replace(Ze,"$1").replace(Fe,"$1;"),ot="function("+(Nt||"obj")+`) {
`+(Nt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fe?", __e = _.escape":"")+(Ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ot+`return __p
}`;var Wt=bA(function(){return un(Q,Ot+"return "+ot).apply(t,se)});if(Wt.source=ot,Ob(Wt))throw Wt;return Wt}function wj(f){return dn(f).toLowerCase()}function Sj(f){return dn(f).toUpperCase()}function Cj(f,p,w){if(f=dn(f),f&&(w||p===t))return AP(f);if(!f||!(p=Gi(p)))return f;var R=jo(f),B=jo(p),Q=RP(R,B),se=IP(R,B)+1;return Xs(R,Q,se).join("")}function Mj(f,p,w){if(f=dn(f),f&&(w||p===t))return f.slice(0,LP(f)+1);if(!f||!(p=Gi(p)))return f;var R=jo(f),B=IP(R,jo(p))+1;return Xs(R,0,B).join("")}function Ej(f,p,w){if(f=dn(f),f&&(w||p===t))return f.replace(ie,"");if(!f||!(p=Gi(p)))return f;var R=jo(f),B=RP(R,jo(p));return Xs(R,B).join("")}function Tj(f,p){var w=I,R=O;if(Kn(p)){var B="separator"in p?p.separator:B;w="length"in p?Gt(p.length):w,R="omission"in p?Gi(p.omission):R}f=dn(f);var Q=f.length;if(bc(f)){var se=jo(f);Q=se.length}if(w>=Q)return f;var fe=w-wc(R);if(fe<1)return R;var Ee=se?Xs(se,0,fe).join(""):f.slice(0,fe);if(B===t)return Ee+R;if(se&&(fe+=Ee.length-fe),Pb(B)){if(f.slice(fe).search(B)){var et,tt=Ee;for(B.global||(B=$_(B.source,dn(te.exec(B))+"g")),B.lastIndex=0;et=B.exec(tt);)var ot=et.index;Ee=Ee.slice(0,ot===t?fe:ot)}}else if(f.indexOf(Gi(B),fe)!=fe){var mt=Ee.lastIndexOf(B);mt>-1&&(Ee=Ee.slice(0,mt))}return Ee+R}function Oj(f){return f=dn(f),f&&zt.test(f)?f.replace(Ct,r8):f}var Pj=Pc(function(f,p,w){return f+(w?" ":"")+p.toUpperCase()}),Ib=w2("toUpperCase");function _A(f,p,w){return f=dn(f),p=w?t:p,p===t?J6(f)?a8(f):G6(f):f.match(p)||[]}var bA=$t(function(f,p){try{return Hi(f,t,p)}catch(w){return Ob(w)?w:new Bt(w)}}),Aj=Ja(function(f,p){return vo(p,function(w){w=ba(w),qa(f,w,Eb(f[w],f))}),f});function Rj(f){var p=f==null?0:f.length,w=It();return f=p?Bn(f,function(R){if(typeof R[1]!="function")throw new yo(a);return[w(R[0]),R[1]]}):[],$t(function(R){for(var B=-1;++B<p;){var Q=f[B];if(Hi(Q[0],this,R))return Hi(Q[1],this,R)}})}function Ij(f){return rV(_o(f,d))}function Nb(f){return function(){return f}}function Nj(f,p){return f==null||f!==f?p:f}var Lj=C2(),Dj=C2(!0);function Ei(f){return f}function Lb(f){return e2(typeof f=="function"?f:_o(f,d))}function kj(f){return n2(_o(f,d))}function Fj(f,p){return r2(f,_o(p,d))}var zj=$t(function(f,p){return function(w){return hh(w,f,p)}}),Bj=$t(function(f,p){return function(w){return hh(f,w,p)}});function Db(f,p,w){var R=Tr(p),B=gg(p,R);w==null&&!(Kn(p)&&(B.length||!R.length))&&(w=p,p=f,f=this,B=gg(p,Tr(p)));var Q=!(Kn(w)&&"chain"in w)||!!w.chain,se=es(f);return vo(B,function(fe){var Ee=p[fe];f[fe]=Ee,se&&(f.prototype[fe]=function(){var et=this.__chain__;if(Q||et){var tt=f(this.__wrapped__),ot=tt.__actions__=Si(this.__actions__);return ot.push({func:Ee,args:arguments,thisArg:f}),tt.__chain__=et,tt}return Ee.apply(f,Vs([this.value()],arguments))})}),f}function Uj(){return zr._===this&&(zr._=d8),this}function kb(){}function Hj(f){return f=Gt(f),$t(function(p){return i2(p,f)})}var Vj=hb(Bn),Gj=hb(MP),Wj=hb(z_);function wA(f){return _b(f)?B_(ba(f)):_V(f)}function $j(f){return function(p){return f==null?t:au(f,p)}}var jj=E2(),Kj=E2(!0);function Fb(){return[]}function zb(){return!1}function Xj(){return{}}function Yj(){return""}function qj(){return!0}function Zj(f,p){if(f=Gt(f),f<1||f>N)return[];var w=j,R=jr(f,j);p=It(p),f-=j;for(var B=V_(R,p);++w<f;)p(w);return B}function Jj(f){return Ht(f)?Bn(f,ba):Wi(f)?[f]:Si(V2(dn(f)))}function Qj(f){var p=++c8;return dn(f)+p}var e7=wg(function(f,p){return f+p},0),t7=pb("ceil"),n7=wg(function(f,p){return f/p},1),r7=pb("floor");function i7(f){return f&&f.length?mg(f,Ei,Q_):t}function o7(f,p){return f&&f.length?mg(f,It(p,2),Q_):t}function a7(f){return OP(f,Ei)}function s7(f,p){return OP(f,It(p,2))}function l7(f){return f&&f.length?mg(f,Ei,rb):t}function u7(f,p){return f&&f.length?mg(f,It(p,2),rb):t}var c7=wg(function(f,p){return f*p},1),f7=pb("round"),d7=wg(function(f,p){return f-p},0);function h7(f){return f&&f.length?H_(f,Ei):0}function p7(f,p){return f&&f.length?H_(f,It(p,2)):0}return Y.after=kW,Y.ary=Q2,Y.assign=S$,Y.assignIn=hA,Y.assignInWith=Dg,Y.assignWith=C$,Y.at=M$,Y.before=eA,Y.bind=Eb,Y.bindAll=Aj,Y.bindKey=tA,Y.castArray=XW,Y.chain=q2,Y.chunk=rG,Y.compact=iG,Y.concat=oG,Y.cond=Rj,Y.conforms=Ij,Y.constant=Nb,Y.countBy=hW,Y.create=E$,Y.curry=nA,Y.curryRight=rA,Y.debounce=iA,Y.defaults=T$,Y.defaultsDeep=O$,Y.defer=FW,Y.delay=zW,Y.difference=aG,Y.differenceBy=sG,Y.differenceWith=lG,Y.drop=uG,Y.dropRight=cG,Y.dropRightWhile=fG,Y.dropWhile=dG,Y.fill=hG,Y.filter=mW,Y.flatMap=yW,Y.flatMapDeep=xW,Y.flatMapDepth=_W,Y.flatten=j2,Y.flattenDeep=pG,Y.flattenDepth=mG,Y.flip=BW,Y.flow=Lj,Y.flowRight=Dj,Y.fromPairs=gG,Y.functions=D$,Y.functionsIn=k$,Y.groupBy=bW,Y.initial=yG,Y.intersection=xG,Y.intersectionBy=_G,Y.intersectionWith=bG,Y.invert=z$,Y.invertBy=B$,Y.invokeMap=SW,Y.iteratee=Lb,Y.keyBy=CW,Y.keys=Tr,Y.keysIn=Mi,Y.map=Pg,Y.mapKeys=H$,Y.mapValues=V$,Y.matches=kj,Y.matchesProperty=Fj,Y.memoize=Rg,Y.merge=G$,Y.mergeWith=pA,Y.method=zj,Y.methodOf=Bj,Y.mixin=Db,Y.negate=Ig,Y.nthArg=Hj,Y.omit=W$,Y.omitBy=$$,Y.once=UW,Y.orderBy=MW,Y.over=Vj,Y.overArgs=HW,Y.overEvery=Gj,Y.overSome=Wj,Y.partial=Tb,Y.partialRight=oA,Y.partition=EW,Y.pick=j$,Y.pickBy=mA,Y.property=wA,Y.propertyOf=$j,Y.pull=MG,Y.pullAll=X2,Y.pullAllBy=EG,Y.pullAllWith=TG,Y.pullAt=OG,Y.range=jj,Y.rangeRight=Kj,Y.rearg=VW,Y.reject=PW,Y.remove=PG,Y.rest=GW,Y.reverse=Cb,Y.sampleSize=RW,Y.set=X$,Y.setWith=Y$,Y.shuffle=IW,Y.slice=AG,Y.sortBy=DW,Y.sortedUniq=FG,Y.sortedUniqBy=zG,Y.split=yj,Y.spread=WW,Y.tail=BG,Y.take=UG,Y.takeRight=HG,Y.takeRightWhile=VG,Y.takeWhile=GG,Y.tap=iW,Y.throttle=$W,Y.thru=Og,Y.toArray=cA,Y.toPairs=gA,Y.toPairsIn=vA,Y.toPath=Jj,Y.toPlainObject=dA,Y.transform=q$,Y.unary=jW,Y.union=WG,Y.unionBy=$G,Y.unionWith=jG,Y.uniq=KG,Y.uniqBy=XG,Y.uniqWith=YG,Y.unset=Z$,Y.unzip=Mb,Y.unzipWith=Y2,Y.update=J$,Y.updateWith=Q$,Y.values=Ic,Y.valuesIn=ej,Y.without=qG,Y.words=_A,Y.wrap=KW,Y.xor=ZG,Y.xorBy=JG,Y.xorWith=QG,Y.zip=eW,Y.zipObject=tW,Y.zipObjectDeep=nW,Y.zipWith=rW,Y.entries=gA,Y.entriesIn=vA,Y.extend=hA,Y.extendWith=Dg,Db(Y,Y),Y.add=e7,Y.attempt=bA,Y.camelCase=ij,Y.capitalize=yA,Y.ceil=t7,Y.clamp=tj,Y.clone=YW,Y.cloneDeep=ZW,Y.cloneDeepWith=JW,Y.cloneWith=qW,Y.conformsTo=QW,Y.deburr=xA,Y.defaultTo=Nj,Y.divide=n7,Y.endsWith=oj,Y.eq=Xo,Y.escape=aj,Y.escapeRegExp=sj,Y.every=pW,Y.find=gW,Y.findIndex=W2,Y.findKey=P$,Y.findLast=vW,Y.findLastIndex=$2,Y.findLastKey=A$,Y.floor=r7,Y.forEach=Z2,Y.forEachRight=J2,Y.forIn=R$,Y.forInRight=I$,Y.forOwn=N$,Y.forOwnRight=L$,Y.get=Ab,Y.gt=e$,Y.gte=t$,Y.has=F$,Y.hasIn=Rb,Y.head=K2,Y.identity=Ei,Y.includes=wW,Y.indexOf=vG,Y.inRange=nj,Y.invoke=U$,Y.isArguments=uu,Y.isArray=Ht,Y.isArrayBuffer=n$,Y.isArrayLike=Ci,Y.isArrayLikeObject=ir,Y.isBoolean=r$,Y.isBuffer=Ys,Y.isDate=i$,Y.isElement=o$,Y.isEmpty=a$,Y.isEqual=s$,Y.isEqualWith=l$,Y.isError=Ob,Y.isFinite=u$,Y.isFunction=es,Y.isInteger=aA,Y.isLength=Ng,Y.isMap=sA,Y.isMatch=c$,Y.isMatchWith=f$,Y.isNaN=d$,Y.isNative=h$,Y.isNil=m$,Y.isNull=p$,Y.isNumber=lA,Y.isObject=Kn,Y.isObjectLike=tr,Y.isPlainObject=xh,Y.isRegExp=Pb,Y.isSafeInteger=g$,Y.isSet=uA,Y.isString=Lg,Y.isSymbol=Wi,Y.isTypedArray=Rc,Y.isUndefined=v$,Y.isWeakMap=y$,Y.isWeakSet=x$,Y.join=wG,Y.kebabCase=lj,Y.last=wo,Y.lastIndexOf=SG,Y.lowerCase=uj,Y.lowerFirst=cj,Y.lt=_$,Y.lte=b$,Y.max=i7,Y.maxBy=o7,Y.mean=a7,Y.meanBy=s7,Y.min=l7,Y.minBy=u7,Y.stubArray=Fb,Y.stubFalse=zb,Y.stubObject=Xj,Y.stubString=Yj,Y.stubTrue=qj,Y.multiply=c7,Y.nth=CG,Y.noConflict=Uj,Y.noop=kb,Y.now=Ag,Y.pad=fj,Y.padEnd=dj,Y.padStart=hj,Y.parseInt=pj,Y.random=rj,Y.reduce=TW,Y.reduceRight=OW,Y.repeat=mj,Y.replace=gj,Y.result=K$,Y.round=f7,Y.runInContext=Se,Y.sample=AW,Y.size=NW,Y.snakeCase=vj,Y.some=LW,Y.sortedIndex=RG,Y.sortedIndexBy=IG,Y.sortedIndexOf=NG,Y.sortedLastIndex=LG,Y.sortedLastIndexBy=DG,Y.sortedLastIndexOf=kG,Y.startCase=xj,Y.startsWith=_j,Y.subtract=d7,Y.sum=h7,Y.sumBy=p7,Y.template=bj,Y.times=Zj,Y.toFinite=ts,Y.toInteger=Gt,Y.toLength=fA,Y.toLower=wj,Y.toNumber=So,Y.toSafeInteger=w$,Y.toString=dn,Y.toUpper=Sj,Y.trim=Cj,Y.trimEnd=Mj,Y.trimStart=Ej,Y.truncate=Tj,Y.unescape=Oj,Y.uniqueId=Qj,Y.upperCase=Pj,Y.upperFirst=Ib,Y.each=Z2,Y.eachRight=J2,Y.first=K2,Db(Y,function(){var f={};return xa(Y,function(p,w){gn.call(Y.prototype,w)||(f[w]=p)}),f}(),{chain:!1}),Y.VERSION=r,vo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){Y[f].placeholder=Y}),vo(["drop","take"],function(f,p){Zt.prototype[f]=function(w){w=w===t?1:xr(Gt(w),0);var R=this.__filtered__&&!p?new Zt(this):this.clone();return R.__filtered__?R.__takeCount__=jr(w,R.__takeCount__):R.__views__.push({size:jr(w,j),type:f+(R.__dir__<0?"Right":"")}),R},Zt.prototype[f+"Right"]=function(w){return this.reverse()[f](w).reverse()}}),vo(["filter","map","takeWhile"],function(f,p){var w=p+1,R=w==k||w==$;Zt.prototype[f]=function(B){var Q=this.clone();return Q.__iteratees__.push({iteratee:It(B,3),type:w}),Q.__filtered__=Q.__filtered__||R,Q}}),vo(["head","last"],function(f,p){var w="take"+(p?"Right":"");Zt.prototype[f]=function(){return this[w](1).value()[0]}}),vo(["initial","tail"],function(f,p){var w="drop"+(p?"":"Right");Zt.prototype[f]=function(){return this.__filtered__?new Zt(this):this[w](1)}}),Zt.prototype.compact=function(){return this.filter(Ei)},Zt.prototype.find=function(f){return this.filter(f).head()},Zt.prototype.findLast=function(f){return this.reverse().find(f)},Zt.prototype.invokeMap=$t(function(f,p){return typeof f=="function"?new Zt(this):this.map(function(w){return hh(w,f,p)})}),Zt.prototype.reject=function(f){return this.filter(Ig(It(f)))},Zt.prototype.slice=function(f,p){f=Gt(f);var w=this;return w.__filtered__&&(f>0||p<0)?new Zt(w):(f<0?w=w.takeRight(-f):f&&(w=w.drop(f)),p!==t&&(p=Gt(p),w=p<0?w.dropRight(-p):w.take(p-f)),w)},Zt.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Zt.prototype.toArray=function(){return this.take(j)},xa(Zt.prototype,function(f,p){var w=/^(?:filter|find|map|reject)|While$/.test(p),R=/^(?:head|last)$/.test(p),B=Y[R?"take"+(p=="last"?"Right":""):p],Q=R||/^find/.test(p);!B||(Y.prototype[p]=function(){var se=this.__wrapped__,fe=R?[1]:arguments,Ee=se instanceof Zt,et=fe[0],tt=Ee||Ht(se),ot=function(jt){var tn=B.apply(Y,Vs([jt],fe));return R&&mt?tn[0]:tn};tt&&w&&typeof et=="function"&&et.length!=1&&(Ee=tt=!1);var mt=this.__chain__,Ot=!!this.__actions__.length,Nt=Q&&!mt,Wt=Ee&&!Ot;if(!Q&&tt){se=Wt?se:new Zt(this);var Lt=f.apply(se,fe);return Lt.__actions__.push({func:Og,args:[ot],thisArg:t}),new xo(Lt,mt)}return Nt&&Wt?f.apply(this,fe):(Lt=this.thru(ot),Nt?R?Lt.value()[0]:Lt.value():Lt)})}),vo(["pop","push","shift","sort","splice","unshift"],function(f){var p=eg[f],w=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",R=/^(?:pop|shift)$/.test(f);Y.prototype[f]=function(){var B=arguments;if(R&&!this.__chain__){var Q=this.value();return p.apply(Ht(Q)?Q:[],B)}return this[w](function(se){return p.apply(Ht(se)?se:[],B)})}}),xa(Zt.prototype,function(f,p){var w=Y[p];if(w){var R=w.name+"";gn.call(Ec,R)||(Ec[R]=[]),Ec[R].push({name:p,func:w})}}),Ec[bg(t,x).name]=[{name:"wrapper",func:t}],Zt.prototype.clone=O8,Zt.prototype.reverse=P8,Zt.prototype.value=A8,Y.prototype.at=oW,Y.prototype.chain=aW,Y.prototype.commit=sW,Y.prototype.next=lW,Y.prototype.plant=cW,Y.prototype.reverse=fW,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=dW,Y.prototype.first=Y.prototype.head,ah&&(Y.prototype[ah]=uW),Y},Sc=s8();tu?((tu.exports=Sc)._=Sc,L_._=Sc):zr._=Sc}).call(fa)})(sC,sC.exports);function Aie(n){var e=n.nodeList,t=n.pattern,r=n.highlightClassName;if(!t)return e;var i=function(o){return o&&o.props&&typeof o.props.children=="string"?A.exports.cloneElement(o,void 0,M(Rie,{text:o.props.children,keyword:t,highlightClassName:r})):o};return gr(e)?e.map(function(o){return i(o)}):i(e)}function Rie(n){var e=n.text,t=n.keyword,r=n.highlightClassName;if(!t)return M(Ut,{children:e});var i=new RegExp("("+sC.exports.escapeRegExp(t)+")","i"),o=e.split(i);return M(Ut,{children:o.map(function(a,s){return i.test(a)?M("span",{className:r,children:a},s):M("span",{children:a},s)})})}var r0=globalThis&&globalThis.__assign||function(){return r0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},r0.apply(this,arguments)};function Iie(n){n&&n.preventDefault()}function lC(n,e){return e?!gr(n)||!n.length:n===void 0}function bL(n,e,t){return t&&(e?n=Array.isArray(n)?n.map(function(r){return Dt(r)&&"label"in r?r.value:r}):n:n=Dt(n)&&"label"in n?n.value:n),lC(n,e)?e?Array.isArray(n)?n:[]:void 0:n}function $B(n){return LT(n,"props.isSelectOption")}function jB(n){return LT(n,"props.isSelectOptGroup")}function KB(n,e,t){var r=n.children,i=n.options,o=n.filterOption,a=e.inputValue,s=a===void 0?"":a,l=e.userCreatedOptions,u=e.userCreatingOption,c=e.prefixCls,d=t===void 0?{}:t,h=d.optionInfoMap,m=h===void 0?new Map:h,g=d.optionValueList,v=g===void 0?[]:g,y=d.customNodeCount,x=y===void 0?0:y,_=!1,b=!1,S=[],C=[],E=function(I){var O=LT(I,"props.value");return O===void 0?I.props.children.toString():O},T=function(I,O,F){var U=I.label,k=I.value;return!U&&!k&&!O?(x++,"custom_node_"+x):F?O||"group_"+U:O||typeof k+"_"+k||U+"_"+m.size},P=function(I,O){var F=E(I),U=!0;if(o===!0?U=F!==void 0&&String(F).toLowerCase().indexOf(s.toLowerCase())!==-1:typeof o=="function"&&(U=!s||o(s,I)),!m.get(F)){"_key"in I.props||(I=Ce.cloneElement(I,{_key:T(I.props,I.key)}));var k=m.size,H=r0(r0({child:I},I.props),{value:F,_index:k,_origin:O,_valid:U});m.set(F,H),v.push(F),U&&(S.push(I),H.disabled||C.push(k))}typeof I.props.children!="string"&&(b=!0)},L=function(I,O){O&&gr(I)&&I.length&&I.forEach(function(F){F=Fm(F)||rn(F)?{label:F,value:F}:F;var U=Ce.createElement(RB,{_key:T(F),value:F.value,disabled:F.disabled===!0,extra:F.extra},F.label);P(U,O)})};return u&&L([u],"userCreatingOption"),r&&Ce.Children.map(r,function(I){if(jB(I)){var O=I.props,F=O.children,U=O.options,k=KB({children:F,options:U,filterOption:o},{inputValue:s,prefixCls:c},{optionInfoMap:m,optionValueList:v,customNodeCount:x}),H=k.childrenList,$=k.optionIndexListForArrowKey,V=k.hasComplexLabelInOptions;H.length&&(S.push(Ce.cloneElement(I,{children:null,_key:T(I.props,I.key,!0)})),S=S.concat(H),C=C.concat($),_=!0,b=b||V)}else $B(I)?P(I,"children"):Dt(I)&&I.props&&S.push(Ce.cloneElement(I,{_key:T(I.props,I.key)}))}),L(i,"options"),L(l,"userCreatedOptions"),{childrenList:Aie({nodeList:S,pattern:s,highlightClassName:c+"-highlight"}),optionInfoMap:m,optionValueList:v,optionIndexListForArrowKey:C,hasOptGroup:_,hasComplexLabelInOptions:b}}var Ou=globalThis&&globalThis.__assign||function(){return Ou=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ou.apply(this,arguments)},cu=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Nie=globalThis&&globalThis.__values||function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lie=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Die=100,wL=0,kie={trigger:"click",bordered:!0,filterOption:!0,unmountOnExit:!0,defaultActiveFirstOption:!0};function Fie(n,e){var t=A.exports.useContext(wt),r=t.getPrefixCls,i=t.renderEmpty,o=t.componentConfig,a=cn(n,kie,o==null?void 0:o.Select),s=a.children,l=a.renderFormat,u=a.defaultActiveFirstOption,c=a.disabled,d=a.unmountOnExit,h=a.notFoundContent,m=a.showSearch,g=a.tokenSeparators,v=a.options,y=a.filterOption,x=a.labelInValue,_=a.getPopupContainer,b=a.trigger,S=a.triggerElement,C=a.triggerProps,E=a.dropdownRender,T=a.dropdownMenuStyle,P=a.dropdownMenuClassName,L=a.virtualListProps,I=a.onChange,O=a.onDeselect,F=a.onClear,U=a.onSearch,k=a.onFocus,H=a.onBlur,$=a.onPopupScroll,V=a.onVisibleChange,N=a.onInputValueChange,W=a.onPaste,ee=a.mode,j=a.allowCreate;ee==="tags"&&(ee="multiple",j=!0);var G=r("select"),ne=ee==="multiple",ye=cu(A.exports.useState(bL(a.defaultValue,ne,x)),2),xe=ye[0],oe=ye[1],de="value"in a?bL(a.value,ne,x):xe,be=cu($n("",{value:"inputValue"in a?a.inputValue||"":void 0}),3),ke=be[0],he=be[1],Le=be[2],le=cu($n(!1,{defaultValue:a.defaultPopupVisible,value:"popupVisible"in a?a.popupVisible:C&&"popupVisible"in C?C.popupVisible:void 0}),2),ce=le[0],we=le[1],De=cu(A.exports.useState(null),2),pe=De[0],Oe=De[1],Te=cu(A.exports.useState([]),2),je=Te[0],it=Te[1],nt=cu(A.exports.useState(gr(de)?de[0]:de),2),q=nt[0],z=nt[1],re=A.exports.useMemo(function(){return KB({children:s,options:v,filterOption:y},{prefixCls:G,inputValue:ke,userCreatedOptions:je,userCreatingOption:pe})},[s,v,y,ke,pe,je]),_e=re.childrenList,ue=re.optionInfoMap,Me=re.optionValueList,Ue=re.optionIndexListForArrowKey,K=re.hasOptGroup,Ne=re.hasComplexLabelInOptions,at=A.exports.useRef(null),Ke=A.exports.useRef(null),Z=A.exports.useRef(null),ve=A.exports.useRef([]),Ae=A.exports.useRef(null),qe=A.exports.useRef(ke),ze=A.exports.useRef(null),Ve=A.exports.useRef(0),Ze=A.exports.useMemo(function(){var ae=G+"-popup-"+wL;return wL++,ae},[]),Fe=lC(de,ne),Ct=u?Me[Ue[0]]:void 0,xt=function(ae){var me,ct=ue.get(ae);at.current&&((me=ct==null?void 0:ct.child)===null||me===void 0?void 0:me.props)&&at.current.scrollTo({key:ct.child.props._key})},zt=function(ae,me){ae!==qe.current&&(he(ae),qe.current=ae,ze.current=me,N&&N(ae,me))},an=function(ae){ce!==ae&&(we(ae),V&&V(ae),C&&C.onVisibleChange&&C.onVisibleChange(ae))};A.exports.useEffect(function(){ne?Array.isArray(de)||oe(de===void 0?[]:[de]):Array.isArray(de)&&oe(de.length===0?void 0:de[0])},[ne,de]),A.exports.useEffect(function(){if(ce){var ae=gr(de)?de[0]:de,me=!Fe&&ue.has(ae)?ae:Ct;z(me),setTimeout(function(){return xt(me)})}else zt("","optionListHide")},[ce]),A.exports.useEffect(function(){(Ae.current==="up"||Ae.current==="down")&&(xt(q),Ae.current="none")},[q]),A.exports.useEffect(function(){z(Ct)},[JSON.stringify(_e.map(function(ae){var me;return(me=ae==null?void 0:ae.props)===null||me===void 0?void 0:me.value}))]),A.exports.useEffect(function(){ve.current=ve.current.filter(function(ae){return ne?gr(de)&&de.indexOf(ae.value)>-1:ae.value===de})},[de,ne]),A.exports.useEffect(function(){if(j&&Array.isArray(de)){var ae=de.filter(function(vt){var D=ue.get(vt);return!D||D._origin==="userCreatingOption"}),me=je.filter(function(vt){return de.indexOf(vt)!==-1}),ct=me.concat(ae);ct.toString()!==je.toString()&&it(ct)}},[de]),A.exports.useEffect(function(){j&&Oe(ue.has(ke)?null:ke)},[ke]),A.exports.useEffect(function(){var ae=ze.current;Le===ke&&(ae==="manual"||ae==="optionListHide")&&U&&U(ke,ae)},[ke]);var Er=function(ae){var me=ue.get(ae);if(me){var ct=ve.current.findIndex(function(D){return D.value===ae});return ct>-1?ve.current.splice(ct,1,{value:ae,option:me}):ve.current.push({value:ae,option:me}),me}var vt=ve.current.find(function(D){return D.value===ae});return vt&&vt.option},bi=function(ae){if(!!Ue.length){if(q===void 0||!ue.has(q))return Me[Ue[0]];var me=ue.get(q),ct=me._index,vt=Ue.indexOf(ct),D=Ue.length;return Me[Ue[((ae==="up"?vt-1:vt+1)+D)%D]]}},Ui=function(ae,me){me===void 0&&(me=lC(ae,ne));var ct=ae,vt=ae===void 0?void 0:Array.isArray(ae)?ae.map(Er):Er(ae);if(x&&!me){var D=function(X,te){var ge,Re;if(te)return te.children;var Pe="value"in a?a.value:"defaultValue"in a?a.defaultValue:null;if(Array.isArray(Pe))try{for(var rt=Nie(Pe),st=rt.next();!st.done;st=rt.next()){var ft=st.value;if(Dt(ft)&&ft.value===X)return ft.label}}catch(Qe){ge={error:Qe}}finally{try{st&&!st.done&&(Re=rt.return)&&Re.call(rt)}finally{if(ge)throw ge.error}}else if(Dt(Pe)&&Pe.value===X)return Pe.label};Array.isArray(ae)?ct=ae.map(function(X,te){return{value:X,label:D(X,vt[te])}}):ct={value:ae,label:D(ae,vt)}}return{option:vt,value:ct}},Fr=function(ae){if(oe(ae),I){var me=Ui(ae);I(me.value,me.option)}},va=function(ae){var me=ue.get(ae);if(me){var ct=de.concat(ae);Fr(ct)}},ya=function(ae){var me=de.filter(function(vt){return vt!==ae});if(Fr(me),O){var ct=Ui(ae,!1);O(ct.value,ct.option)}},po=function(ae,me){me||(ne?(de.indexOf(ae)===-1?va(ae):ya(ae),(!Dt(m)||!m.retainInputValueWhileSelect)&&zt("","optionChecked")):(ae!==de&&Fr(ae),setTimeout(function(){an(!1)})))},$o=IB(new Map([[Qp.code,function(){return an(!1)}],[fd.code,function(){if(ce){var ae=ue.get(q);ae&&po(q,ae.disabled)}else an(!0)}],[nL.code,function(){return an(!1)}],[mp.code,function(){if(ce)return Ae.current="up",z(bi("up")),!1}],[gp.code,function(){if(ce)return Ae.current="down",z(bi("down")),!1}]])),ie=function(){var ae,me=(C==null?void 0:C.autoAlignPopupWidth)===!1,ct=me&&Ne,vt="notFoundContent"in a?h:i("Select"),D=_e.length?M(t_,lt(Be({},Ou({id:Ze,role:"listbox",style:T,className:Ye(G+"-popup-inner",P),ref:at,data:_e,height:null,isStaticItemHeight:!K,measureLongestItem:me,itemKey:function(te){return te.props._key},onMouseDown:Iie,onMouseMove:function(){Ae.current=null},onScroll:function(te){return $&&$(te.target)}},L,{threshold:ct?null:L==null?void 0:L.threshold})),{children:function(te){if(jB(te))return Ce.createElement(te.type,Ou({},te.props,{prefixCls:G}));if($B(te)){var ge={prefixCls:G,_valueActive:q,_valueSelect:de,_isMultipleMode:ne,_onClick:po,_onMouseEnter:function(Re){Ae.current===null&&z(Re)},_onMouseLeave:function(){Ae.current===null&&z(void 0)}};return te&&Ce.createElement(te.type,Ou({},te.props,ge))}return te}})):null,X=vt?M("div",{style:T,className:Ye(G+"-popup-inner",P),children:vt}):null;return M("div",{className:Ye(G+"-popup",(ae={},ae[G+"-popup-hidden"]=D===null&&X===null,ae[G+"-popup-multiple"]=ne,ae)),children:typeof E=="function"?E(D||X):D||X})},Ie=function(ae){var me=!1;if(ne&&gr(g)&&g.length){var ct=ae.split(new RegExp("["+g.join("")+"]"));if(ct.length>1){var vt=ct.filter(function(te,ge){return te&&ct.indexOf(te)===ge}),D=de.slice(0),X=!1;vt.forEach(function(te){D.indexOf(te)===-1&&(j||ue.get(te))&&(D.push(te),X=!0)}),X&&Fr(D),me=!0}}return me},Ge={onFocus:k,onBlur:function(ae){H&&H(ae),!ce&&zt("","optionListHide")},onKeyDown:function(ae){if(ae.target.tagName==="INPUT"&&ae.target.value){var me=ae.key===nL.key,ct=ae.key===fd.key;if(ct||me){var vt=ct?`
`:me?"	":"";Ie(ae.target.value+vt)&&(Ve.current=Date.now(),zt("","tokenSeparator"))}}$o(ae)},onChangeInputValue:function(ae,me){var ct=me.nativeEvent.inputType;ct==="insertFromPaste"&&Date.now()-Ve.current<Die||Ie(ae)?zt("","tokenSeparator"):zt(ae,"manual"),!ce&&ae&&an(!0)},onPaste:function(ae){Ie(ae.clipboardData.getData("text"))&&(Ve.current=Date.now()),W&&W(ae)},onRemoveCheckedItem:function(ae,me,ct){ct.stopPropagation(),ya(de[me])},onClear:function(ae){if(ae.stopPropagation(),ne){var me=de.filter(function(ct){var vt=ue.get(ct);return vt&&vt.disabled});Fr(me)}else Fr(void 0);zt("","manual"),F&&F(ce)}};return A.exports.useImperativeHandle(e,function(){var ae;return{dom:(ae=Z.current)===null||ae===void 0?void 0:ae.dom,focus:function(){Z.current&&Z.current.focus()},blur:function(){Z.current&&Z.current.blur()},hotkeyHandler:$o,activeOptionValue:q,getOptionInfoByValue:Er,getOptionInfoList:function(){return Lie([],cu(ue.values()),!1).filter(function(me){return me._valid})}}},[$o,ue,q]),M(zl,{onResize:function(){return Ke.current.updatePopupPosition()},children:M(Qx,lt(Be({},Ou({ref:function(ae){return Ke.current=ae},popup:ie,trigger:b,disabled:c,getPopupContainer:_,classNames:"slideDynamicOrigin",autoAlignPopupWidth:!0,popupAlign:{bottom:4},popupVisible:ce,unmountOnExit:d,onVisibleChange:an},zn(C,["popupVisible","onVisibleChange"]))),{children:typeof S=="function"?function(){return S(Ui(de))}():S||M(bte,Be({},Ou({},a,Ge,{ref:Z,value:de,inputValue:ke,popupVisible:ce,prefixCls:G,ariaControls:Ze,isEmptyValue:Fe,isMultiple:ne,onSort:Fr,renderText:function(ae){var me=Er(ae),ct=ae;if(Xt(l)){var vt=Ui(ae,!1);ct=l(vt.option||null,vt.value)}else me?"children"in me&&(ct=me.children):x&&Dt(a.value)&&(ct=a.value.label);return{text:ct,disabled:me&&me.disabled}}})))}))})}var zie=Ce.forwardRef(Fie),a_=zie;a_.displayName="Select";a_.Option=RB;a_.OptGroup=qee;var hd=a_,Pu=globalThis&&globalThis.__assign||function(){return Pu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Pu.apply(this,arguments)},Bie=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Uie={position:"top",trigger:"hover",escToClose:!1,unmountOnExit:!0,blurToHide:!0,popupHoverStay:!0};function Hie(n,e){var t=A.exports.useContext(wt),r=t.getPrefixCls,i=t.componentConfig,o=cn(n,Uie,i==null?void 0:i.Tooltip),a=o.style,s=o.className,l=o.children,u=o.trigger,c=o.escToClose,d=o.defaultPopupVisible,h=o.position,m=o.unmountOnExit,g=o.popupVisible,v=o.prefixCls,y=o.blurToHide,x=o.popupHoverStay,_=o.disabled,b=o.onVisibleChange,S=o.triggerProps,C=o.childrenPrefix,E=o.getPopupContainer,T=o.content,P=o.mini,L=o.color,I=Bie(o,["style","className","children","trigger","escToClose","defaultPopupVisible","position","unmountOnExit","popupVisible","prefixCls","blurToHide","popupHoverStay","disabled","onVisibleChange","triggerProps","childrenPrefix","getPopupContainer","content","mini","color"]),O=A.exports.useRef(),F=function(V,N){V===void 0&&(V=0),O.current&&O.current.updatePopupPosition(V,N)};A.exports.useImperativeHandle(e,function(){return{updatePopupPosition:F}},[]);var U=v||r("tooltip"),k=Pu(Pu({},Xx(I,EB)),S),H=typeof T=="function"?T():T,$=function(V){return V==null||V===!1||typeof V=="string"&&V.trim()===""};return"popupVisible"in o?k.popupVisible=g:$(H)&&(k.popupVisible=!1),(k.showArrow!==!1||k.arrowProps)&&(k.arrowProps=k.arrowProps||{},L&&(k.arrowProps.style=Pu({backgroundColor:L},k.arrowProps.style))),M(Qx,lt(Be({},Pu({style:Pu({maxWidth:350},a),className:s,ref:O,classNames:"zoomInFadeOut",duration:{enter:300,exit:100},popup:function(){var V;return M("div",{style:{backgroundColor:L},className:Ye(U+"-content",U+"-content-"+h,(V={},V[U+"-mini"]=P,V)),role:"tooltip",children:M("div",{className:U+"-content-inner",children:H})})},position:h,disabled:_,trigger:u,escToClose:c,showArrow:!0,popupAlign:{left:12,right:12,top:12,bottom:12},mouseEnterDelay:200,mouseLeaveDelay:200,unmountOnExit:m,popupHoverStay:x,blurToHide:y,childrenPrefix:C||U,getPopupContainer:E,onVisibleChange:b,defaultPopupVisible:d},k)),{children:l}))}var XB=A.exports.forwardRef(Hie);XB.displayName="Tooltip";var Sr=XB,i0=globalThis&&globalThis.__assign||function(){return i0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},i0.apply(this,arguments)},Vie=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Gie={position:"top",trigger:"hover",unmountOnExit:!0};function Wie(n,e){var t=A.exports.useContext(wt),r=t.getPrefixCls,i=t.componentConfig,o=cn(n,Gie,i==null?void 0:i.Popover),a=o.style,s=o.className,l=o.children,u=o.position,c=o.getPopupContainer,d=o.trigger,h=o.defaultPopupVisible,m=o.popupVisible,g=o.triggerProps,v=o.unmountOnExit,y=o.onVisibleChange,x=o.content,_=o.title,b=Vie(o,["style","className","children","position","getPopupContainer","trigger","defaultPopupVisible","popupVisible","triggerProps","unmountOnExit","onVisibleChange","content","title"]),S=r("popover");return M(Sr,lt(Be({},i0({},b,{ref:e,style:i0({maxWidth:350},a),className:s,prefixCls:S,getPopupContainer:c,position:u,trigger:d,content:We("div",{className:S+"-inner",children:[_?M("div",{className:S+"-title",children:_}):null,M("div",{className:S+"-inner-content",children:x})]}),popupHoverStay:!0,unmountOnExit:v,triggerProps:g,defaultPopupVisible:h,onVisibleChange:y||(g?g.onVisibleChange:void 0),childrenPrefix:S},"popupVisible"in o?{popupVisible:m}:{})),{children:typeof l=="string"?M("span",{children:l}):l}))}var YB=A.exports.forwardRef(Wie);YB.displayName="Popover";var $ie=YB,uC=globalThis&&globalThis.__assign||function(){return uC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},uC.apply(this,arguments)},jie=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Kie={position:"br",trigger:"hover",type:"default",icon:M(eT,{}),unmountOnExit:!0};function Xie(n,e){var t,r=A.exports.useContext(wt).componentConfig,i=cn(n,Kie,r==null?void 0:r["Dropdown.Button"]),o=i.className,a=i.style,s=i.children,l=i.disabled,u=i.droplist,c=i.position,d=c===void 0?"br":c,h=i.trigger,m=h===void 0?"hover":h,g=i.type,v=g===void 0?"default":g,y=i.size,x=i.icon,_=x===void 0?M(eT,{}):x,b=i.unmountOnExit,S=b===void 0?!0:b,C=i.onClick,E=i.onVisibleChange,T=i.buttonProps,P=i.buttonsRender,L=M(Jt,lt(Be({},uC({disabled:l,type:v,size:y,onClick:C},T)),{children:s})),I=M(Jt,{disabled:l,type:v,size:y,icon:_});P&&(t=jie(P([L,I]),2),L=t[0],I=t[1]);var O=l||!I||I.props&&I.props.loading;return We(Jt.Group,{className:o,style:a,ref:e,children:[L,M(s_,{droplist:u,position:d,trigger:m,unmountOnExit:S,onVisibleChange:E,triggerProps:{disabled:O},children:I})]})}var qB=A.exports.forwardRef(Xie);qB.displayName="DropdownButton";var Yie=qB,cC=globalThis&&globalThis.__assign||function(){return cC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},cC.apply(this,arguments)},qie=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Zie=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Jie={position:"bl",trigger:"hover",unmountOnExit:!0};function Qie(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,Jie,o==null?void 0:o.Button),s=a.trigger,l=a.droplist,u=a.children,c=a.position,d=a.disabled,h=a.unmountOnExit,m=a.triggerProps,g=a.getPopupContainer,v=a.onVisibleChange,y=qie(a,["trigger","droplist","children","position","disabled","unmountOnExit","triggerProps","getPopupContainer","onVisibleChange"]),x=i("dropdown"),_=A.exports.useRef(null),b=Zie($n(!1,{defaultValue:a.defaultPopupVisible,value:a.popupVisible}),2),S=b[0],C=b[1],E=function(){return Ce.Children.only(l||M("span",{}))},T=function(I){C(I),v&&v(I),m&&m.onVisibleChange&&m.onVisibleChange(I)},P=function(I){I!==S&&T(I)},L=function(){var I=E();return I&&I.props.isMenu?Ce.cloneElement(I,{prefixCls:x+"-menu",inDropdown:!0,selectable:!1,onClickMenuItem:function(O,F){var U=null,k=E();k.props.onClickMenuItem&&(U=k.props.onClickMenuItem(O,F));var H=_.current&&_.current.getRootElement();H&&H.focus&&H.focus(),U instanceof Promise?U.finally(function(){return T(!1)}):U!==!1&&T(!1)}}):I};return M(Qx,lt(Be({},cC({ref:function(I){return _.current=I},classNames:"slideDynamicOrigin",childrenPrefix:x,trigger:s,popup:L,mouseEnterDelay:400,mouseLeaveDelay:400,disabled:d,unmountOnExit:h,position:c,popupVisible:S,popupAlign:{left:4,right:4,top:4,bottom:4},getPopupContainer:g,alignPoint:s==="contextMenu"},Xx(y,EB),zn(m,["onVisibleChange"]),{onVisibleChange:P})),{children:Ce.isValidElement(u)?Ce.cloneElement(u,{disabled:d,className:Ye((t={},t[x+"-popup-visible"]=S,t),u.props.className)}):u}))}var eoe=Ce.forwardRef(Qie),DT=eoe;DT.displayName="Dropdown";DT.Button=Yie;var s_=DT,toe=A.exports.createContext({}),za=toe,noe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},roe=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function l_(n){var e=n.prefixCls,t=n.levelIndent,r=A.exports.useContext(za).collapse,i=n.level-1;return!r&&i>0?M("span",{children:roe([],noe(new Array(i)),!1).map(function(o,a){return M("span",{className:e+"-indent",style:{width:t}},a)})}):null}var Ef=globalThis&&globalThis.__assign||function(){return Ef=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ef.apply(this,arguments)},ioe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Ow={type:null,update:!1,activeKeyPath:[]},ooe=function(n){var e=n.menuInfoMap,t=n.openKeys,r=n.selectedKeys,i=n.needPause,o=ioe(A.exports.useState(Ow),2),a=o[0],s=o[1];return{clear:function(){return s(Ow)},hotkeyInfo:a,listener:function(l){if(!(typeof i=="function"&&i())){var u=l.keyCode||l.which,c=a.activeKeyPath[0]||r&&r[0];if((u===mp.code||u===gp.code)&&l.preventDefault(),!e[c]){if([mp.code,gp.code,rL.code,iL.code].indexOf(u)>-1){var d=Object.keys(e)[0];s(Ef(Ef({},a),{update:!1,activeKeyPath:e[d].keyPath}))}return}var h=function(g){for(var v=function(S){var C=e[S],E=C.firstChild,T=C.next,P=C.keyPath,L=function(I){var O=I[1]&&e[I[1]];if(O)return O.next||L(O.keyPath)};return E&&t.indexOf(S)>-1?E:T||L(P)},y=function(S){var C=null,E=e[S],T=E.prev,P=E.keyPath;if(T){C=T;for(var L=e[T];L.lastChild&&t.indexOf(C)>-1;)C=L.lastChild,L=e[L.lastChild]}else C=P[1];return C},x=g?y:v,_=x(c),b=e[_];b&&b.disabled;)_=x(_),b=e[_];b&&s({type:"sibling",update:!1,activeKeyPath:b.keyPath})},m=function(g){var v=e[c];if(v){var y=g?v.keyPath[1]:v.firstChild,x=e[y];x&&s({type:"generation",update:!0,activeKeyPath:x.keyPath})}};switch(u){case mp.code:h(!0);break;case gp.code:h();break;case rL.code:m(!0);break;case iL.code:m();break;case fd.code:s(Ef(Ef({},a),{type:"enter",update:!0}));break;case Qp.code:s(Ow);break}}}}},kT=function(n,e){var t=A.exports.useContext(za).hotkeyInfo,r=Yx(),i=n&&n===t.activeKeyPath[0];return A.exports.useEffect(function(){!r&&t.update&&e(i,t.type)},[t]),i},da=globalThis&&globalThis.__assign||function(){return da=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},da.apply(this,arguments)},aoe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},soe=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},ZB=["popup","triggerProps","selectable"],JB=function(n){var e=[];return Ce.Children.forEach(n,function(t){var r,i=(r=t==null?void 0:t.type)===null||r===void 0?void 0:r.menuType;i==="MenuItem"||i==="SubMenu"?e.push(t):i==="MenuGroup"&&(e=e.concat(JB(t.props.children)))}),e},QB=function(n,e,t){e===void 0&&(e=[]),t===void 0&&(t={});var r=JB(n);return r.forEach(function(i,o){var a,s,l,u=i.key,c=i.type.menuType,d=soe([u],aoe(e),!1),h={keyPath:[],prev:((s=r[o-1])===null||s===void 0?void 0:s.key)||null,next:((l=r[o+1])===null||l===void 0?void 0:l.key)||null};if(o===0||o===r.length-1){var m=d[1],g=o===0?"firstChild":"lastChild";m&&(t[m]=da(da({},t[m]),(a={},a[g]=u,a)))}switch(c){case"SubMenu":h.keyPath=d,QB(i.props.children,d,t);break;case"MenuItem":h.keyPath=d,h.disabled=i.props.disabled;break}t[u]=da(da({},t[u]),h)}),t},u_=function(n,e){return Ce.Children.map(n,function(t,r){if(!t||!t.props)return t;var i=typeof t.type=="string",o=t.type&&t.type.menuType;if(!o&&t.props.children){var a=i?{}:e;return Ce.cloneElement(t,da(da({},a),{_key:t.key,children:u_(t.props.children,e)}))}return i?t:Ce.cloneElement(t,da(da(da({},e),t.props),{_key:t.key||"$menu-"+r}))})};function e5(n,e){var t=!1;function r(i){!i||t||Ce.Children.forEach(i,function(o){if(o&&o.props&&o.type&&!t){var a=o.type.menuType,s=o.props.selectable;(a==="MenuItem"||a==="SubMenu"&&s)&&(t=e.indexOf(o.key)!==-1),!t&&o.props.children&&r(o.props.children)}})}return r(n),t}var Tf=globalThis&&globalThis.__assign||function(){return Tf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Tf.apply(this,arguments)},loe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function uoe(n,e){var t,r=n._key,i=n.children,o=n.level,a=n.disabled,s=n.className,l=n.style,u=n.wrapper,c=u===void 0?"div":u,d=n.onClick,h=loe(n,["_key","children","level","disabled","className","style","wrapper","onClick"]),m=A.exports.useContext(za),g=m.prefixCls,v=m.mode,y=m.collapse,x=m.inDropdown,_=m.levelIndent,b=m.selectedKeys,S=m.autoScrollIntoView,C=m.scrollConfig,E=m.tooltipProps,T=m.clearHotkeyInfo,P=m.onClickMenuItem,L=A.exports.useRef(null),I=Yx(),O=v==="vertical"&&o>1,F=y&&!x&&o===1,U=b&&~b.indexOf(r),k=kT(r,function($,V){$&&V==="enter"&&(P(r,null),T())});A.exports.useEffect(function(){var $=k||U&&S;L.current&&$&&setTimeout(function(){dB(L.current,Tf({behavior:"smooth",block:"start",scrollMode:"if-needed",boundary:document.body},C))},I?500:0)},[k,U,S]);var H=We(c,lt(Be({},Tf({role:"menuitem",ref:function($){e=$,L.current=e},style:l,className:Ye(g+"-item",(t={},t[g+"-disabled"]=a,t[g+"-active"]=k,t[g+"-selected"]=U,t[g+"-item-indented"]=O&&!y,t),s),onClick:function($){a||(P(r,$),d&&d($),T())}},zn(h,["key","_key"].concat(ZB)))),{children:[O&&!y?We(Ut,{children:[M(l_,{prefixCls:g,levelIndent:_,level:o}),M("span",{className:g+"-item-inner",style:{display:"block"},children:i})]}):i,U&&v==="horizontal"?M("div",{className:g+"-selected-label"}):null]}));return F?M(Sr,lt(Be({},Tf({trigger:"hover",content:M("span",{children:i}),position:"right",triggerProps:Tf({className:g+"-item-tooltip"},(E==null?void 0:E.triggerProps)||{})},zn(E,["triggerProps"]))),{children:H})):H}var coe=A.exports.forwardRef(uoe),FT=coe;FT.displayName="MenuItem";FT.menuType="MenuItem";var foe=FT;function doe(n,e){var t=n.children,r=n.title,i=n.level,o=n.className,a=n.style,s=A.exports.useContext(za),l=s.prefixCls,u=s.levelIndent,c=i===1?i+1:i,d=u_(t,{level:c});return We("div",{ref:e,className:Ye(l+"-group",o),style:a,children:[We("div",{className:l+"-group-title",children:[M(l_,{level:i,prefixCls:l,levelIndent:u}),M("span",{children:r})]}),d]})}var hoe=A.exports.forwardRef(doe),zT=hoe;zT.displayName="MenuItemGroup";zT.menuType="MenuGroup";var poe=zT,o0=globalThis&&globalThis.__assign||function(){return o0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},o0.apply(this,arguments)},moe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},goe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},SL=0,voe=function(n){var e,t=n._key,r=n.children,i=n.style,o=n.className,a=n.title,s=n.level,l=n.forwardedRef,u=n.selectable,c=moe(n,["_key","children","style","className","title","level","forwardedRef","selectable"]),d=A.exports.useContext(za),h=d.id,m=d.prefixCls,g=d.levelIndent,v=d.openKeys,y=v===void 0?[]:v,x=d.selectedKeys,_=x===void 0?[]:x,b=d.icons,S=d.onClickSubMenu,C=d.onClickMenuItem,E=m+"-inline",T=(y==null?void 0:y.indexOf(t))>-1,P=u&&_.indexOf(n._key)>-1||e5(r,_),L=goe(xB(T?"auto":0),2),I=L[0],O=L[1],F=function(N){S(t,s,"inline"),u&&C(t,N)},U=kT(t,function(N,W){return N&&W==="enter"&&F(null)}),k=A.exports.useMemo(function(){var N=h+"-submenu-inline-"+SL;return SL++,N},[]),H=u_(r,o0(o0({},Xx(c,ZB)),{level:s+1,selectable:u})),$=We("div",{"aria-expanded":T,"aria-controls":k,className:Ye(E+"-header",(e={},e[m+"-active"]=U,e[m+"-selected"]=P,e)),onClick:F,children:[M(l_,{level:s,prefixCls:m,levelIndent:g}),M("span",{children:a}),M("span",{className:m+"-icon-suffix "+(T?"is-open":""),children:b&&b.horizontalArrowDown?b.horizontalArrowDown:M(Ad,{})})]}),V=M("div",{id:k,className:Ye(E+"-content"),style:{height:I},children:H});return We("div",{ref:l,className:Ye(E,o),style:i,children:[$,M(Fa,{in:T,timeout:200,classNames:E,unmountOnExit:!1,onEnter:function(N){O(0).then(function(){O(N.scrollHeight)})},onEntered:function(){O("auto")},onExit:function(N){O(N.scrollHeight).then(function(){O(0)})},children:V})]})},yoe=voe,wp=globalThis&&globalThis.__assign||function(){return wp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},wp.apply(this,arguments)},xoe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},CL=0,_oe=function(n){var e,t=n._key,r=n.children,i=n.style,o=n.className,a=n.title,s=n.level,l=n.selectable,u=n.forwardedRef,c=n.triggerProps,d=A.exports.useContext(za),h=d.id,m=d.prefixCls,g=d.mode,v=d.inDropdown,y=d.levelIndent,x=d.hotkeyInfo,_=d.selectedKeys,b=_===void 0?[]:_,S=d.icons,C=d.triggerProps,E=d.onClickSubMenu,T=d.onClickMenuItem,P=wp(wp({},C),c),L=xoe(A.exports.useState(!1),2),I=L[0],O=L[1],F=m+"-pop",U=l&&b.indexOf(n._key)>-1,k=g==="horizontal"&&!v,H=kT(t,function(){O(x.activeKeyPath.indexOf(t)>0)}),$=A.exports.useMemo(function(){var W=h+"-submenu-pop-"+CL;return CL++,W},[]),V=function(){var W=S&&S.popArrowRight?S.popArrowRight:M(Yp,{}),ee=S&&S.horizontalArrowDown?S.horizontalArrowDown:M(Ad,{});return M("span",{className:m+"-icon-suffix",children:k?ee:W})},N=e5(r,b)||U;return M(s_,{trigger:"hover",onVisibleChange:function(W){return O(W)},droplist:M(Uu,{id:$,selectedKeys:b,onClickMenuItem:function(W,ee){T(W,ee),O(!1)},children:r}),triggerProps:wp({position:k?"bl":"rt",popupVisible:I,showArrow:!0,autoAlignPopupMinWidth:!0,classNames:"fadeIn",duration:100,mouseEnterDelay:50,mouseLeaveDelay:50,className:Ye(F+"-trigger",P&&P.className)},zn(P,["className"])),children:We("div",{"aria-haspopup":!0,"aria-expanded":I,"aria-controls":$,ref:u,style:i,className:Ye(F,F+"-header",(e={},e[m+"-active"]=H,e[m+"-selected"]=N,e),o),onClick:function(W){E(t,s,"pop"),l&&T(t,W)},children:[M(l_,{prefixCls:m,levelIndent:y,level:s}),a,V(),N&&g==="horizontal"?M("div",{className:m+"-selected-label"}):null]})})},boe=_oe,fC=globalThis&&globalThis.__assign||function(){return fC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fC.apply(this,arguments)};function woe(n,e){var t=n.children,r=n.popup,i=n.level,o=A.exports.useContext(za),a=o.mode,s=o.collapse,l=o.inDropdown,u=o.collectInlineMenuKeys,c=!!(typeof r=="function"?r(i):r),d=c||s||l||a!=="vertical",h=d?boe:yoe;return A.exports.useEffect(function(){return u(n._key),function(){u(n._key,!0)}},[]),M(h,lt(Be({},fC({forwardedRef:e},n)),{children:t}))}var Soe=A.exports.forwardRef(woe),BT=Soe;BT.displayName="SubMenu";BT.menuType="SubMenu";var t5=BT,Coe=["transform","WebkitTransform","msTransform","MozTransform","OTransform"];function Moe(n){var e={};return Coe.forEach(function(t){e[t]=n}),e}function ML(n,e){if(!n||!e)return null;var t=e;t==="float"&&(t="cssFloat");try{if(document.defaultView){var r=document.defaultView.getComputedStyle(n,"");return n.style[t]||r?r[t]:""}}catch{return n.style[t]}}var dC=globalThis&&globalThis.__assign||function(){return dC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},dC.apply(this,arguments)},EL=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},TL=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Eoe=10;function OL(n){return n&&+n.getBoundingClientRect().width.toFixed(2)}function PL(n){var e=Number(n.replace("px",""));return isNaN(e)?0:e}var Toe=function(n){var e=n.children,t=A.exports.useContext(za).prefixCls,r=A.exports.useRef(null),i=A.exports.useRef(null),o=EL(A.exports.useState(null),2),a=o[0],s=o[1],l=t+"-overflow-sub-menu",u=t+"-overflow-hidden-menu-item",c=t+"-overflow-sub-menu-mirror";A.exports.useEffect(function(){var g=r.current;return d(),i.current=new Zx(function(v){v.forEach(d)}),i.current.observe(g),function(){i.current&&i.current.disconnect()}},[e]);function d(){if(!!r.current){for(var g=r.current,v=OL(g)-Eoe,y=[].slice.call(g.children),x=0,_=0,b=0,S=0;S<y.length;S++){var C=y[S],E=C.className.split(" "),T=E.indexOf(l)>-1,P=E.indexOf(c)>-1;if(!T){var L=OL(C)+PL(ML(C,"marginLeft"))+PL(ML(C,"marginRight"));if(P){b=L;continue}if(_+=L,_>v){s(x-(_-L+b<=v?1:2));return}x++}}s(null)}}var h=function(g,v){return v===void 0&&(v=!1),M(t5,Be({},dC({title:M("span",{children:"\xB7\xB7\xB7"}),key:"arco-menu-overflow-sub-menu"+(v?"-mirror":""),className:v?c:l},n,{children:g})))},m=function(){var g=null,v=h(null,!0),y=Ce.Children.map(e,function(x,_){var b=x;if(a!==null&&(_>a&&(b=Ce.cloneElement(x,{className:u})),_===a+1)){var S=Ce.Children.toArray(e).slice(a+1).map(function(C){return Ce.cloneElement(C,{key:C.props._key})});g=h(S)}return b});return TL(TL([v],EL(y),!1),[g],!1)};return M("div",{className:t+"-overflow-wrap",ref:r,children:m()})},Ooe=Toe,Of=globalThis&&globalThis.__assign||function(){return Of=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Of.apply(this,arguments)};function UT(n){var e,t=n.className,r=n.direction,i=n.icon,o=n.onMouseDown,a=n.onResize,s=n.children,l=n.collapsible,u=l===void 0?{}:l,c=n.resizable,d=c===void 0?!0:c,h=n.renderChildren,m=A.exports.useContext(wt).getPrefixCls,g=m("resizebox-trigger"),v=r==="horizontal",y=Ye(g,g+"-"+(v?"horizontal":"vertical"),(e={},e[g+"-not-resizable"]=!d,e),t),x=Dt(u.prev)?Of(Of({},u.prev),{icon:u.prev.icon||(v?M(zq,{}):M(Lq,{}))}):{},_=Dt(u.next)?Of(Of({},u.next),{icon:u.next.icon||(v?M(Yz,{}):M(kq,{}))}):{},b=function(){return x.icon&&!x.collapsed||_.collapsed?M("span",{className:Ye(g+"-icon",Ye(g+"-prev")),onClick:x.onClick,children:x.icon}):M("span",{className:Ye(g+"-icon-empty")})},S=function(){return _.icon&&!_.collapsed||x.collapsed?M("span",{className:Ye(g+"-icon",Ye(g+"-next")),onClick:_.onClick,children:_.icon}):M("span",{className:Ye(g+"-icon-empty")})},C=function(){return d?M("span",{className:g+"-icon",children:i||(v?M(TZ,{}):M(qz,{}))}):M("span",{className:Ye(g+"-icon-empty")})},E=b(),T=C(),P=S(),L=function(){return We("div",{className:g+"-icon-wrapper",children:[E,T,P]})};return d?M(zl,{onResize:a,children:M("div",{className:y,onMouseDown:o,children:Xt(h)?h(E,T,P):s||L()})}):M("div",{className:y,children:Xt(h)?h(E,T,P):s||L()})}var Pw=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Aw="horizontal",AL="vertical";function Poe(n,e){var t=n.style,r=n.className,i=n.component,o=i===void 0?"div":i,a=n.direction,s=a===void 0?"horizontal":a,l=n.icon,u=n.size,c=u===void 0?.5:u,d=n.min,h=n.max,m=n.panes,g=n.disabled,v=n.trigger,y=A.exports.useContext(wt).getPrefixCls,x=y("resizebox-split"),_=s===Aw,b=!_,S=Ye(x,x+"-"+(_?Aw:AL),r),C=Pw(m,2),E=C[0],T=C[1],P=typeof c=="string",L=Pw(A.exports.useState(parseFloat(c)),2),I=L[0],O=L[1],F=Pw(A.exports.useState(0),2),U=F[0],k=F[1],H=A.exports.useRef({startX:0,startY:0,startWidth:0,startHeight:0,startOffset:0,moving:!1}),$=A.exports.useRef(),V=A.exports.useRef([]);A.exports.useImperativeHandle(e,function(){return $.current},[]);function N(oe,de){return parseFloat(oe)/parseFloat(de)}function W(oe,de,be,ke){var he=d?parseFloat(d):0,Le=h?parseFloat(h):P?oe:1,le=P?de+(ke-be):N(oe*de+ke-be,oe);return le=Math.max(le,he),le=Math.min(le,Le),le}function ee(oe){var de,be;n.onMovingStart&&n.onMovingStart(),H.current.moving=!0,H.current.startX=oe.pageX,H.current.startY=oe.pageY,H.current.startWidth=(de=$.current)===null||de===void 0?void 0:de.offsetWidth,H.current.startHeight=(be=$.current)===null||be===void 0?void 0:be.offsetHeight,H.current.startOffset=I,yn(window,"mousemove",j),yn(window,"touchmove",j),yn(window,"mouseup",G),yn(window,"touchend",G),yn(window,"contextmenu",G),document.body.style.cursor=b?"row-resize":"col-resize"}function j(oe){if(H.current.moving){var de=_?W(H.current.startWidth,H.current.startOffset,H.current.startX,oe.pageX):W(H.current.startHeight,H.current.startOffset,H.current.startY,oe.pageY);O(de),n.onMoving&&n.onMoving(oe,P?de+"px":de)}}function G(){H.current.moving=!1,An(window,"mousemove",j),An(window,"touchmove",j),An(window,"mouseup",G),An(window,"touchend",G),An(window,"contextmenu",G),document.body.style.cursor="default",n.onMovingEnd&&n.onMovingEnd()}function ne(oe){var de=oe[0].contentRect,be=de[b?"height":"width"];k(be)}function ye(){var oe=P?"px":"%";if(!I)return"0"+oe;var de=P?I:I*100;return"calc("+de+oe+" - "+U/2+"px)"}A.exports.useEffect(function(){n.onPaneResize&&n.onPaneResize(V.current)},[I,U]),Jp(function(){var oe=parseFloat(c);I!==oe&&O(oe)},[c]);var xe=o;return We(xe,{style:t,className:S,ref:$,children:[M("div",{className:Ye(x+"-pane","first-pane"),style:{flexBasis:ye()},ref:function(oe){V.current[0]=oe},children:E}),!g&&M(UT,{className:x+"-trigger",direction:b?Aw:AL,icon:l,onMouseDown:ee,onResize:ne,children:v}),M("div",{className:Ye(x+"-pane","second-pane"),ref:function(oe){V.current[1]=oe},children:T})]})}var n5=A.exports.forwardRef(Poe);n5.displayName="ResizeBoxSplit";var Aoe=n5,fu=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Rw=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Iw="horizontal",RL="vertical";function Roe(n,e){var t,r=n.panes,i=n.style,o=n.className,a=n.component,s=a===void 0?"div":a,l=n.direction,u=l===void 0?"horizontal":l,c=n.icon,d=A.exports.useContext(wt).getPrefixCls,h=1/r.length,m=A.exports.useRef(),g=A.exports.useRef(new Array(r.length).fill({moving:!1,startOffset:0,startPosition:0})),v=A.exports.useRef([]),y=A.exports.useRef(0),x=A.exports.useRef([]),_=fu(A.exports.useState(new Array(r.length).fill(h)),2),b=_[0],S=_[1],C=fu(A.exports.useState(!1),2),E=C[0],T=C[1],P=fu(A.exports.useState(new Array(r.length).fill(0)),2),L=P[0],I=P[1],O=fu(A.exports.useState(new Array(Math.max(r.length-1,0)).fill({prev:!1,next:!1})),2),F=O[0],U=O[1],k=d("resizebox-split-group"),H=u===Iw,$=!H,V=Ye(k,k+"-"+(H?Iw:RL),(t={},t[k+"-moving"]=E,t),o),N=s,W=function(){var he=H?m.current.offsetWidth:m.current.offsetHeight,Le=[];r.forEach(function(De){var pe=De.size;Ra(pe)?Le.push(void 0):Le.push(j(pe))});var le=Le.filter(function(De){return!De}),ce=he-Le.reduce(function(De,pe){var Oe=De||0,Te=pe||0;return Oe+Te},0),we=ce/le.length;return Le=Le.map(function(De){return Ra(De)?we:De}),Le},ee=function(he){var Le=L[he-1]||0,le=L[he],ce=b[he],we="px";if(m.current){var De=H?m.current.offsetWidth:m.current.offsetHeight;ce=ce/De*100,we="%"}return"calc("+ce+we+" - "+(Le+le)/2+"px)"};function j(he){var Le=H?m.current.offsetWidth:m.current.offsetHeight;return!he||rn(he)&&he<0?0:rn(he)?Math.min(Le*he,Le):parseFloat(he)}var G=function(he){var Le=Math.min(he+1,r.length-1),le=b[he]+b[Le],ce=j(r[he].min)||0,we=j(r[he].max)||le,De=j(r[Le].min)||0,pe=j(r[Le].max)||le;return we=Math.min(le-De,we),pe=Math.min(le-ce,pe),{currentMin:ce,currentMax:we,nextMin:De,nextMax:pe}},ne=function(he,Le,le){var ce=y.current,we=ce+1,De=Rw([],fu(b),!1),pe=b[ce],Oe=b[we],Te=pe+Oe,je=G(ce),it=je.currentMin,nt=je.currentMax,q=he+(le-Le);return q=Math.max(it,q),q=Math.min(nt,q),De[ce]=q,De[we]=Te-q,De};function ye(he,Le){var le=he[0].contentRect,ce=le[$?"height":"width"],we=Rw([],fu(L),!1);we[Le]=ce,I(we)}var xe=function(he){var Le=r[he].collapsible;Dt(Le)||(Le=Le?{prev:!0,next:!0}:{});var le=Le.prev,ce=Le.next;if(!le&&!ce)return{};if(!F[he])return{};var we=!!le||!le&&F[he].next,De=!!ce||!ce&&F[he].prev;return{hasPrev:we,hasNext:De}};function oe(he,Le){n.onMovingStart&&n.onMovingStart(Le),y.current=Le;var le=g.current[Le];le.moving=!0,le.startOffset=b[Le],le.startPosition=H?he.pageX:he.pageY,T(!0),yn(window,"mousemove",de),yn(window,"touchmove",de),yn(window,"mouseup",be),yn(window,"touchend",be),yn(window,"contextmenu",be),document.body.style.cursor=$?"row-resize":"col-resize"}function de(he){var Le=y.current,le=g.current[Le];if(le.moving){var ce=ne(le.startOffset,le.startPosition,H?he.pageX:he.pageY);S(ce),x.current=ce,n.onMoving&&n.onMoving(he,ce.map(function(we){return we+"px"}),Le)}}function be(){var he=y.current;g.current[he].moving=!1,T(!1),An(window,"mousemove",de),An(window,"touchmove",de),An(window,"mouseup",be),An(window,"touchend",be),An(window,"contextmenu",be),document.body.style.cursor="default",n.onMovingEnd&&n.onMovingEnd(he)}function ke(he,Le,le,ce){var we=Le+1,De=Rw([],fu(b),!1),pe=b[Le],Oe=b[we],Te=pe+Oe,je=G(Le),it=je.currentMin,nt=je.nextMin,q=x.current[Le],z=x.current[we],re=F[Le][le];le==="prev"?(Oe!==nt||z===nt)&&(q=it,z=Te-it,re=!0):(pe!==it||q===it)&&(q=Te-nt,z=nt,re=!0),De[Le]=q,De[we]=z,n.onMoving&&n.onMoving(he,De.map(function(_e){return _e+"px"}),Le),n.onMovingEnd&&n.onMovingEnd(Le),S(De),Xt(ce)&&ce(he,Le,le,re)}return A.exports.useEffect(function(){var he=W();S(he),x.current=he},[JSON.stringify(r.map(function(he){return he.size}))]),A.exports.useImperativeHandle(e,function(){return m.current},[]),A.exports.useEffect(function(){var he=[];b.forEach(function(Le,le){var ce={prev:!1,next:!1},we=le+1,De=G(le),pe=De.currentMin,Oe=De.nextMin;Le===pe?ce.prev=!0:b[we]===Oe&&(ce.next=!0),he.push(ce)}),U(he)},[b]),M(N,{style:i,className:V,ref:m,children:r.map(function(he,Le){var le=he.content,ce=he.disabled,we=he.trigger,De=he.resizable,pe=De===void 0?!0:De,Oe=he.collapsible,Te=Oe===void 0?{}:Oe,je=xe(Le),it=je.hasPrev,nt=je.hasNext,q=Dt(Te)&&Dt(Te.prev)?Te.prev:{},z=Dt(Te)&&Dt(Te.next)?Te.next:{};return We(Ut,{children:[M("div",{className:k+"-pane",style:{flexBasis:ee(Le)},ref:function(re){return v.current[Le]=re},children:le}),!ce&&Le!==r.length-1&&M(UT,{className:k+"-trigger",direction:$?Iw:RL,icon:c,onResize:function(re){return ye(re,Le)},onMouseDown:function(re){return oe(re,Le)},collapsible:{prev:it?{onClick:function(re){return ke(re,Le,"prev",q.onClick)},icon:q.icon,collapsed:F[Le].prev}:void 0,next:nt?{onClick:function(re){return ke(re,Le,"next",z.onClick)},icon:z.icon,collapsed:F[Le].next}:void 0},resizable:pe,renderChildren:we})]})})})}var r5=A.exports.forwardRef(Roe);r5.displayName="ResizeBoxSplitGroup";var Ioe=r5,dl=globalThis&&globalThis.__assign||function(){return dl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},dl.apply(this,arguments)},Nw=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},i5="left",hC="right",pC="top",mC="bottom",Noe=[i5,hC,pC,mC],Loe={component:"div",directions:["right"],resizeIcons:{},resizeTriggers:{}};function Doe(n,e){var t=A.exports.useContext(wt),r=t.getPrefixCls,i=t.componentConfig,o=cn(n,Loe,i==null?void 0:i.ResizeBox),a=o.style,s=o.className,l=o.component,u=o.directions,c=o.resizeIcons,d=o.children,h=o.resizeTriggers,m=o.width,g=o.height,v=r("resizebox"),y=Ye(v,s),x=Nw(A.exports.useState({}),2),_=x[0],b=x[1],S=Nw($n(void 0,{value:m}),2),C=S[0],E=S[1],T=Nw($n(void 0,{value:g}),2),P=T[0],L=T[1],I=A.exports.useRef({startX:0,startY:0,startWidth:0,startHeight:0,direction:hC,moving:!1,padding:{top:0,bottom:0,left:0,right:0}}),O=A.exports.useRef();A.exports.useImperativeHandle(e,function(){return O.current},[]);function F(j){return[pC,mC].indexOf(j)>-1}function U(j,G){if(j===0)return 0;var ne=j-G;return ne<=0?0:ne}function k(j,G){var ne,ye;o.onMovingStart&&o.onMovingStart(),I.current.moving=!0,I.current.startX=G.pageX,I.current.startY=G.pageY,I.current.direction=j;var xe=I.current.padding,oe=xe.top,de=xe.left,be=xe.right,ke=xe.bottom;I.current.startWidth=U((ne=O.current)===null||ne===void 0?void 0:ne.clientWidth,de+be),I.current.startHeight=U((ye=O.current)===null||ye===void 0?void 0:ye.clientHeight,oe+ke),yn(window,"mousemove",H),yn(window,"touchmove",H),yn(window,"mouseup",$),yn(window,"touchend",$),yn(window,"contextmenu",$),document.body.style.cursor=F(j)?"row-resize":"col-resize"}function H(j){if(!I.current.moving)return!1;var G=I.current,ne=G.startX,ye=G.startY,xe=G.startWidth,oe=G.startHeight,de=xe,be=oe,ke=j.pageX-ne,he=j.pageY-ye;switch(I.current.direction){case i5:de=xe-ke,E(de);break;case hC:de=xe+ke,E(de);break;case pC:be=oe-he,L(be);break;case mC:be=oe+he,L(be);break}o.onMoving&&o.onMoving(j,{width:de,height:be})}function $(){I.current.moving=!1,V(),document.body.style.cursor="default",o.onMovingEnd&&o.onMovingEnd()}function V(){An(window,"mousemove",H),An(window,"touchmove",H),An(window,"mouseup",$),An(window,"touchend",$),An(window,"contextmenu",$)}function N(j,G){var ne=F(j),ye=G[0].contentRect,xe=""+j.slice(0,1).toUpperCase()+j.slice(1),oe=ye[ne?"height":"width"];I.current.padding[j]=oe,b(function(de){var be;return dl(dl({},de),(be={},be["padding"+xe]=oe,be))})}var W=dl(dl(dl(dl({},_),a||{}),rn(C)?{width:C}:{}),rn(P)?{height:P}:{}),ee=l;return We(ee,{style:W,className:y,ref:O,children:[d,u.map(function(j){if(Noe.indexOf(j)!==-1)return M(UT,{className:v+"-direction-"+j,direction:F(j)?"horizontal":"vertical",icon:c[j],onMouseDown:function(G){k(j,G)},onResize:function(G){N(j,G)},children:h[j]},j)})]})}var koe=A.exports.forwardRef(Doe),c_=koe;c_.Split=Aoe;c_.SplitGroup=Ioe;c_.displayName="ResizeBox";var Foe=c_,a0=globalThis&&globalThis.__assign||function(){return a0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},a0.apply(this,arguments)},IL=["xxl","xl","lg","md","sm","xs"],Jh={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},du=[],zoe=-1,sv={},Boe={matchHandlers:{},dispatch:function(n,e){return sv=n,du.length<1?!1:(du.forEach(function(t){t.func(sv,e)}),!0)},subscribe:function(n){du.length===0&&this.register();var e=(++zoe).toString();return du.push({token:e,func:n}),n(sv,null),e},unsubscribe:function(n){du=du.filter(function(e){return e.token!==n}),du.length===0&&this.unregister()},unregister:function(){var n=this;Object.keys(Jh).forEach(function(e){var t=Jh[e],r=n.matchHandlers[t];r&&r.mql&&r.listener&&r.mql.removeListener(r.listener)})},register:function(){var n=this;Object.keys(Jh).forEach(function(e){var t=Jh[e],r=function(o){var a,s=o.matches;n.dispatch(a0(a0({},sv),(a={},a[e]=s,a)),e)},i=window.matchMedia(t);i.addListener(r),n.matchHandlers[t]={mql:i,listener:r},r(i)})}},s0=Boe,l0=globalThis&&globalThis.__assign||function(){return l0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},l0.apply(this,arguments)},Uoe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Hoe=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},o5=A.exports.createContext({siderCollapsed:!1,collapsedWidth:64}),Voe=function(){var n=0;return function(e){return e===void 0&&(e=""),n+=1,""+e+n}}();function Goe(n,e){var t,r=n.children,i=n.className,o=n.style,a=n.theme,s=a===void 0?"light":a,l=n.trigger,u=n.reverseArrow,c=n.collapsedWidth,d=c===void 0?48:c,h=n.width,m=h===void 0?200:h,g=n.collapsible,v=n.resizeDirections,y=n.onSiderMount,x=n.onSiderUnmount,_=n.breakpoint,b=n.onBreakpoint,S=n.onCollapse,C=Voe("arco-sider-"),E=A.exports.useContext(wt).getPrefixCls,T=E("layout-sider"),P=Uoe($n(!1,{value:n.collapsed}),2),L=P[0],I=P[1],O=A.exports.useRef(null),F=A.exports.useRef(null);F.current={breakpoint:_,collapsed:L,onCollapse:S,onBreakpoint:b},A.exports.useEffect(function(){return y&&y(C),g&&_ in Jh&&(O.current=s0.subscribe(function(N,W){var ee=F.current,j=ee.breakpoint,G=ee.collapsed,ne=ee.onCollapse,ye=ee.onBreakpoint;if(!W||W===j){var xe=!N[j];xe!==G&&(I(xe),ne&&ne(xe,"responsive")),ye&&ye(xe)}})),function(){x&&x(C),O.current&&s0.unsubscribe(O.current)}},[]);var U=L?d:m,k=Hoe(U)?U+"px":String(U),H=function(){var N,W=l||(L?u?M(Xp,{}):M(Yp,{}):u?M(Yp,{}):M(Xp,{}));return g&&l!==null?M("div",{style:{width:k},className:Ye(T+"-trigger",(N={},N[T+"-trigger-light"]=s==="light",N)),onClick:function(){I(!L),S&&S(!L,"clickTrigger")},children:W}):null},$="aside",V={};return v&&gr(v)&&($=Foe,V={directions:v,component:"aside"}),M(o5.Provider,{value:{siderCollapsed:L,collapsedWidth:d},children:We($,lt(Be({},l0({ref:e,style:l0({width:k},o),className:Ye(T,(t={},t[T+"-light"]=s==="light",t[T+"-has-trigger"]=l!==null&&g,t[T+"-collapsed"]=L,t),i)},V)),{children:[M("div",{className:T+"-children",children:r}),H()]}))})}var HT=A.exports.forwardRef(Goe);HT.defaultProps={sign:"sider"};HT.displayName="LayoutSider";var Woe=HT,gC=globalThis&&globalThis.__assign||function(){return gC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},gC.apply(this,arguments)},$oe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function joe(n,e){var t=A.exports.useContext(wt).getPrefixCls,r=n.className,i=n.children,o=$oe(n,["className","children"]),a=t("layout-header"),s=Ye(a,r);return M("header",lt(Be({},gC({ref:e},o,{className:s})),{children:i}))}var a5=A.exports.forwardRef(joe);a5.displayName="LayoutHeader";var Koe=a5,vC=globalThis&&globalThis.__assign||function(){return vC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},vC.apply(this,arguments)},Xoe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Yoe(n,e){var t=n.className,r=n.children,i=Xoe(n,["className","children"]),o=A.exports.useContext(wt).getPrefixCls,a=o("layout-footer"),s=Ye(a,t);return M("footer",lt(Be({},vC({ref:e},i,{className:s})),{children:r}))}var s5=A.exports.forwardRef(Yoe);s5.displayName="LayoutFooter";var qoe=s5,yC=globalThis&&globalThis.__assign||function(){return yC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},yC.apply(this,arguments)},Zoe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Joe(n,e){var t=n.className,r=n.children,i=Zoe(n,["className","children"]),o=A.exports.useContext(wt).getPrefixCls,a=o("layout-content"),s=Ye(a,t);return M("main",lt(Be({},yC({ref:e},i,{className:s})),{children:r}))}var l5=A.exports.forwardRef(Joe);l5.displayName="LayoutContent";var Qoe=l5,xC=globalThis&&globalThis.__assign||function(){return xC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},xC.apply(this,arguments)},eae=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},NL=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},LL=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function tae(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,{},o==null?void 0:o.Layout),s=a.className,l=a.hasSider,u=a.children,c=eae(a,["className","hasSider","children"]),d=NL(A.exports.useState([]),2),h=d[0],m=d[1],g=i("layout"),v=Ye(g,(t={},t[g+"-has-sider"]=typeof l=="boolean"?l:h.length>0,t),s);return M("section",lt(Be({},xC({ref:e},c,{className:v})),{children:Ce.Children.map(u,function(y){return y&&y.props&&y.props.sign==="sider"?Ce.cloneElement(y,{onSiderMount:function(x){return m(LL(LL([],NL(h),!1),[x],!1))},onSiderUnmount:function(x){return m(h.filter(function(_){return _!==x}))}}):y})}))}var nae=A.exports.forwardRef(tae),zd=nae;zd.displayName="Layout";zd.Sider=Woe;zd.Header=Koe;zd.Footer=qoe;zd.Content=Qoe;var Lw=zd,u0=globalThis&&globalThis.__assign||function(){return u0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},u0.apply(this,arguments)},rae=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},lv=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},iae=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},DL=0,oae="light",aae={mode:"vertical",selectable:!0,ellipsis:!0};function sae(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,aae,o==null?void 0:o.Menu),s=a.style,l=a.children,u=a.className,c=a.prefixCls,d=a.mode,h=a.theme,m=a.icons,g=a.levelIndent,v=a.collapse,y=a.inDropdown,x=a.selectable,_=a.triggerProps,b=a.tooltipProps,S=a.ellipsis,C=a.accordion,E=a.autoOpen,T=a.autoScrollIntoView,P=a.scrollConfig,L=a.hasCollapseButton,I=a.defaultOpenKeys,O=a.defaultSelectedKeys,F=a.openKeys,U=a.selectedKeys,k=a.onClickSubMenu,H=a.onClickMenuItem,$=a.onCollapseChange,V=rae(a,["style","children","className","prefixCls","mode","theme","icons","levelIndent","collapse","inDropdown","selectable","triggerProps","tooltipProps","ellipsis","accordion","autoOpen","autoScrollIntoView","scrollConfig","hasCollapseButton","defaultOpenKeys","defaultSelectedKeys","openKeys","selectedKeys","onClickSubMenu","onClickMenuItem","onCollapseChange"]),N=lv($n([],{defaultValue:I,value:F}),2),W=N[0],ee=N[1],j=lv($n([],{defaultValue:O,value:U}),2),G=j[0],ne=j[1],ye=lv($n(!1,{value:v}),2),xe=ye[0],oe=ye[1],de=A.exports.useContext(za),be=A.exports.useContext(o5).siderCollapsed,ke=c||i("menu"),he=be||xe||y||d==="popButton",Le=h||de.theme||oae,le=A.exports.useRef([]),ce=A.exports.useRef([]),we=AT(),De=A.exports.useMemo(function(){return QB(l)},[l]),pe=A.exports.useMemo(function(){if(V.id)return V.id;var re=ke+"-"+DL;return DL++,re},[V.id]),Oe=ooe({openKeys:W,selectedKeys:G,menuInfoMap:De,needPause:function(){return he}}),Te=Oe.hotkeyInfo,je=Oe.listener,it=Oe.clear;A.exports.useEffect(function(){var re=W.filter(function(ue){return le.current.indexOf(ue)!==-1});if(E){var _e=le.current.filter(function(ue){return ce.current.indexOf(ue)===-1});re=W.concat(_e)}ee(C?re.slice(0,1):re),ce.current=le.current.slice()},[le.current.toString()]);var nt=d!=="horizontal"&&d!=="popButton"&&!y&&L,q=function(){var re=u_(l,{level:1}),_e=xe?m&&m.collapseActive||M(Xq,{}):m&&m.collapseDefault||M(jq,{});return We(Ut,{children:[M("div",{className:ke+"-inner",children:d==="horizontal"&&S!==!1?M(Ooe,{children:re}):re}),nt&&M("div",{tabIndex:0,role:"button","aria-controls":pe,"aria-expanded":!xe,className:ke+"-collapse-button",onClick:function(){var ue=!xe;oe(ue),$&&$(ue)},children:_e})]})},z=u0({},s);return he&&!y&&delete z.width,M("div",lt(Be({},u0({id:nt?pe:void 0,role:"menu",tabIndex:1},zn(V,["isMenu"]),{ref:e,style:z,className:Ye(ke,ke+"-"+Le,ke+"-"+(d==="horizontal"?"horizontal":"vertical"),(t={},t[ke+"-collapse"]=he,t[ke+"-pop"]=d==="pop"||he,t[ke+"-pop-button"]=d==="popButton",t),u),onKeyDown:je})),{children:M(za.Provider,{value:{mode:d,theme:Le,collapse:he,levelIndent:g,inDropdown:y,selectedKeys:G,openKeys:W,icons:m,triggerProps:_,tooltipProps:b,autoScrollIntoView:T,scrollConfig:P,id:pe,prefixCls:ke,hotkeyInfo:"hotkeyInfo"in de?de.hotkeyInfo:Te,clearHotkeyInfo:it,collectInlineMenuKeys:function(re,_e){_e?le.current=le.current.filter(function(ue){return ue!==re}):le.current.push(re),we()},onClickMenuItem:function(re,_e){var ue;x&&ne([re]),H&&H(re,_e,(ue=De[re])===null||ue===void 0?void 0:ue.keyPath)},onClickSubMenu:function(re,_e,ue){var Me,Ue=iae([],lv(W),!1);ue==="inline"&&((W==null?void 0:W.indexOf(re))>-1?C&&_e===1?Ue=[]:Ue=W.filter(function(K){return K!==re}):C&&_e===1?Ue=[re]:Ue=W.concat([re])),ee(Ue),k&&k(re,Ue,(Me=De[re])===null||Me===void 0?void 0:Me.keyPath)}},children:q()})}))}var lae=A.exports.forwardRef(sae),Bd=lae;Bd.displayName="Menu";Bd.Item=foe;Bd.SubMenu=t5;Bd.ItemGroup=poe;Bd.defaultProps={isMenu:!0};var Uu=Bd,uae=i_;function cae(){this.__data__=new uae,this.size=0}var fae=cae;function dae(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var hae=dae;function pae(n){return this.__data__.get(n)}var mae=pae;function gae(n){return this.__data__.has(n)}var vae=gae,yae=i_,xae=RT,_ae=IT,bae=200;function wae(n,e){var t=this.__data__;if(t instanceof yae){var r=t.__data__;if(!xae||r.length<bae-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new _ae(r)}return t.set(n,e),this.size=t.size,this}var Sae=wae,Cae=i_,Mae=fae,Eae=hae,Tae=mae,Oae=vae,Pae=Sae;function Ud(n){var e=this.__data__=new Cae(n);this.size=e.size}Ud.prototype.clear=Mae;Ud.prototype.delete=Eae;Ud.prototype.get=Tae;Ud.prototype.has=Oae;Ud.prototype.set=Pae;var Aae=Ud,Rae=Wa,Iae=Rae.Uint8Array,Nae=Iae;function Lae(n,e){return function(t){return n(e(t))}}var Dae=Lae,kae=Object.prototype;function Fae(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||kae;return n===t}var zae=Fae,Bae=Bm,Uae=Um,Hae="[object Arguments]";function Vae(n){return Uae(n)&&Bae(n)==Hae}var Gae=Vae,kL=Gae,Wae=Um,u5=Object.prototype,$ae=u5.hasOwnProperty,jae=u5.propertyIsEnumerable,Kae=kL(function(){return arguments}())?kL:function(n){return Wae(n)&&$ae.call(n,"callee")&&!jae.call(n,"callee")},Xae=Kae,Yae=9007199254740991;function qae(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Yae}var c5=qae,Zae=UB,Jae=c5;function Qae(n){return n!=null&&Jae(n.length)&&!Zae(n)}var ese=Qae,c0={exports:{}};function tse(){return!1}var nse=tse;(function(n,e){var t=Wa,r=nse,i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===i,s=a?t.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;n.exports=u})(c0,c0.exports);var rse=Bm,ise=c5,ose=Um,ase="[object Arguments]",sse="[object Array]",lse="[object Boolean]",use="[object Date]",cse="[object Error]",fse="[object Function]",dse="[object Map]",hse="[object Number]",pse="[object Object]",mse="[object RegExp]",gse="[object Set]",vse="[object String]",yse="[object WeakMap]",xse="[object ArrayBuffer]",_se="[object DataView]",bse="[object Float32Array]",wse="[object Float64Array]",Sse="[object Int8Array]",Cse="[object Int16Array]",Mse="[object Int32Array]",Ese="[object Uint8Array]",Tse="[object Uint8ClampedArray]",Ose="[object Uint16Array]",Pse="[object Uint32Array]",Dn={};Dn[bse]=Dn[wse]=Dn[Sse]=Dn[Cse]=Dn[Mse]=Dn[Ese]=Dn[Tse]=Dn[Ose]=Dn[Pse]=!0;Dn[ase]=Dn[sse]=Dn[xse]=Dn[lse]=Dn[_se]=Dn[use]=Dn[cse]=Dn[fse]=Dn[dse]=Dn[hse]=Dn[pse]=Dn[mse]=Dn[gse]=Dn[vse]=Dn[yse]=!1;function Ase(n){return ose(n)&&ise(n.length)&&!!Dn[rse(n)]}var Rse=Ase;function Ise(n){return function(e){return n(e)}}var Nse=Ise,_C={exports:{}};(function(n,e){var t=lB,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,a=o&&t.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();n.exports=s})(_C,_C.exports);var Lse=Rse,Dse=Nse,FL=_C.exports,zL=FL&&FL.isTypedArray,kse=zL?Dse(zL):Lse,f5=kse;function Fse(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var zse=Fse,Bse=9007199254740991,Use=/^(?:0|[1-9]\d*)$/;function Hse(n,e){var t=typeof n;return e=e??Bse,!!e&&(t=="number"||t!="symbol"&&Use.test(n))&&n>-1&&n%1==0&&n<e}var Vse=Hse,Gse=zse,Wse=Xae,$se=Nd,jse=c0.exports,Kse=Vse,Xse=f5,Yse=Object.prototype,qse=Yse.hasOwnProperty;function Zse(n,e){var t=$se(n),r=!t&&Wse(n),i=!t&&!r&&jse(n),o=!t&&!r&&!i&&Xse(n),a=t||r||i||o,s=a?Gse(n.length,String):[],l=s.length;for(var u in n)(e||qse.call(n,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Kse(u,l)))&&s.push(u);return s}var Jse=Zse,Qse=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},VT=A.exports.createContext({type:"radio"}),ele={type:"radio",mode:"outline",direction:"horizontal"};function d5(n){var e,t=A.exports.useContext(wt),r=t.getPrefixCls,i=t.size,o=t.componentConfig,a=cn(n,ele,o==null?void 0:o["Radio.Group"]),s=a.style,l=a.className,u=a.name,c=a.children,d=a.direction,h=a.type,m=a.mode,g=a.options,v=a.disabled,y=Qse($n(void 0,{defaultValue:a.defaultValue,value:a.value}),2),x=y[0],_=y[1],b=a.size||i,S=r("radio"),C=Ye(S+"-group",(e={},e[S+"-group-type-button"]=h!=="radio",e[S+"-size-"+b]=!!b,e[S+"-mode-"+m]=!!m,e[S+"-group-disabled"]=v,e[S+"-group-direction-vertical"]=d==="vertical",e),l),E=function(P,L){var I=a.onChange;P!==x&&("value"in a||_(P),I&&I(P,L))},T={onChangeValue:E,type:h,value:x,disabled:v,group:!0,name:u};return M(VT.Provider,{value:T,children:M("div",{className:C,style:s,children:g&&gr(g)?g.map(function(P,L){return Dt(P)?M(Ai,{disabled:v||P.disabled,value:P.value,children:P.label},P.value):M(Ai,{value:P,disabled:v,children:P},L)}):c})})}d5.displayName="RadioGroup";var Sp=globalThis&&globalThis.__assign||function(){return Sp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Sp.apply(this,arguments)},tle=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},nle=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function Ai(n){var e,t=A.exports.useRef(null),r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,{},o==null?void 0:o.Radio),s=A.exports.useContext(VT),l=i("radio"),u=Sp({},a);s.group&&(u.checked=s.value===a.value,u.disabled=!!(s.disabled||a.disabled));var c=u.disabled,d=u.children,h=u.value,m=u.style,g=u.className,v=tle(u,["disabled","children","value","style","className"]),y=nle($n(!1,{value:u.checked,defaultValue:u.defaultChecked}),2),x=y[0],_=y[1],b=Ye(""+l+(s.type==="button"?"-button":""),(e={},e[l+"-checked"]=x,e[l+"-disabled"]=c,e),g),S=function(E){var T=u.onChange,P=u.value;c||(s.group?s.onChangeValue&&s.onChangeValue(P,E):!("checked"in a)&&!x&&_(!0),!x&&T&&T(!0,E))},C=Ce.useCallback(function(E){Xt(a.children)&&(E.preventDefault(),t.current&&t.current.click()),v.onClick&&v.onClick(E)},[a.children,v.onClick]);return We("label",lt(Be({},Sp({},zn(v,["checked","onChange"]),{onClick:C,style:m,className:b})),{children:[M("input",Be({},Sp({ref:t,disabled:c,value:h||"",type:"radio"},s.name?{name:s.name}:{},{checked:x,onChange:function(E){E.persist(),S(E)},onClick:function(E){E.stopPropagation()}}))),Xt(d)?d({checked:x}):s.type==="radio"?We(Ut,{children:[M(Ir,{prefix:l,className:l+"-mask-wrapper",disabled:x||c,children:M("div",{className:l+"-mask"})}),d&&M("span",{className:l+"-text",children:d})]}):s.type==="button"&&M("span",{className:l+"-button-inner",children:d})]}))}Ai.__BYTE_RADIO=!0;Ai.displayName="Radio";Ai.Group=d5;Ai.GroupContext=VT;var bC=globalThis&&globalThis.__assign||function(){return bC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},bC.apply(this,arguments)},rle=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function ile(n,e){var t,r=n.className,i=n.title,o=n.avatar,a=n.description,s=n.actionList,l=rle(n,["className","title","avatar","description","actionList"]),u=A.exports.useContext(wt).getPrefixCls,c=u("card-meta"),d=Ye(c,r);return We("div",lt(Be({},bC({},l,{ref:e,className:d})),{children:[i||a?We("div",{className:c+"-content",children:[i&&M("div",{className:c+"-title",children:i}),a&&M("div",{className:c+"-description",children:a})]}):null,o||s?We("div",{className:Ye(c+"-footer ",(t={},t[c+"-footer-only-actions"]=!o,t)),children:[o?M("div",{className:c+"-avatar",children:o}):null,s]}):null]}))}var h5=Ce.forwardRef(ile);h5.displayName="CardMeta";var p5=h5;function ole(n,e){var t,r=n.children,i=n.style,o=n.className,a=n.hoverable,s=A.exports.useContext(wt).getPrefixCls,l=s("card-grid");return M("div",{ref:e,style:i,className:Ye(l,(t={},t[l+"-hoverable"]=a,t),o),children:r})}var m5=Ce.forwardRef(ole);m5.displayName="CardGrid";var g5=m5,ale=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},sle=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function lle(n){var e=A.exports.useContext(wt).getPrefixCls,t=e("spin")+"-dot",r={width:n.size,height:n.size},i=n.size?parseInt(String(n.size)):0;return M("div",{className:t+"-list",style:{height:n.size,width:rn(i)&&i>0?i*7:""},children:sle([],ale(new Array(5)),!1).map(function(o,a){return M("div",{className:t,style:r},a)})})}var ule=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function cle(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,{},o==null?void 0:o.Spin),s=a.style,l=a.className,u=a.children,c=a.loading,d=a.size,h=a.icon,m=a.element,g=a.tip,v=a.dot,y=a.delay,x=a.block,_=x===void 0?!1:x,b=ule(A.exports.useState(y?!1:c),2),S=b[0],C=b[1],E=A.exports.useCallback(cB(C,y),[y]),T=y?S:c,P=i("spin");A.exports.useEffect(function(){return y&&E(c),function(){E&&E.cancel()}},[c]);var L=M("span",{className:P+"-icon",children:h?Ce.cloneElement(h,{className:Ye(P.replace("-spin","-icon")+"-loading"),style:{fontSize:d}}):m||(v?M(lle,{size:d}):M(dc,{style:{fontSize:d}}))});return M("div",{ref:e,className:Ye(P,(t={},t[P+"-block"]=_,t[P+"-loading"]=T,t[P+"-with-tip"]=g&&!u,t),l),style:s,children:u?We(Ut,{children:[M("div",{className:P+"-children",children:u}),T&&M("div",{className:P+"-loading-layer",style:{fontSize:d},children:We("span",{className:P+"-loading-layer-inner",children:[L,g?M("div",{className:P+"-tip",children:g}):null]})})]}):We(Ut,{children:[L,g?M("div",{className:P+"-tip",children:g}):null]})})}var v5=Ce.forwardRef(cle);v5.displayName="Spin";var wC=v5,SC=globalThis&&globalThis.__assign||function(){return SC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},SC.apply(this,arguments)},fle=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},dle={size:"default",bordered:!0};function hle(n,e){var t,r,i=A.exports.useContext(wt),o=i.getPrefixCls,a=i.loadingElement,s=i.componentConfig,l=cn(n,dle,s==null?void 0:s.Card),u=l.className,c=l.children,d=l.bordered,h=l.loading,m=l.hoverable,g=l.size,v=l.title,y=l.extra,x=l.cover,_=l.actions,b=l.headerStyle,S=l.bodyStyle,C=fle(l,["className","children","bordered","loading","hoverable","size","title","extra","cover","actions","headerStyle","bodyStyle"]),E=o("card"),T=_&&_.length?M("div",{className:E+"-actions",children:M("div",{className:E+"-actions-right",children:_.map(function(O,F){return M("span",{className:E+"-actions-item",children:O},"action-"+F)})})}):null,P=!1,L=!1,I=Ce.Children.map(c,function(O){if(O&&O.type){if(O.type===g5)P=!0;else if(O.type===p5)return L=!0,Ce.cloneElement(O,{actionList:T})}return O});return We("div",lt(Be({},SC({},C,{ref:e,className:Ye(E,E+"-size-"+g,(t={},t[E+"-loading"]=h,t[E+"-bordered"]=d,t[E+"-hoverable"]=m,t[E+"-contain-grid"]=P,t),u)})),{children:[v||y?We("div",{className:Ye(E+"-header",(r={},r[E+"-header-no-title"]=!v,r)),style:b,children:[v&&M("div",{className:E+"-header-title",children:v}),y&&M("div",{className:E+"-header-extra",children:y})]}):null,x?M("div",{className:E+"-cover",children:x}):null,We("div",{className:E+"-body",style:S,children:[h?a||M(wC,{}):I,L?null:T]})]}))}var ple=Ce.forwardRef(hle),f_=ple;f_.Meta=p5;f_.Grid=g5;f_.displayName="Card";var BL=f_,mle="__lodash_hash_undefined__";function gle(n){return this.__data__.set(n,mle),this}var vle=gle;function yle(n){return this.__data__.has(n)}var xle=yle,_le=IT,ble=vle,wle=xle;function f0(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new _le;++e<t;)this.add(n[e])}f0.prototype.add=f0.prototype.push=ble;f0.prototype.has=wle;var Sle=f0;function Cle(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var Mle=Cle;function Ele(n,e){return n.has(e)}var Tle=Ele,Ole=Sle,Ple=Mle,Ale=Tle,Rle=1,Ile=2;function Nle(n,e,t,r,i,o){var a=t&Rle,s=n.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(n),c=o.get(e);if(u&&c)return u==e&&c==n;var d=-1,h=!0,m=t&Ile?new Ole:void 0;for(o.set(n,e),o.set(e,n);++d<s;){var g=n[d],v=e[d];if(r)var y=a?r(v,g,d,e,n,o):r(g,v,d,n,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!Ple(e,function(x,_){if(!Ale(m,_)&&(g===x||i(g,x,t,r,o)))return m.push(_)})){h=!1;break}}else if(!(g===v||i(g,v,t,r,o))){h=!1;break}}return o.delete(n),o.delete(e),h}var y5=Nle;function Lle(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var Dle=Lle;function kle(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var Fle=kle,UL=jx,HL=Nae,zle=VB,Ble=y5,Ule=Dle,Hle=Fle,Vle=1,Gle=2,Wle="[object Boolean]",$le="[object Date]",jle="[object Error]",Kle="[object Map]",Xle="[object Number]",Yle="[object RegExp]",qle="[object Set]",Zle="[object String]",Jle="[object Symbol]",Qle="[object ArrayBuffer]",eue="[object DataView]",VL=UL?UL.prototype:void 0,Dw=VL?VL.valueOf:void 0;function tue(n,e,t,r,i,o,a){switch(t){case eue:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Qle:return!(n.byteLength!=e.byteLength||!o(new HL(n),new HL(e)));case Wle:case $le:case Xle:return zle(+n,+e);case jle:return n.name==e.name&&n.message==e.message;case Yle:case Zle:return n==e+"";case Kle:var s=Ule;case qle:var l=r&Vle;if(s||(s=Hle),n.size!=e.size&&!l)return!1;var u=a.get(n);if(u)return u==e;r|=Gle,a.set(n,e);var c=Ble(s(n),s(e),r,i,o,a);return a.delete(n),c;case Jle:if(Dw)return Dw.call(n)==Dw.call(e)}return!1}var nue=tue;function rue(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var iue=rue,oue=iue,aue=Nd;function sue(n,e,t){var r=e(n);return aue(n)?r:oue(r,t(n))}var lue=sue;function uue(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var a=n[t];e(a,t,n)&&(o[i++]=a)}return o}var cue=uue;function fue(){return[]}var due=fue,hue=cue,pue=due,mue=Object.prototype,gue=mue.propertyIsEnumerable,GL=Object.getOwnPropertySymbols,vue=GL?function(n){return n==null?[]:(n=Object(n),hue(GL(n),function(e){return gue.call(n,e)}))}:pue,yue=vue,xue=Dae,_ue=xue(Object.keys,Object),bue=_ue,wue=zae,Sue=bue,Cue=Object.prototype,Mue=Cue.hasOwnProperty;function Eue(n){if(!wue(n))return Sue(n);var e=[];for(var t in Object(n))Mue.call(n,t)&&t!="constructor"&&e.push(t);return e}var Tue=Eue,Oue=Jse,Pue=Tue,Aue=ese;function Rue(n){return Aue(n)?Oue(n):Pue(n)}var Iue=Rue,Nue=lue,Lue=yue,Due=Iue;function kue(n){return Nue(n,Due,Lue)}var Fue=kue,WL=Fue,zue=1,Bue=Object.prototype,Uue=Bue.hasOwnProperty;function Hue(n,e,t,r,i,o){var a=t&zue,s=WL(n),l=s.length,u=WL(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:Uue.call(e,h)))return!1}var m=o.get(n),g=o.get(e);if(m&&g)return m==e&&g==n;var v=!0;o.set(n,e),o.set(e,n);for(var y=a;++d<l;){h=s[d];var x=n[h],_=e[h];if(r)var b=a?r(_,x,h,e,n,o):r(x,_,h,n,e,o);if(!(b===void 0?x===_||i(x,_,t,r,o):b)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var S=n.constructor,C=e.constructor;S!=C&&"constructor"in n&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof C=="function"&&C instanceof C)&&(v=!1)}return o.delete(n),o.delete(e),v}var Vue=Hue,Gue=Ld,Wue=Wa,$ue=Gue(Wue,"DataView"),jue=$ue,Kue=Ld,Xue=Wa,Yue=Kue(Xue,"Promise"),que=Yue,Zue=Ld,Jue=Wa,Que=Zue(Jue,"Set"),ece=Que,tce=Ld,nce=Wa,rce=tce(nce,"WeakMap"),ice=rce,CC=jue,MC=RT,EC=que,TC=ece,OC=ice,x5=Bm,Hd=HB,$L="[object Map]",oce="[object Object]",jL="[object Promise]",KL="[object Set]",XL="[object WeakMap]",YL="[object DataView]",ace=Hd(CC),sce=Hd(MC),lce=Hd(EC),uce=Hd(TC),cce=Hd(OC),bu=x5;(CC&&bu(new CC(new ArrayBuffer(1)))!=YL||MC&&bu(new MC)!=$L||EC&&bu(EC.resolve())!=jL||TC&&bu(new TC)!=KL||OC&&bu(new OC)!=XL)&&(bu=function(n){var e=x5(n),t=e==oce?n.constructor:void 0,r=t?Hd(t):"";if(r)switch(r){case ace:return YL;case sce:return $L;case lce:return jL;case uce:return KL;case cce:return XL}return e});var fce=bu,kw=Aae,dce=y5,hce=nue,pce=Vue,qL=fce,ZL=Nd,JL=c0.exports,mce=f5,gce=1,QL="[object Arguments]",e3="[object Array]",uv="[object Object]",vce=Object.prototype,t3=vce.hasOwnProperty;function yce(n,e,t,r,i,o){var a=ZL(n),s=ZL(e),l=a?e3:qL(n),u=s?e3:qL(e);l=l==QL?uv:l,u=u==QL?uv:u;var c=l==uv,d=u==uv,h=l==u;if(h&&JL(n)){if(!JL(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new kw),a||mce(n)?dce(n,e,t,r,i,o):hce(n,e,l,t,r,i,o);if(!(t&gce)){var m=c&&t3.call(n,"__wrapped__"),g=d&&t3.call(e,"__wrapped__");if(m||g){var v=m?n.value():n,y=g?e.value():e;return o||(o=new kw),i(v,y,t,r,o)}}return h?(o||(o=new kw),pce(n,e,t,r,i,o)):!1}var xce=yce,_ce=xce,n3=Um;function _5(n,e,t,r,i){return n===e?!0:n==null||e==null||!n3(n)&&!n3(e)?n!==n&&e!==e:_ce(n,e,t,r,_5,i)}var bce=_5,wce=bce;function Sce(n,e,t){t=typeof t=="function"?t:void 0;var r=t?t(n,e):void 0;return r===void 0?wce(n,e,void 0,t):!!r}var hs=Sce,Cce=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Mce=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function GT(n,e){e===void 0&&(e=[]);var t=A.exports.useRef(!1);A.exports.useEffect(function(){t.current?n():t.current=!0},Mce([],Cce(e),!1))}var Ece={type:"horizontal",orientation:"center"};function Tce(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,Ece,o==null?void 0:o.Divider),s=a.children,l=a.style,u=a.className,c=a.type,d=a.orientation,h=i("divider"),m=Ye(h,h+"-"+c,(t={},t[h+"-with-text"]=s,t[h+"-with-text-"+d]=s&&d,t),u);return M("div",{role:"separator",ref:e,className:m,style:l,children:s&&c==="horizontal"?M("span",{className:h+"-text "+h+"-text-"+d,children:s}):null})}var b5=A.exports.forwardRef(Tce);b5.displayName="Divider";var _s=b5,PC="data-focus-lock",w5="data-focus-lock-disabled",Oce="data-no-focus-lock",Pce="data-autofocus-inside",Ace="data-no-autofocus";function Rce(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Ice(n,e){var t=A.exports.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}function Nce(n,e){return Ice(e||null,function(t){return n.forEach(function(r){return Rce(r,t)})})}var Fw={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},AC=function(){return AC=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},AC.apply(this,arguments)};function S5(n){return n}function C5(n,e){e===void 0&&(e=S5);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var a=e(o,r);return t.push(a),function(){t=t.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;t.length;){var a=t;t=[],a.forEach(o)}t={push:function(s){return o(s)},filter:function(){return t}}},assignMedium:function(o){r=!0;var a=[];if(t.length){var s=t;t=[],s.forEach(o),a=t}var l=function(){var c=a;a=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(c){a.push(c),u()},filter:function(c){return a=a.filter(c),t}}}};return i}function WT(n,e){return e===void 0&&(e=S5),C5(n,e)}function Lce(n){n===void 0&&(n={});var e=C5(null);return e.options=AC({async:!0,ssr:!1},n),e}var M5=WT({},function(n){var e=n.target,t=n.currentTarget;return{target:e,currentTarget:t}}),E5=WT(),Dce=WT(),kce=Lce({async:!0}),Fce=[],$T=A.exports.forwardRef(function(e,t){var r,i=A.exports.useState(),o=i[0],a=i[1],s=A.exports.useRef(),l=A.exports.useRef(!1),u=A.exports.useRef(null),c=e.children,d=e.disabled,h=e.noFocusGuards,m=e.persistentFocus,g=e.crossFrame,v=e.autoFocus;e.allowTextSelection;var y=e.group,x=e.className,_=e.whiteList,b=e.hasPositiveIndices,S=e.shards,C=S===void 0?Fce:S,E=e.as,T=E===void 0?"div":E,P=e.lockProps,L=P===void 0?{}:P,I=e.sideCar,O=e.returnFocus,F=e.focusOptions,U=e.onActivation,k=e.onDeactivation,H=A.exports.useState({}),$=H[0],V=A.exports.useCallback(function(){u.current=u.current||document&&document.activeElement,s.current&&U&&U(s.current),l.current=!0},[U]),N=A.exports.useCallback(function(){l.current=!1,k&&k(s.current)},[k]);A.exports.useEffect(function(){d||(u.current=null)},[]);var W=A.exports.useCallback(function(de){var be=u.current;if(be&&be.focus){var ke=typeof O=="function"?O(be):O;if(ke){var he=typeof ke=="object"?ke:void 0;u.current=null,de?Promise.resolve().then(function(){return be.focus(he)}):be.focus(he)}}},[O]),ee=A.exports.useCallback(function(de){l.current&&M5.useMedium(de)},[]),j=E5.useMedium,G=A.exports.useCallback(function(de){s.current!==de&&(s.current=de,a(de))},[]),ne=Is((r={},r[w5]=d&&"disabled",r[PC]=y,r),L),ye=h!==!0,xe=ye&&h!=="tail",oe=Nce([t,G]);return A.exports.createElement(A.exports.Fragment,null,ye&&[A.exports.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:Fw}),b?A.exports.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:Fw}):null],!d&&A.exports.createElement(I,{id:$,sideCar:kce,observed:o,disabled:d,persistentFocus:m,crossFrame:g,autoFocus:v,whiteList:_,shards:C,onActivation:V,onDeactivation:N,returnFocus:W,focusOptions:F}),A.exports.createElement(T,Is({ref:oe},ne,{className:x,onBlur:j,onFocus:ee}),c),xe&&A.exports.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:Fw}))});$T.propTypes={};$T.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var T5=$T;function zce(n,e){function t(r){return r.displayName||r.name||"Component"}return function(i){var o=[],a;function s(){a=n(o.map(function(u){return u.props})),e(a)}var l=function(u){Gx(c,u);function c(){return u.apply(this,arguments)||this}c.peek=function(){return a};var d=c.prototype;return d.componentDidMount=function(){o.push(this),s()},d.componentDidUpdate=function(){s()},d.componentWillUnmount=function(){var m=o.indexOf(this);o.splice(m,1),s()},d.render=function(){return M(i,Be({},this.props))},c}(A.exports.PureComponent);return Ft(l,"displayName","SideEffect("+t(i)+")"),l}}var $a=function(n){for(var e=Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e},RC=function(n){return Array.isArray(n)?n:[n]},Bce=function(n){if(n.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(n,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},O5=function(n){return n.parentNode&&n.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?n.parentNode.host:n.parentNode},P5=function(n){return n===document||n&&n.nodeType===Node.DOCUMENT_NODE},Uce=function(n,e){return!n||P5(n)||!Bce(n)&&e(O5(n))},A5=function(n,e){var t=n.get(e);if(t!==void 0)return t;var r=Uce(e,A5.bind(void 0,n));return n.set(e,r),r},Hce=function(n,e){return n&&!P5(n)?Wce(n)?e(O5(n)):!1:!0},R5=function(n,e){var t=n.get(e);if(t!==void 0)return t;var r=Hce(e,R5.bind(void 0,n));return n.set(e,r),r},I5=function(n){return n.dataset},Vce=function(n){return n.tagName==="BUTTON"},N5=function(n){return n.tagName==="INPUT"},L5=function(n){return N5(n)&&n.type==="radio"},Gce=function(n){return!((N5(n)||Vce(n))&&(n.type==="hidden"||n.disabled))},Wce=function(n){var e=n.getAttribute(Ace);return![!0,"true",""].includes(e)},jT=function(n){var e;return Boolean(n&&((e=I5(n))===null||e===void 0?void 0:e.focusGuard))},d0=function(n){return!jT(n)},$ce=function(n){return Boolean(n)},jce=function(n,e){var t=n.tabIndex-e.tabIndex,r=n.index-e.index;if(t){if(!n.tabIndex)return 1;if(!e.tabIndex)return-1}return t||r},D5=function(n,e,t){return $a(n).map(function(r,i){return{node:r,index:i,tabIndex:t&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!e||r.tabIndex>=0}).sort(jce)},Kce=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],KT=Kce.join(","),Xce="".concat(KT,", [data-focus-guard]"),k5=function(n,e){var t;return $a(((t=n.shadowRoot)===null||t===void 0?void 0:t.children)||n.children).reduce(function(r,i){return r.concat(i.matches(e?Xce:KT)?[i]:[],k5(i))},[])},XT=function(n,e){return n.reduce(function(t,r){return t.concat(k5(r,e),r.parentNode?$a(r.parentNode.querySelectorAll(KT)).filter(function(i){return i===r}):[])},[])},Yce=function(n){var e=n.querySelectorAll("[".concat(Pce,"]"));return $a(e).map(function(t){return XT([t])}).reduce(function(t,r){return t.concat(r)},[])},YT=function(n,e){return $a(n).filter(function(t){return A5(e,t)}).filter(function(t){return Gce(t)})},r3=function(n,e){return e===void 0&&(e=new Map),$a(n).filter(function(t){return R5(e,t)})},IC=function(n,e,t){return D5(YT(XT(n,t),e),!0,t)},i3=function(n,e){return D5(YT(XT(n),e),!1)},qce=function(n,e){return YT(Yce(n),e)},tm=function(n,e){return(n.shadowRoot?tm(n.shadowRoot,e):Object.getPrototypeOf(n).contains.call(n,e))||$a(n.children).some(function(t){return tm(t,e)})},Zce=function(n){for(var e=new Set,t=n.length,r=0;r<t;r+=1)for(var i=r+1;i<t;i+=1){var o=n[r].compareDocumentPosition(n[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return n.filter(function(a,s){return!e.has(s)})},F5=function(n){return n.parentNode?F5(n.parentNode):n},qT=function(n){var e=RC(n);return e.filter(Boolean).reduce(function(t,r){var i=r.getAttribute(PC);return t.push.apply(t,i?Zce($a(F5(r).querySelectorAll("[".concat(PC,'="').concat(i,'"]:not([').concat(w5,'="disabled"])')))):[r]),t},[])},z5=function(n){return n.activeElement?n.activeElement.shadowRoot?z5(n.activeElement.shadowRoot):n.activeElement:void 0},ZT=function(){return document.activeElement?document.activeElement.shadowRoot?z5(document.activeElement.shadowRoot):document.activeElement:void 0},Jce=function(n){return n===document.activeElement},Qce=function(n){return Boolean($a(n.querySelectorAll("iframe")).some(function(e){return Jce(e)}))},B5=function(n){var e=document&&ZT();return!e||e.dataset&&e.dataset.focusGuard?!1:qT(n).some(function(t){return tm(t,e)||Qce(t)})},efe=function(){var n=document&&ZT();return n?$a(document.querySelectorAll("[".concat(Oce,"]"))).some(function(e){return tm(e,n)}):!1},tfe=function(n,e){return e.filter(L5).filter(function(t){return t.name===n.name}).filter(function(t){return t.checked})[0]||n},JT=function(n,e){return L5(n)&&n.name?tfe(n,e):n},nfe=function(n){var e=new Set;return n.forEach(function(t){return e.add(JT(t,n))}),n.filter(function(t){return e.has(t)})},o3=function(n){return n[0]&&n.length>1?JT(n[0],n):n[0]},a3=function(n,e){return n.length>1?n.indexOf(JT(n[e],n)):e},U5="NEW_FOCUS",rfe=function(n,e,t,r){var i=n.length,o=n[0],a=n[i-1],s=jT(t);if(!(t&&n.indexOf(t)>=0)){var l=t!==void 0?e.indexOf(t):-1,u=r?e.indexOf(r):l,c=r?n.indexOf(r):-1,d=l-u,h=e.indexOf(o),m=e.indexOf(a),g=nfe(e),v=t!==void 0?g.indexOf(t):-1,y=v-(r?g.indexOf(r):l),x=a3(n,0),_=a3(n,i-1);if(l===-1||c===-1)return U5;if(!d&&c>=0)return c;if(l<=h&&s&&Math.abs(d)>1)return _;if(l>=m&&s&&Math.abs(d)>1)return x;if(d&&Math.abs(y)>1)return c;if(l<=h)return _;if(l>m)return x;if(d)return Math.abs(d)>1?c:(i+c+d)%i}},NC=function(n,e){return e===void 0&&(e=[]),e.push(n),n.parentNode&&NC(n.parentNode.host||n.parentNode,e),e},zw=function(n,e){for(var t=NC(n),r=NC(e),i=0;i<t.length;i+=1){var o=t[i];if(r.indexOf(o)>=0)return o}return!1},H5=function(n,e,t){var r=RC(n),i=RC(e),o=r[0],a=!1;return i.filter(Boolean).forEach(function(s){a=zw(a||s,s)||a,t.filter(Boolean).forEach(function(l){var u=zw(o,l);u&&(!a||tm(u,a)?a=u:a=zw(u,a))})}),a},ife=function(n,e){return n.reduce(function(t,r){return t.concat(qce(r,e))},[])},ofe=function(n){return function(e){var t;return e.autofocus||!!(!((t=I5(e))===null||t===void 0)&&t.autofocus)||n.indexOf(e)>=0}},afe=function(n,e){var t=new Map;return e.forEach(function(r){return t.set(r.node,r)}),n.map(function(r){return t.get(r)}).filter($ce)},sfe=function(n,e){var t=document&&ZT(),r=qT(n).filter(d0),i=H5(t||n,n,r),o=new Map,a=i3(r,o),s=IC(r,o).filter(function(m){var g=m.node;return d0(g)});if(!(!s[0]&&(s=a,!s[0]))){var l=i3([i],o).map(function(m){var g=m.node;return g}),u=afe(l,s),c=u.map(function(m){var g=m.node;return g}),d=rfe(c,l,t,e);if(d===U5){var h=r3(a.map(function(m){var g=m.node;return g})).filter(ofe(ife(r,o)));return{node:h&&h.length?o3(h):o3(r3(c))}}return d===void 0?d:u[d]}},lfe=function(n){var e=qT(n).filter(d0),t=H5(n,n,e),r=new Map,i=IC([t],r,!0),o=IC(e,r).filter(function(a){var s=a.node;return d0(s)}).map(function(a){var s=a.node;return s});return i.map(function(a){var s=a.node,l=a.index;return{node:s,index:l,lockItem:o.indexOf(s)>=0,guard:jT(s)}})},ufe=function(n,e){"focus"in n&&n.focus(e),"contentWindow"in n&&n.contentWindow&&n.contentWindow.focus()},Bw=0,Uw=!1,cfe=function(n,e,t){t===void 0&&(t={});var r=sfe(n,e);if(!Uw&&r){if(Bw>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Uw=!0,setTimeout(function(){Uw=!1},1);return}Bw++,ufe(r.node,t.focusOptions),Bw--}},V5=cfe;function G5(n){var e=window,t=e.setImmediate;typeof t<"u"?t(n):setTimeout(n,1)}var ffe=function(){return document&&document.activeElement===document.body},dfe=function(){return ffe()||efe()},$f=null,Pf=null,jf=null,nm=!1,hfe=function(){return!0},pfe=function(e){return($f.whiteList||hfe)(e)},mfe=function(e,t){jf={observerNode:e,portaledElement:t}},gfe=function(e){return jf&&jf.portaledElement===e};function s3(n,e,t,r){var i=null,o=n;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else if(a.lockItem){if(o!==n)return;i=null}else break}while((o+=t)!==e);i&&(i.node.tabIndex=0)}var vfe=function(e){return e&&"current"in e?e.current:e},yfe=function(e){return e?Boolean(nm):nm==="meanwhile"},xfe=function n(e,t,r){return t&&(t.host===e&&(!t.activeElement||r.contains(t.activeElement))||t.parentNode&&n(e,t.parentNode,r))},_fe=function(e,t){return t.some(function(r){return xfe(e,r,r)})},h0=function(){var e=!1;if($f){var t=$f,r=t.observed,i=t.persistentFocus,o=t.autoFocus,a=t.shards,s=t.crossFrame,l=t.focusOptions,u=r||jf&&jf.portaledElement,c=document&&document.activeElement;if(u){var d=[u].concat(a.map(vfe).filter(Boolean));if((!c||pfe(c))&&(i||yfe(s)||!dfe()||!Pf&&o)&&(u&&!(B5(d)||c&&_fe(c,d)||gfe(c))&&(document&&!Pf&&c&&!o?(c.blur&&c.blur(),document.body.focus()):(e=V5(d,Pf,{focusOptions:l}),jf={})),nm=!1,Pf=document&&document.activeElement),document){var h=document&&document.activeElement,m=lfe(d),g=m.map(function(v){var y=v.node;return y}).indexOf(h);g>-1&&(m.filter(function(v){var y=v.guard,x=v.node;return y&&x.dataset.focusAutoGuard}).forEach(function(v){var y=v.node;return y.removeAttribute("tabIndex")}),s3(g,m.length,1,m),s3(g,-1,-1,m))}}}return e},W5=function(e){h0()&&e&&(e.stopPropagation(),e.preventDefault())},QT=function(){return G5(h0)},bfe=function(e){var t=e.target,r=e.currentTarget;r.contains(t)||mfe(r,t)},wfe=function(){return null},$5=function(){nm="just",setTimeout(function(){nm="meanwhile"},0)},Sfe=function(){document.addEventListener("focusin",W5),document.addEventListener("focusout",QT),window.addEventListener("blur",$5)},Cfe=function(){document.removeEventListener("focusin",W5),document.removeEventListener("focusout",QT),window.removeEventListener("blur",$5)};function Mfe(n){return n.filter(function(e){var t=e.disabled;return!t})}function Efe(n){var e=n.slice(-1)[0];e&&!$f&&Sfe();var t=$f,r=t&&e&&e.id===t.id;$f=e,t&&!r&&(t.onDeactivation(),n.filter(function(i){var o=i.id;return o===t.id}).length||t.returnFocus(!e)),e?(Pf=null,(!r||t.observed!==e.observed)&&e.onActivation(),h0(),G5(h0)):(Cfe(),Pf=null)}M5.assignSyncMedium(bfe);E5.assignMedium(QT);Dce.assignMedium(function(n){return n({moveFocusInside:V5,focusInside:B5})});var Tfe=zce(Mfe,Efe)(wfe),j5=A.exports.forwardRef(function(e,t){return A.exports.createElement(T5,Is({sideCar:Tfe,ref:t},e))}),K5=T5.propTypes||{};K5.sideCar;dx(K5,["sideCar"]);j5.propTypes={};var Ofe=j5,Pfe=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Afe=function(n){Pfe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.container=null,t}return e.prototype.componentDidMount=function(){var t=this;this.createContainer(),this.timer=setTimeout(function(){t.container||t.createContainer()})},e.prototype.componentWillUnmount=function(){clearTimeout(this.timer)},e.prototype.createContainer=function(){var t=this.props.getContainer;this.container=t&&t(),this.forceUpdate()},e.prototype.render=function(){var t=this.props.children;return this.container?Ts.createPortal(t,this.container):null},e}(A.exports.Component),Rfe=Afe,Ife=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LC=globalThis&&globalThis.__assign||function(){return LC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},LC.apply(this,arguments)},Nfe=function(n){Ife(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.componentWillUnmount=function(){this.instance=null},e.prototype.render=function(){var t=this,r=this.props,i=r.forceRender,o=r.visible;return i||o||this.instance?M(Rfe,Be({},LC({ref:function(a){return t.instance=a}},this.props))):null},e.displayName="Portal",e.defaultProps={getContainer:function(){return document.body}},e}(A.exports.Component),Lfe=Nfe;function Dfe(n,e){var t=e.hidden,r=A.exports.useRef(!1),i=A.exports.useRef({}),o=function(l){return l.tagName==="BODY"?window.innerWidth-(document.body.clientWidth||document.documentElement.clientWidth):l.offsetWidth-l.clientWidth},a=function(){var l=n();if(l&&l.style.overflow!=="hidden"){var u=l.style;r.current=!0;var c=o(l);c&&(i.current.width=u.width,l.style.width="calc("+(l.style.width||"100%")+" - "+c+"px)"),i.current.overflow=u.overflow,l.style.overflow="hidden"}},s=function(){if(r.current&&n()){var l=n(),u=i.current;Object.keys(u).forEach(function(c){return l.style[c]=u[c]})}r.current=!1,i.current={}};return A.exports.useEffect(function(){return t?a():s(),function(){s()}},[n,t]),[s,a]}var X5=A.exports.createContext({}),Af=globalThis&&globalThis.__assign||function(){return Af=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Af.apply(this,arguments)},kfe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Ffe={span:24};function l3(n){return typeof n=="string"&&/\d+[px|%|em|rem|]{1}/.test(n)?"0 0 "+n:n}function zfe(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,Ffe,o==null?void 0:o["Grid.Col"]),s=A.exports.useContext(X5),l=s.gutter,u=s.div,c=a.className,d=a.style,h=a.children,m=a.span,g=a.offset,v=a.order,y=a.pull,x=a.push,_=a.xs,b=a.sm,S=a.md,C=a.lg,E=a.xl,T=a.xxl,P=a.flex,L=kfe(a,["className","style","children","span","offset","order","pull","push","xs","sm","md","lg","xl","xxl","flex"]);function I(N,W){var ee={xs:_,sm:b,md:S,lg:C,xl:E,xxl:T};return Object.keys(ee).forEach(function(j){var G=ee[j];rn(G)?G>=0&&(W[N+"-"+j+"-"+G]=!0):Dt(G)&&(W[N+"-"+j+"-"+G.span]=G.span,W[N+"-"+j+"-offset-"+G.offset]=G.offset,W[N+"-"+j+"-order-"+G.order]=G.order,W[N+"-"+j+"-pull-"+G.pull]=G.pull,W[N+"-"+j+"-push-"+G.push]=G.push)}),W}var O=i("col"),F=(t={},t[""+O]=!u,t[O+"-order-"+v]=v,t[O+"-"+m]=!u&&!_&&!b&&!S&&!C&&!E&&!T,t[O+"-offset-"+g]=g,t[O+"-pull-"+y]=y,t[O+"-push-"+x]=x,t);F=I(O,F);var U=Ye(P?O:F,c),k={};if(Array.isArray(l)&&!u){var H=l[0]&&l[0]/2||0,$=l[1]&&l[1]/2||0;H&&(k.paddingLeft=H,k.paddingRight=H),$&&(k.paddingTop=$,k.paddingBottom=$)}var V=A.exports.useMemo(function(){return l3(P)?{flex:l3(P)}:{}},[P]);return M("div",lt(Be({},Af({ref:e},L,{style:Af(Af(Af({},d),k),V),className:U})),{children:h}))}var Y5=A.exports.forwardRef(zfe);Y5.displayName="Col";var u3=Y5,Cp=globalThis&&globalThis.__assign||function(){return Cp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Cp.apply(this,arguments)},Bfe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Ufe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Hfe={gutter:0,align:"start",justify:"start"};function Vfe(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,Hfe,o==null?void 0:o["Grid.Row"]),s=a.className,l=a.style,u=a.children,c=a.div,d=a.align,h=a.justify,m=a.gutter,g=Bfe(a,["className","style","children","div","align","justify","gutter"]),v=Ufe(A.exports.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),y=v[0],x=v[1],_=A.exports.useRef();A.exports.useEffect(function(){return _.current=s0.subscribe(function(O){(!Array.isArray(m)&&typeof m=="object"||Array.isArray(m)&&(typeof m[0]=="object"||typeof m[1]=="object"))&&x(O)}),function(){s0.unsubscribe(_.current)}},[]);function b(O){var F=0;if(typeof O=="object")for(var U=0;U<IL.length;U++){var k=IL[U];if(y[k]&&O[k]!==void 0){F=O[k];break}}else F=O;return F}var S=i("row"),C=Ye((t={},t[""+S]=!c,t[S+"-align-"+d]=d,t[S+"-justify-"+h]=h,t),s),E={},T=b(Array.isArray(m)?m[0]:m),P=b(Array.isArray(m)?m[1]:0);if((T||P)&&!c){var L=-T/2,I=-P/2;L&&(E.marginLeft=L,E.marginRight=L),I&&(E.marginTop=I,E.marginBottom=I)}return M("div",lt(Be({},Cp({ref:e},zn(g,["gutter"]),{style:Cp(Cp({},l),E),className:C})),{children:M(X5.Provider,{value:{gutter:[T,P],div:c},children:u})}))}var q5=A.exports.forwardRef(Vfe);q5.displayName="Row";var c3=q5;function eO(n,e){return e===void 0&&(e=15),+parseFloat(Number(n).toPrecision(e))}function Ba(n){var e=n.toString().split(/[eE]/),t=(e[0].split(".")[1]||"").length-+(e[1]||0);return t>0?t:0}function rm(n){if(n.toString().indexOf("e")===-1)return Number(n.toString().replace(".",""));var e=Ba(n);return e>0?eO(Number(n)*Math.pow(10,e)):Number(n)}function DC(n){Z5&&(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)&&console.warn(n+" is beyond boundary when transfer to integer, the results may not be accurate")}function d_(n,e){var t=n[0],r=n[1],i=n.slice(2),o=e(t,r);return i.forEach(function(a){o=e(o,a)}),o}function Uo(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length>2)return d_(n,Uo);var t=n[0],r=n[1],i=rm(t),o=rm(r),a=Ba(t)+Ba(r),s=i*o;return DC(s),s/Math.pow(10,a)}function Vd(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length>2)return d_(n,Vd);var t=n[0],r=n[1],i=Math.pow(10,Math.max(Ba(t),Ba(r)));return(Uo(t,i)+Uo(r,i))/i}function im(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length>2)return d_(n,im);var t=n[0],r=n[1],i=Math.pow(10,Math.max(Ba(t),Ba(r)));return(Uo(t,i)-Uo(r,i))/i}function Vm(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length>2)return d_(n,Vm);var t=n[0],r=n[1],i=rm(t),o=rm(r);return DC(i),DC(o),Uo(i/o,eO(Math.pow(10,Ba(r)-Ba(t))))}function Gfe(n,e){var t=Math.pow(10,e),r=Vm(Math.round(Math.abs(Uo(n,t))),t);return n<0&&r!==0&&(r=Uo(r,-1)),r}var Z5=!0;function Wfe(n){n===void 0&&(n=!0),Z5=n}var p0={strip:eO,plus:Vd,minus:im,times:Uo,divide:Vm,round:Gfe,digitLength:Ba,float2Fixed:rm,enableBoundaryChecking:Wfe};function f3(n,e){var t=Math.pow(10,e);return(Math.round(n*t)/t).toFixed(e)}function $fe(n){var e=n.toString();if(Number.isNaN(+n)||!e.includes("e"))return e;try{var t=n<0,r=Math.abs(+n),i=p0.digitLength(r),o=p0.float2Fixed(r),a=o.toString().replace(/e\+(\d+)/i,function(s,l){return new Array(+l).fill(0).join("")});return(t?"-":"")+(i===0?a:a.replace(new RegExp("\\d{1,"+i+"}$"),function(s){var l=(""+new Array(i).fill(0).join("")+s).slice(-i);return(a.length<=i?0:"")+"."+l}))}catch{}return e}var m0=globalThis&&globalThis.__assign||function(){return m0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},m0.apply(this,arguments)},jfe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},cv=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};p0.enableBoundaryChecking(!1);var Kfe=200,Xfe=1e3,Yfe={max:1/0,min:-1/0,step:1,mode:"embed",parser:function(n){return n.replace(/[^\w\.-]+/g,"")}};function qfe(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.size,a=r.componentConfig,s=cn(n,Yfe,a==null?void 0:a.InputNumber),l=s.className,u=s.style,c=s.defaultValue,d=s.disabled,h=s.error,m=s.readOnly,g=s.placeholder,v=s.hideControl,y=s.suffix,x=s.prefix,_=s.icons,b=s.mode,S=s.size,C=s.step,E=s.precision,T=s.min,P=s.max,L=s.parser,I=s.formatter,O=s.onBlur,F=s.onFocus,U=s.onChange,k=s.onKeyDown,H=jfe(s,["className","style","defaultValue","disabled","error","readOnly","placeholder","hideControl","suffix","prefix","icons","mode","size","step","precision","min","max","parser","formatter","onBlur","onFocus","onChange","onKeyDown"]),$=i("input-number"),V=S||o,N=function(){if(rn(E)){var ue=(""+C).split(".")[1],Me=ue&&ue.length||0;return Math.max(Me,E)}return null}(),W=cv(A.exports.useState("defaultValue"in s?c:void 0),2),ee=W[0],j=W[1],G=function(){var ue="value"in s?s.value:ee;return typeof ue=="string"&&ue!==""?+ue:ue}(),ne=cv(A.exports.useState(""),2),ye=ne[0],xe=ne[1],oe=cv(A.exports.useState(!1),2),de=oe[0],be=oe[1],ke=cv(A.exports.useState(!1),2),he=ke[0],Le=ke[1],le=G===""||G===void 0||G===null,ce=A.exports.useRef(null),we=A.exports.useRef(null),De=A.exports.useRef(!1);A.exports.useImperativeHandle(e,function(){return we.current},[]);var pe=function(ue){j(ue);var Me=rn(+ue)?+ue:void 0;Me!==G&&U&&U(Me)},Oe=function(){ce.current&&clearTimeout(ce.current),ce.current=null},Te=A.exports.useCallback(function(ue){var Me=Number(ue);return!ue&&ue!==0?Me=void 0:rn(Me)||(Me=ue==="-"?ue:""),Me<T&&(Me=T),Me>P&&(Me=P),rn(Me)?rn(N)?Number(f3(Me,N)):Me:void 0},[T,P,N]);A.exports.useEffect(function(){return function(){return Oe()}},[]),A.exports.useEffect(function(){De.current=!1},[s.value]),A.exports.useEffect(function(){var ue=rn(T)&&G<T||rn(P)&&G>P;ue&&De.current&&pe(Te(G)),be(ue)},[T,P,G,Te]);var je=function(ue,Me,Ue){if(Ue===void 0&&(Ue=!1),ue.persist(),ue.preventDefault(),Le(!1),!d){var K=T===-1/0?0:T;if(le||(K=p0[Me](G,C)),pe(Te(K)),we.current&&we.current.focus(),Ue){var Ne=ce.current===null;ce.current=setTimeout(function(){return ue.target.dispatchEvent(ue.nativeEvent)},Ne?Xfe:Kfe)}}},it=function(){var ue;return he?ue=ye:rn(G)&&rn(N)?ue=f3(G,N):G==null?ue="":ue=$fe(G),I?I(ue):ue},nt={onChange:function(ue){Le(!0);var Me=ue.trim().replace(//g,".");if(Me=L?L(Me):Me,rn(+Me)||Me==="-"||!Me||Me==="."){var Ue=Te(Me);xe(Me),pe(Ue)}},onKeyDown:function(ue){ue.stopPropagation();var Me=ue.key;Me===gp.key?je(ue,"minus"):Me===mp.key&&je(ue,"plus"),Oe(),k&&k(ue)},onFocus:function(ue){var Me,Ue;De.current=!0,xe((Ue=(Me=we.current)===null||Me===void 0?void 0:Me.dom)===null||Ue===void 0?void 0:Ue.value),F&&F(ue)},onBlur:function(ue){pe(Te(G)),Le(!1),O&&O(ue)}},q=function(ue){return m?{}:{onMouseDown:function(Me){return je(Me,ue,!0)},onMouseLeave:Oe,onMouseUp:Oe}},z=!v&&b==="button",re=!v&&!m&&b==="embed",_e=function(ue,Me){var Ue;return M("div",lt(Be({},m0({className:Ye($+"-step-button",(Ue={},Ue[$+"-step-button-disabled"]=d||(ue==="plus"?+G>=+P:+G<=+T),Ue))},q(ue))),{children:Me}))};return M(zs,Be({},m0({role:"spinbutton","aria-valuemax":P,"aria-valuemin":T,"aria-valuenow":G},zn(H,["allowClear"]),nt,{style:u,className:Ye($,$+"-mode-"+b,$+"-size-"+V,(t={},t[$+"-readonly"]=m,t[$+"-illegal-value"]=!le&&de,t),l),ref:we,size:V,error:h,disabled:d,readOnly:m,value:it(),placeholder:g,prefix:x&&M("div",{className:$+"-prefix",children:x}),suffix:We(Ut,{children:[re&&We("div",{className:$+"-step-layer",children:[_e("plus",_&&_.up?_.up:M(FE,{})),_e("minus",_&&_.down?_.down:M(Ad,{}))]}),y&&M("div",{className:$+"-suffix",children:y})]}),addBefore:z&&_e("minus",_&&_.minus?_.minus:M(rZ,{})),addAfter:z&&_e("plus",_&&_.plus?_.plus:M(KE,{}))})))}var J5=Ce.forwardRef(qfe);J5.displayName="InputNumber";var om=J5,Mp=globalThis&&globalThis.__assign||function(){return Mp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Mp.apply(this,arguments)},Qi;(function(n){n[n.previous=0]="previous",n[n.next=1]="next"})(Qi||(Qi={}));function fv(n){var e,t=A.exports.useContext(wt).locale,r=function(v){var y=n.pageNum,x=n.onClick,_=n.disabled;v.currentTarget.dataset.active!=="true"&&(v.stopPropagation(),_||x&&x(y))},i=n.pageNum,o=n.current,a=n.rootPrefixCls,s=n.pageItemStyle,l=n.activePageItemStyle,u=n.itemRender,c=a+"-item",d=o===i,h=Ye(c,d?c+"-active":""),m=s;d&&(m=Mp(Mp({},m),l));var g=d?{"aria-current":!0}:{};return M("li",lt(Be({},Mp({style:m,className:h,onClick:r,"aria-label":(e=t.Pagination.currentPage)===null||e===void 0?void 0:e.replace("{0}",i)},g)),{children:u?u(i,"page",i):i}))}function kC(n,e){switch(n){case"prev":return e&&e.prev?e.prev:M(Xp,{});case"next":return e&&e.next?e.next:M(Yp,{});case"more":return e&&e.more?e.more:M(eT,{});default:return null}}var Hw=function(n){var e,t,r=A.exports.useContext(wt).locale,i=n.rootPrefixCls,o=n.current,a=n.allPages,s=n.jumpPage,l=n.icons,u=n.disabled,c=n.pageItemStyle,d=n.itemRender,h=a>0?1:0,m=Math.min(a,Math.max(h,o+s)),g=i+"-item "+i+"-item-jumper",v=Ye(g),y=function(){!u&&n.onClick&&n.onClick(m)},x=kC("more",l),_=s>0?(e=r.Pagination.nextSomePages)===null||e===void 0?void 0:e.replace("{0}",s):(t=r.Pagination.prevSomePages)===null||t===void 0?void 0:t.replace("{0}",-s);return M("li",{style:c,className:v,onClick:y,"aria-label":_,children:d?d(void 0,"more",x):x})},dv=function(n){var e,t=A.exports.useContext(wt).locale,r=n.rootPrefixCls,i=n.current,o=n.allPages,a=n.type,s=n.icons,l=n.disabled,u=n.pageItemStyle,c=n.itemRender,d=r+"-item",h=a===Qi.previous?kC("prev",s):kC("next",s),m=!1;o===0?m=!0:a===Qi.previous?m=i<=1:m=i===o;var g=l||m,v=i+(a===Qi.previous?-1:1);v=Math.max(0,Math.min(o,v));var y=Qi.previous===a?"prev":"next",x=Ye(d,d+"-"+y,(e={},e[d+"-disabled"]=g,e)),_=function(){g||n.onClick&&n.onClick(v)};return M("li",{style:u,className:x,onClick:_,"aria-label":t.Pagination[y],children:c?c(void 0,y,h):h})},FC=globalThis&&globalThis.__assign||function(){return FC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},FC.apply(this,arguments)},Zfe=function(){},Jfe=hd.Option,Qfe=[10,20,30,40,50];function ede(n){var e=A.exports.useRef(),t=A.exports.useContext(wt).locale,r=n.sizeCanChange,i=r===void 0?!1:r,o=n.onPageSizeChange,a=o===void 0?Zfe:o,s=n.rootPrefixCls,l=n.sizeOptions,u=l===void 0?Qfe:l,c=n.pageSize,d=c===void 0?10:c,h=n.size,m=n.selectProps,g=n.disabled;return i&&M("div",{ref:e,className:s+"-option","aria-label":t.Pagination.pageSize,children:M(hd,lt(Be({},FC({value:u.indexOf(d)!==-1?d:u[0],onChange:function(v){a(v)},size:h,getPopupContainer:function(){return e.current},disabled:g},m)),{children:u.map(function(v){return M(Jfe,{value:v,children:v+" "+t.Pagination.countPerPage},v)})}))})}var d3=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function h3(n){var e=n.simple?n.current:void 0,t=A.exports.useContext(wt).locale,r=d3(A.exports.useState(e),2),i=r[0],o=r[1],a=d3(A.exports.useState(e),2),s=a[0],l=a[1],u=A.exports.useRef();A.exports.useEffect(function(){n.current!==s&&n.simple&&(o(n.current),l(n.current))},[n.current,n.simple,s]);var c=function(b){var S=parseInt(b,10);o(isNaN(S)?void 0:S)},d=function(){var b=n.onPageChange,S=n.totalPages,C=n.current,E=n.simple;if(!Ra(i)){if(i===C&&!E){o(void 0);return}var T=isNaN(Number(i))?C:Number(i);T<1?T=1:T>S&&(T=S),o(E?T:void 0),Xt(b)&&b(T)}},h=function(){var b=u.current.dom;String(i)&&b&&b.setSelectionRange(0,String(i).length)},m=n.rootPrefixCls,g=n.simple,v=n.totalPages,y=n.size,x=n.disabled,_=m+"-jumper";return We("div",{className:""+_,children:[!g&&M("span",{className:_+"-text-goto",children:t.Pagination.goto}),M(zs,{ref:function(b){return u.current=b},className:_+"-input",value:Ra(i)?void 0:i.toString(),size:y,disabled:x||!v,onChange:c,onPressEnter:d,onFocus:h,onBlur:d}),g&&We(Ut,{children:[M("span",{className:_+"-separator",children:"/"}),M("span",{children:v})]})]})}var qi=globalThis&&globalThis.__assign||function(){return qi=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qi.apply(this,arguments)},hv=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},tde=1,nde=10;function Vw(n,e){return Math.ceil(e/n)}function rde(n,e){var t=0,r=Math.floor(e/2)-1,i=Math.max(n,t);return Math.min(i,r)}var ide={total:0,pageSizeChangeResetCurrent:!0,bufferSize:2};function ode(n,e){var t,r,i=A.exports.useContext(wt),o=i.getPrefixCls,a=i.size,s=i.locale,l=i.componentConfig,u=cn(n,ide,l==null?void 0:l.Pagination),c=u.total,d=u.pageSize,h=u.current,m=u.showMore,g=u.pageSizeChangeResetCurrent,v=u.defaultCurrent,y=u.defaultPageSize,x=hv(A.exports.useState(h||v||tde),2),_=x[0],b=x[1],S=hv(A.exports.useState(d||y||nde),2),C=S[0],E=S[1],T=hv(A.exports.useState(c),2),P=T[0],L=T[1],I=hv(A.exports.useState(!!m),2),O=I[0],F=I[1];h&&!u.onChange&&console.warn("Warning: you have provide current prop for pagination but without onChange handler , this will cause no-change when you change page. "),A.exports.useEffect(function(){if("total"in u&&c!==P&&L(c),!!m!==O&&F(!!m),d&&d!==C){E(d);var Z=Vw(d,c),ve=_>Z?Z:_;ve!==_&&b(ve)}h&&h!==_&&b(h)},[d,c,m,h]);var U=function(Z,ve){Z===void 0&&(Z=_),ve===void 0&&(ve=C);var Ae=u.onChange;Ae&&Ae(Z,ve)},k=function(Z){var ve=u.onPageSizeChange,Ae=Vw(Z,P),qe={pageSize:Z};g?qe.current=1:qe.current=_>Ae?Ae:_,"pageSize"in u||E(qe.pageSize),!("current"in u)&&_!==qe.current&&b(qe.current),ve&&ve(Z,qe.current),U(g?1:qe.current,Z)},H=function(Z){"current"in u||b(Z),U(Z)},$=u.className,V=u.style,N=u.pageItemStyle,W=u.activePageItemStyle,ee=u.showTotal,j=u.sizeCanChange,G=u.sizeOptions,ne=u.simple,ye=u.mini,xe=u.showJumper,oe=u.selectProps,de=u.icons,be=u.disabled,ke=u.itemRender,he=u.hideOnSinglePage,Le=u.size||a,le=o("pagination"),ce=ye?"mini":Le,we=Ye(le,le+"-size-"+ce,(t={},t[le+"-simple"]=ne,t[le+"-disabled"]=be,t),$),De,pe=[],Oe=Vw(C,P),Te=rde(u.bufferSize,Oe);if(he&&Oe<=1)return null;var je={onClick:H,rootPrefixCls:le,simple:ne,current:_,allPages:Oe,icons:de,disabled:be,pageItemStyle:N,activePageItemStyle:W,itemRender:ke};if(ne){var it=le+"-item-simple";De=We("ul",{className:le+"-list",children:[M(dv,Be({},qi({key:"previous"},je,{type:Qi.previous}))),M("li",{className:it+"-pager",children:M(h3,{disabled:be,rootPrefixCls:le,totalPages:Oe,current:_,onPageChange:H,simple:!0,size:ce})}),M(dv,Be({},qi({key:"next"},je,{type:Qi.next})))]})}else{var nt=3+Te,q=Oe-2-Te;if(Oe<=4+Te*2||_===nt&&_===q)for(var z=1;z<=Oe;z++)pe.push(M(fv,Be({},qi({},je,{key:z,pageNum:z}))));else{var re=1,_e=Oe,ue=!0,Me=!0;_>nt&&_<q?(_e=_+Te,re=_-Te):_<=nt?(ue=!1,re=1,_e=Math.max(nt,Te+_)):_>=q&&(Me=!1,_e=Oe,re=Math.min(q,_-Te));for(var z=re;z<=_e;z++)pe.push(M(fv,Be({},qi({key:z,pageNum:z},je))));var Ue=M(Hw,Be({},qi({},je,{key:re-1,type:Qi.previous,jumpPage:-(Te*2+1)}))),K=M(Hw,Be({},qi({},je,{key:_e+1,type:Qi.next,jumpPage:Te*2+1}))),Ne=M(fv,Be({},qi({key:1,pageNum:1},je))),at=M(fv,Be({},qi({},je,{key:Oe,pageNum:Oe})));ue&&(pe[0]=Ce.cloneElement(pe[0],{className:le+"-item-after-pre"}),pe.unshift(Ue),pe.unshift(Ne)),Me&&(pe[pe.length-1]=Ce.cloneElement(pe[pe.length-1],{className:le+"-item-before-next"}),pe.push(K),pe.push(at))}De=We("ul",{className:le+"-list",children:[M(dv,Be({},qi({},je,{key:"previous",type:Qi.previous}))),pe,O&&M(Hw,Be({},qi({},je,{key:Oe+1,type:Qi.next,jumpPage:Te*2+1}))),M(dv,Be({},qi({key:"next"},je,{type:Qi.next})))]})}var Ke=null;return typeof ee=="boolean"&&ee&&(Ke=M("div",{className:le+"-total-text",children:(r=s.Pagination.total)===null||r===void 0?void 0:r.replace("{0}",P)})),typeof ee=="function"&&(Ke=M("div",{className:le+"-total-text",children:ee(P,[(_-1)*C+1,_*C])})),We("div",{className:we,style:V,ref:e,children:[Ke,De,M(ede,{disabled:be,rootPrefixCls:le,sizeCanChange:j,sizeOptions:G,onPageSizeChange:k,pageSize:C,size:ce,selectProps:oe}),!ne&&xe&&M(h3,{disabled:be,rootPrefixCls:le,totalPages:Oe,current:_,onPageChange:H,size:ce})]})}var Q5=A.exports.forwardRef(ode);Q5.displayName="Pagination";var ade=Q5,zC=globalThis&&globalThis.__assign||function(){return zC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},zC.apply(this,arguments)},sde=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function lde(n,e){var t=A.exports.useContext(wt).getPrefixCls,r=n.className,i=n.avatar,o=n.title,a=n.description,s=sde(n,["className","avatar","title","description"]),l=t("list"),u=l+"-item-meta",c=!!i,d=!!(o||a);return We("div",lt(Be({},zC({ref:e},s,{className:Ye(u,r)})),{children:[c&&M("div",{className:u+"-avatar",children:i}),d&&We("div",{className:u+"-content",children:[o&&M("div",{className:u+"-title",children:o}),a&&M("div",{className:u+"-description",children:a})]})]}))}var eU=Ce.forwardRef(lde);eU.displayName="ListItemMeta";var tU=eU,BC=globalThis&&globalThis.__assign||function(){return BC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},BC.apply(this,arguments)},ude=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},cde={actionLayout:"horizontal"};function fde(n,e){var t=A.exports.useContext(wt),r=t.getPrefixCls,i=t.componentConfig,o=cn(n,cde,i&&i["List.Item"]),a=o.children,s=o.className,l=o.actions,u=o.extra,c=o.actionLayout,d=ude(o,["children","className","actions","extra","actionLayout"]),h=r("list"),m=h+"-item",g=[],v=[];Ce.Children.forEach(a,function(b){b&&b.type&&b.type===tU?g.push(b):v.push(b)});var y=v.length?M("div",{className:m+"-content",children:v}):null,x=u?M("div",{className:m+"-extra-content",children:u}):null,_=l&&l.length?M("div",{className:m+"-action",children:l.map(function(b,S){return M("li",{children:b},m+"-action-"+S)})}):null;return We("div",lt(Be({},BC({role:"listitem",ref:e,className:Ye(m,s)},d)),{children:[We("div",{className:m+"-main",children:[g,y,c==="vertical"?_:null]}),c==="horizontal"?_:null,x]}))}var dde=Ce.forwardRef(fde),tO=dde;tO.displayName="ListItem";tO.Meta=tU;var hde=tO,UC=globalThis&&globalThis.__assign||function(){return UC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},UC.apply(this,arguments)};function nU(n,e){if(n){dB(n,UC({block:"start",behavior:"instant",scrollMode:"if-needed"},e));var t=n.offsetHeight,r=n.getBoundingClientRect().height;if(e&&e.boundary&&t!==r){var i=Xt(e.boundary)?e.boundary(n):e.boundary;i.scrollTop=Math.round(i.scrollTop*(t/r))}}}var ms=globalThis&&globalThis.__assign||function(){return ms=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ms.apply(this,arguments)},pde=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Gw=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},p3=10,m3=1,mde=["small","default","large"],gde={split:!0,bordered:!0,defaultCurrent:1,offsetBottom:0,throttleDelay:500};function vde(n,e){var t=A.exports.useContext(wt),r=t.getPrefixCls,i=t.loadingElement,o=t.size,a=t.renderEmpty,s=t.componentConfig,l=cn(n,gde,s==null?void 0:s.List),u=l.style,c=l.wrapperStyle,d=l.className,h=l.wrapperClassName,m=l.children,g=m===void 0?[]:m,v=l.dataSource,y=v===void 0?[]:v,x=l.size,_=l.footer,b=l.header,S=l.pagination,C=l.bordered,E=l.split,T=l.render,P=l.grid,L=l.loading,I=l.hoverable,O=l.scrollLoading,F=l.paginationInFooter,U=l.offsetBottom,k=l.throttleDelay,H=l.defaultCurrent,$=l.noDataElement,V=l.listRef,N=l.onReachBottom,W=l.onListScroll,ee=x||(mde.indexOf(o)>-1?o:"default"),j=r("list"),G=A.exports.useRef(null),ne=A.exports.useRef(null),ye=A.exports.useRef(null),xe=A.exports.useRef(null),oe=A.exports.useRef(!0),de=Gw(A.exports.useState(S&&typeof S=="object"&&(S.pageSize||S.defaultPageSize)||p3),2),be=de[0],ke=de[1],he=Gw(A.exports.useState(S&&typeof S=="object"&&(S.current||S.defaultCurrent)||m3),2),Le=he[0],le=he[1],ce=Gw(A.exports.useState(H),2),we=ce[0],De=ce[1],pe=Ce.Children.count(g);A.exports.useImperativeHandle(V,function(){return{dom:G.current,scrollIntoView:function(z,re){if(ne.current)ne.current.scrollTo({index:z,options:re});else if(xe.current){var _e=xe.current.children[z];_e&&nU(_e,ms({boundary:ye.current},re))}}}});var Oe=l.virtualListProps?l.virtualListProps:l.height?{height:l.height}:void 0,Te=ms(ms({pageSize:be,current:Le,total:y.length>0?y.length:pe},typeof S=="object"?S:{}),{onPageSizeChange:function(z,re){ke(z),S&&typeof S=="object"&&S.onPageSizeChange&&S.onPageSizeChange(z,re)},onChange:function(z,re){le(z),S&&typeof S=="object"&&S.onChange&&S.onChange(z,re)}});Te.current=Math.min(Te.current,Math.ceil(Te.total/Te.pageSize));var je=!!(W||N),it=A.exports.useCallback(IQ(function(){if(W){W(ye.current);return}var z=ye.current,re=z.scrollTop,_e=z.scrollHeight,ue=z.clientHeight,Me=_e-(re+ue);Math.abs(Me)<U+1?oe.current&&(De(we+1),N&&N(we+1),oe.current=!1):oe.current=!0},k),[k,we,W,N]),nt=function(){var z=function(ue){var Me=Te.current,Ue=Te.pageSize,K=(Me-1)*Ue;return S&&ue.length>K?ue.slice(K,K+Ue):ue},re=function(ue,Me){var Ue=z(ue);return Me?Ue.map(Me):Ue},_e=function(ue,Me){var Ue=z(ue);if(P.column||P.span){for(var K=[],Ne=P.gutter,at=P.justify,Ke=P.align,Z=P.column,ve=pde(P,["gutter","justify","align","column"]),Ae=Z||Math.floor(24/P.span),qe=ve.span||Math.floor(24/Ae),ze=0,Ve=function(){var Ze=ze+Ae,Fe=~~(ze/Ae);K.push(M(c3,{className:j+"-row",gutter:Ne,justify:at,align:Ke,children:Ue.slice(ze,Ze).map(function(Ct,xt){return M(u3,lt(Be({},ms({key:Fe+"_"+xt,className:j+"-row-col"},ve,{span:qe})),{children:Me?Me(Ct,ze+xt):Ct}))})},Fe)),ze=Ze};ze<Ue.length;)Ve();return K}return M(c3,{className:j+"-row",gutter:P.gutter,children:Ue.map(function(Ze,Fe){return M(u3,lt(Be({},ms({className:j+"-row-col"},zn(P,["gutter"]),{key:Fe})),{children:Me?Me(Ze,Fe):Ze}))})})};return y.length>0&&T?P?_e(y,T):re(y,T):pe>0?P?_e(g):re(g):O?null:$||a("List")},q=function(){var z,re=nt(),_e=Oe&&Array.isArray(re),ue=S?M(ade,Be({},ms({},Te,{className:Ye(j+"-pagination",Te&&Te.className)}))):null,Me=F?ue:null,Ue=F?null:ue,K=O!=null?M("div",{className:j+"-item "+j+"-scroll-loading",children:O}):null;return We("div",{ref:function(Ne){e=Ne,G.current=e},style:c,className:Ye(j+"-wrapper",h),children:[We("div",{style:u,className:Ye(j,j+"-"+ee,(z={},z[j+"-no-border"]=!C,z[j+"-no-split"]=!E,z[j+"-hoverable"]=I,z),d),ref:function(Ne){_e||(ye.current=Ne)},onScroll:!_e&&je?it:void 0,children:[b?M("div",{className:j+"-header",children:b}):null,_e?M(Ut,{children:M(t_,lt(Be({},ms({role:"list",ref:function(Ne){Ne&&(ne.current=Ne,ye.current=Ne.dom)},className:j+"-content "+j+"-virtual",data:K?re.concat(K):re,isStaticItemHeight:!1,onScroll:je?it:void 0},Oe)),{children:function(Ne){return Ne}}))}):We("div",{role:"list",className:j+"-content",ref:xe,children:[re,K]}),_||Me?We("div",{className:j+"-footer",children:[_,Me]}):null]}),Ue]})};return"loading"in l?M(wC,{style:{display:"block"},loading:L,element:i||M(wC,{}),children:q()}):q()}var nO=Ce.forwardRef(vde);nO.displayName="List";nO.Item=hde;var yde=nO,Ea=globalThis&&globalThis.__assign||function(){return Ea=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ea.apply(this,arguments)};function xde(n){var e=EJ(),t=e.prefixCls,r=e.simple;return Ce.createElement(Gm,Ea({prefixCls:t,simple:r},n),n.content)}var HC=function(n){if(n.isNotice){var e=n.icon;if(!e&&e!==null)switch(n.noticeType){case"info":e=Ce.createElement(GE,null);break;case"success":e=Ce.createElement(Vx,null);break;case"warning":e=Ce.createElement(Xy,null);break;case"error":e=Ce.createElement(UE,null);break}n.title=Ce.createElement("span",null,e,n.title),n.hideCancel=!0}else n.title=Ce.createElement("span",null,n.icon!==null&&(n.icon||Ce.createElement(Xy,null)),n.title);return n};function rU(n,e){var t=document.createElement("div");document.body.appendChild(t);var r=CJ();function i(h){Ts.render(Ce.createElement($x,Ea({},r),Ce.createElement(xde,Ea({},h,{onCancel:u}))),t)}var o=e||i,a=Ea(Ea({},n),{visible:!1}),s=function(){var h,m=n.onOk||n.onConfirm;m&&(h=m()),h&&h.then&&(a.confirmLoading=!0,o(a),h.then(function(){u(!0)},function(g){console.error(g),a.confirmLoading=!1,o(a)})),h||u(!0)};a.onOk=s,a=HC(a),a.visible=!0,o(a);function l(){var h=Ts.unmountComponentAtNode(t);h&&t.parentNode&&t.parentNode.removeChild(t);for(var m=0;m<Bu.length;m++){var g=Bu[m];if(g===d){Bu.splice(m,1);break}}}function u(h){!h&&n.onCancel&&n.onCancel(),a.visible=!1,a.afterClose=function(){n.afterClose&&n.afterClose(),l()},o(a)}function c(h){a=Ea(Ea(Ea({},a),{title:n.title}),h),a=HC(a),o(a)}function d(){a.visible=!1,a.afterClose=function(){n.afterClose&&n.afterClose(),l()},o(a)}return Bu.push(d),{close:d,update:c}}var g3=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},v3=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},_de=A.exports.forwardRef(function(n,e){var t=g3(A.exports.useState([]),2),r=t[0],i=t[1];function o(s){i(function(l){return v3(v3([],g3(l),!1),[s],!1)})}function a(s){i(function(l){return l.filter(function(u){return s!==u})})}return A.exports.useImperativeHandle(e,function(){return{addInstance:o,removeInstance:a}}),M(Ut,{children:r})}),bde=_de,Au=globalThis&&globalThis.__assign||function(){return Au=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Au.apply(this,arguments)},y3=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function wde(n,e){var t=y3(A.exports.useState(!0),2),r=t[0],i=t[1],o=y3(A.exports.useState(n),2),a=o[0],s=o[1];A.exports.useImperativeHandle(e,function(){return{update:s,close:function(){i(!1)}}});function l(){var c=a.onOk&&a.onOk();c&&c.then&&(s(Au(Au({},a),{confirmLoading:!0})),c.then(function(){i(!1)},function(d){console.error(d),s(Au(Au({},a),{confirmLoading:!1}))})),c||i(!1)}function u(){a.onCancel&&a.onCancel(),i(!1)}return M(Gm,lt(Be({},Au({},a,{simple:!0,visible:r,onOk:l,onCancel:u,unmountOnExit:!0})),{children:a.content}))}var Sde=A.exports.forwardRef(wde),Rf=globalThis&&globalThis.__assign||function(){return Rf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Rf.apply(this,arguments)};function Cde(){var n=A.exports.createRef(),e=M(bde,{ref:n}),t=0;function r(o){var a;t+=1;var s=A.exports.createRef();function l(){o.afterClose&&o.afterClose(),c()}var u=M(Sde,Be({},Rf({key:t,ref:s},HC(o),{afterClose:l})));n.current.addInstance(u);function c(){n.current.removeInstance(u)}function d(){s.current.close()}return Bu.push(d),{close:d,update:(a=s.current)===null||a===void 0?void 0:a.update}}var i={confirm:function(o){return r(Rf({},o))}};return["info","success","warning","error"].forEach(function(o){i[o]=function(a){return r(Rf(Rf({},a),{isNotice:!0,noticeType:o}))}}),[i,e]}var la=globalThis&&globalThis.__assign||function(){return la=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},la.apply(this,arguments)},Mde=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Ww=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},VC=null,Ede=0;Rd||document.documentElement.addEventListener("click",function(n){VC={left:n.clientX,top:n.clientY},setTimeout(function(){VC=null},100)},!0);var Tde={mask:!0,maskClosable:!0,mountOnEnter:!0,escToExit:!0,getPopupContainer:function(){return document.body},alignCenter:!0};function Ode(n,e){var t,r,i,o=A.exports.useContext(wt),a=cn(n,Tde,(i=o.componentConfig)===null||i===void 0?void 0:i.Modal),s=a.className,l=a.style,u=a.visible,c=a.simple,d=a.title,h=a.children,m=a.cancelText,g=a.okText,v=a.okButtonProps,y=a.cancelButtonProps,x=a.getPopupContainer,_=x===void 0?function(){return document.body}:x,b=a.footer,S=a.afterClose,C=a.confirmLoading,E=a.mountOnEnter,T=a.unmountOnExit,P=a.afterOpen,L=a.hideCancel,I=a.autoFocus,O=a.focusLock,F=a.maskClosable,U=a.mask,k=a.alignCenter,H=a.getChildrenPopupContainer,$=a.wrapClassName,V=a.escToExit,N=a.modalRender,W=a.maskStyle,ee=a.wrapStyle,j=a.closeIcon,G=Mde(a,["className","style","visible","simple","title","children","cancelText","okText","okButtonProps","cancelButtonProps","getPopupContainer","footer","afterClose","confirmLoading","mountOnEnter","unmountOnExit","afterOpen","hideCancel","autoFocus","focusLock","maskClosable","mask","alignCenter","getChildrenPopupContainer","wrapClassName","escToExit","modalRender","maskStyle","wrapStyle","closeIcon"]),ne=A.exports.useRef(null),ye=A.exports.useRef(null),xe=Ww(A.exports.useState(u),2),oe=xe[0],de=xe[1],be=Ww(A.exports.useState(),2),ke=be[0],he=be[1],Le=A.exports.useRef(null),le=A.exports.useRef(!1),ce=A.exports.useRef(!1),we=A.exports.useRef();we.current||(we.current=Ede++);var De=Ww($n(!1,{defaultValue:!1,value:C}),2),pe=De[0],Oe=De[1],Te=o.getPrefixCls("modal",a.prefixCls),je=o.locale,it=!c,nt="closable"in a?a.closable:it,q=A.exports.useCallback(function(){return Rr.exports.findDOMNode(_())},[_]);Dfe(q,{hidden:u&&U});var z=function(){a.onCancel&&a.onCancel()},re=function(Ve){V&&u&&Ve.key===Qp.key&&(Ve.stopPropagation(),z())},_e=A.exports.useRef(!1),ue=function(Ve){!ce.current||(ce.current=!1,!_e.current&&F&&U&&Ve.target===Ve.currentTarget&&setTimeout(function(){z()},100))},Me=function(Ve){var Ze=a.onConfirm,Fe=a.onOk,Ct=Fe||Ze,xt;Ct&&(xt=Ct(Ve)),xt&&xt.then&&(Oe(!0),xt.then(function(){Oe(!1)},function(zt){Oe(!1),console.error(zt)}))};A.exports.useEffect(function(){var Ve=null;return V&&(Ve=setTimeout(function(){var Ze;(Ze=ne.current)===null||Ze===void 0||Ze.focus()})),function(){Ve&&clearTimeout(Ve)}},[u,V]),A.exports.useEffect(function(){var Ve;if(u&&ke===void 0&&ne.current){var Ze=+((Ve=window.getComputedStyle(ne.current,null))===null||Ve===void 0?void 0:Ve.zIndex);isNaN(Ze)||he(Ze+1)}},[u,ke]);var Ue=function(){if(b!==null){var Ve=M(Jt,lt(Be({},la({onClick:z},y)),{children:m||je.Modal.cancelText})),Ze=M(Jt,lt(Be({},la({loading:pe,onClick:Me,type:"primary"},v)),{children:g||je.Modal.okText})),Fe=b||We(Ut,{children:[!L&&Ve,Ze]});return Xt(b)&&(Fe=b(Ve,Ze)),M("div",{className:Te+"-footer",children:Fe})}},K=o.focusLock.modal,Ne=!!K,at=Dt(K)&&K.autoFocus,Ke=O!==void 0?O:Ne,Z=I!==void 0?I:at,ve=We($x,lt(Be({},la({},o,{prefixCls:a.prefixCls||o.prefixCls,locale:je,zIndex:ke||1050,getPopupContainer:function(Ve){return typeof H=="function"?H(Ve):ye.current}})),{children:[d&&M("div",{className:Te+"-header",children:M("div",{className:Te+"-title",id:"arco-dialog-"+we.current,children:d})}),M("div",{ref:ye,className:Te+"-content",children:h}),Ue(),nt&&(j!==void 0?M("span",{onClick:z,className:Te+"-close-icon",children:j}):M(Ir,{tabIndex:-1,onClick:z,className:Te+"-close-icon",role:"button","aria-label":"Close",children:M(ka,{})}))]})),Ae=d?{"aria-labelledby":"arco-dialog-"+we.current}:{},qe=M("div",lt(Be({},la({role:"dialog"},Ae,{className:Ye(Te,(t={},t[Te+"-simple"]=c,t),s),style:l})),{children:Ke?M(Ofe,{disabled:!u,autoFocus:Z,lockProps:{tabIndex:-1,onKeyDown:re},children:ve}):ve})),ze=function(Ve){if(!le.current){var Ze="";if(Le.current){var Fe=Ve.getBoundingClientRect(),Ct=Le.current,xt=Ct.left,zt=Ct.top;Ze=xt-Fe.left+"px "+(zt-Fe.top)+"px"}Ve.style.transformOrigin=Ze}};return M(Lfe,{visible:u,forceRender:!E,getContainer:_,children:We("div",{ref:e,children:[U?M(Fa,{in:u,timeout:400,appear:!0,mountOnEnter:E,classNames:"fadeModal",unmountOnExit:T,onEnter:function(Ve){Ve.style.display="block"},onExited:function(Ve){Ve.style.display="none"},children:M("div",{"aria-hidden":!0,className:Te+"-mask",style:W})}):null,M("div",lt(Be({},la({},zn(G,["content","icon","showIcon","isNotice","noticeType","onCancel","onOk","onConfirm","closable","prefixCls"]),{tabIndex:!Ke||!Z?-1:null,ref:ne,className:Ye(Te+"-wrapper",(r={},r[Te+"-wrapper-no-mask"]=!U,r[Te+"-wrapper-align-center"]=k,r),$),style:la(la({},ee||{}),{display:u||oe?"block":"none",overflow:!u&&oe?"hidden":""}),onKeyDown:!Ke||!Z?re:null,onMouseDown:function(Ve){ce.current=Ve.target===Ve.currentTarget},onClick:ue})),{children:M(Fa,{in:u,timeout:400,appear:!0,classNames:"zoomModal",unmountOnExit:T,mountOnEnter:E,onEnter:function(Ve){de(!0),Le.current=VC,le.current=!!Ve.style.transformOrigin,ze(Ve)},onEntered:function(Ve){ze(Ve),Le.current=null,P&&P()},onExit:function(){_e.current=!0},onExited:function(Ve){de(!1),ze(Ve),S&&S(),_e.current=!1},children:Ce.cloneElement(Xt(N)?N(qe):qe,{onMouseDown:function(){ce.current=!1},onMouseUp:function(){ce.current=!1}})})}))]})})}var hc=A.exports.forwardRef(Ode);hc.displayName="Modal";hc.config=MJ;hc.confirm=function(n){return rU(n)};hc.useModal=Cde;["info","success","warning","error"].forEach(function(n){hc[n]=function(e){return rU(la(la({},e),{isNotice:!0,noticeType:n}))}});hc.destroyAll=function(){for(;Bu.length;){var n=Bu.pop();n&&n()}};var Gm=hc,x3=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Pde=function(n){var e,t=n.style,r=n.disabled,i=n.prefixCls,o=n.value,a=n.vertical,s=n.tooltipVisible,l=n.tooltipPosition,u=n.formatTooltip,c=n.getTooltipContainer,d=n.onMoving,h=n.onMoveEnd,m=n.onMoveBegin,g=x3(A.exports.useState(!1),2),v=g[0],y=g[1],x=x3($n(!1,{value:s}),2),_=x[0],b=x[1],S=A.exports.useContext(wt).getPrefixCls,C=A.exports.useMemo(function(){return l||(a?"right":"top")},[l,a]),E=A.exports.useRef(null),T=A.exports.useRef(!1),P=A.exports.useRef(!1),L=A.exports.useRef(null);function I(G){G.stopPropagation(),!r&&(U(G),y(!0),yn(window,"mousemove",k),yn(window,"touchmove",k),yn(window,"mouseup",H),yn(window,"touchend",H),yn(window,"contextmenu",H))}function O(){T.current=!0,V(),_||(E.current=setTimeout(function(){N(!0)},50))}function F(){T.current=!1,P.current||(V(),E.current=setTimeout(function(){N(!1)},200))}function U(G){G.preventDefault();var ne=document.activeElement;ne&&ne.blur&&ne.blur(),Xt(m)&&m()}function k(G){P.current=!0,G.type==="touchstart"&&(G.clientY=G.touches[0].clientY,G.clientX=G.touches[0].clientX),Xt(d)&&d(G.clientX,G.clientY)}function H(){P.current=!1,y(!1),$(),N(T.current),Xt(h)&&h()}function $(){V(),An(window,"mousemove",k),An(window,"touchmove",k),An(window,"mouseup",H),An(window,"touchend",H),An(window,"contextmenu",H)}function V(){E.current&&(clearTimeout(E.current),E.current=null)}function N(G){if(!P.current){var ne="tooltipVisible"in n?s:G;b(ne)}}function W(){T.current=!0,V()}var ee=A.exports.useMemo(function(){return Xt(u)?u(o):o},[u,o]);function j(G){var ne=S("tooltip");return M("div",{className:Ye(ne+"-content",ne+"-content-"+G),onMouseLeave:F,onMouseEnter:W,onClick:function(ye){ye.stopPropagation()},children:M("div",{className:ne+"-content-inner",children:ee})})}return A.exports.useEffect(function(){L&&L.current&&L.current.updatePopupPosition()},[o]),M(Qx,{style:{maxWidth:350},classNames:"zoomInFadeOut",duration:{enter:300,exit:100},showArrow:!0,popupAlign:{left:12,right:12,top:12,bottom:12},ref:L,popup:function(){return j(C)},popupVisible:_,disabled:s===!1,getPopupContainer:c,position:C,childrenPrefix:S("tooltip"),children:M("div",{className:Ye(i+"-button",(e={},e[i+"-button-active"]=v,e)),onMouseDown:I,onMouseEnter:O,onMouseLeave:F,style:t,role:"slider","aria-valuemax":n.maxValue,"aria-valuemin":n.minValue,"aria-valuenow":o,"aria-disabled":!!r,tabIndex:0,"aria-valuetext":Fm(ee)||rn(ee)?String(ee):void 0})})},_3=A.exports.memo(Pde),Ade=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function Rde(n){var e=(""+n).split(".")[1];return e&&e.length||0}function Hu(n){return n*100+"%"}function Ide(n,e){var t=Number(n);if(e&&!isNaN(t)){var r=Ade(e,2),i=r[0],o=r[1];return Vm(im(t,i),im(o,i))}return 0}function iU(n,e){var t=Number(n);return e.sort(function(r,i){return r-i}),t>=e[0]&&t<=e[1]}function $w(n){return n||n===0}function Nde(n){var e=parseFloat(n),t=e>1?(e/100).toFixed(2):e,r=parseFloat(t);if(!isNaN(r)&&r>=0&&r<=1)return r}function am(n,e){var t=e.find(function(c){return n>=c.begin&&n<=c.end});if(t){var r=t.beginOffset,i=t.begin,o=t.end,a=t.endOffset,s=Ide(n,[i,o]),l=im(a,r),u=Uo(s,l);return Vd(r,u)}}var Lde=function(n){var e=n.data,t=e===void 0?[]:e,r=n.vertical,i=n.prefixCls,o=n.reverse,a=n.intervalConfigs;return t.length?M("div",{className:i+"-marks",children:t.map(function(s){var l,u,c=s.key,d=s.content,h=Hu(am(+c,a)),m=null;return Dt(d)&&$w(d.text)?m=d.text:$w(d)&&(m=d),$w(m)&&M("div",{className:i+"-marks-text","aria-hidden":!0,style:r?(l={},l[o?"top":"bottom"]=h,l):(u={},u[o?"right":"left"]=h,u),onMouseDown:function(g){g.stopPropagation(),Xt(n.onMouseDown)&&n.onMouseDown(parseFloat(c))},children:m},c)})}):null},Dde=A.exports.memo(Lde),GC=globalThis&&globalThis.__assign||function(){return GC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},GC.apply(this,arguments)},kde=function(n){var e=n.data,t=e===void 0?[]:e,r=n.value,i=r===void 0?[]:r,o=n.vertical,a=n.prefixCls,s=n.reverse,l=n.intervalConfigs;return t.length?M("div",{className:a+"-dots",children:t.map(function(u){var c,d,h,m=u.key,g=u.content,v=Hu(am(+m,l));return M("div",{className:a+"-dot-wrapper",style:GC({},o?(c={},c[s?"top":"bottom"]=v,c):(d={},d[s?"right":"left"]=v,d)),onMouseDown:function(y){y.stopPropagation(),Xt(n.onMouseDown)&&n.onMouseDown(parseFloat(m))},children:Dt(g)&&g.dot?g.dot:M("div",{className:Ye(a+"-dot",(h={},h[a+"-dot-active"]=iU(m,i),h))})},m)})}):null},Fde=A.exports.memo(kde),hl=globalThis&&globalThis.__assign||function(){return hl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},hl.apply(this,arguments)},b3=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},zde=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Bde=function(n){var e,t=n.value,r=n.range,i=n.min,o=n.max,a=n.step,s=n.disabled,l=n.prefixCls,u=n.onChange,c=n.extra,d=c===void 0?[]:c,h={min:i,max:o,step:a,disabled:s},m=b3(A.exports.useState(t),2),g=m[0],v=m[1],y=d[0],x=r?d[1]:d[0];A.exports.useEffect(function(){v(t)},[t]);var _=function(S){u==null||u(S)},b=function(){v(zde([],b3(t),!1).sort(function(S,C){return S-C}))};return We("div",{className:Ye(l+"-input",(e={},e[l+"-input-group"]=r,e)),onBlur:b,children:[r&&[M(om,Be({},hl({},hl(hl({hideControl:!0},y),h),{value:g[0],key:0,onChange:function(S){_([S,g[1]]),y!=null&&y.onChange&&(y==null||y.onChange(S))}}))),M("div",{className:l+"-input-range",children:M("span",{className:l+"-input-range-content"})},1)],M(om,Be({},hl({},hl(hl({hideControl:!0},x),h),{key:2,value:g[1],onChange:function(S){_([g[0],S]),x!=null&&x.onChange&&(x==null||x.onChange(S))}})))]})},Ude=A.exports.memo(Bde),Hde=A.exports.memo(function(e){var t=e.min,r=e.max,i=e.value,o=e.prefixCls,a=e.vertical,s=e.reverse,l=e.intervalConfigs,u=new Map,c=function(h){for(var m=h.step,g=h.begin,v=h.end,y=Math.floor((v-g)/m),x=0;x<=y;x++){var _=Vd(x*m,g);if(!(_<=t||_>=r)){var b=Hu(am(_,l));u.set(b,{offset:b,isActive:iU(_,i)})}}},d=A.exports.useMemo(function(){return u.clear(),l.forEach(function(h){return c(h)}),Array.from(u.values())},[l]);return M("div",{className:o+"-ticks",children:d.map(function(h,m){var g,v,y;return M("div",{className:Ye(o+"-tick",(g={},g[o+"-tick-active"]=h.isActive,g)),style:a?(v={},v[s?"top":"bottom"]=h.offset,v):(y={},y[s?"right":"left"]=h.offset,y)},m)})})}),Vde=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function Gde(n){var e=n.isRange,t=n.min,r=n.max,i=n.onlyMarkValue,o=n.intervalConfigs,a=n.marks;function s(h){var m=o.find(function(S){return h>=S.begin&&h<=S.end}),g=m.begin,v=m.step,y=h-g,x=Math.round(y/v),_=Rde(v),b=parseFloat(Uo(v,x).toFixed(_));return Vd(g,b)}function l(h){if(!Dt(a)||Zz(a))return console.warn("marks must be an object when onlyMarkValue is true"),t;if(a[h])return h;var m=Object.keys(a),g=m.map(function(y){return Math.abs(h-parseFloat(y))}),v=g.indexOf(Math.min.apply(null,g));return parseFloat(m[v])}function u(h){return Ra(h)||h<=t?t:h>=r?r:i?l(h):s(h)}function c(h){return u(h)===h}function d(h){var m=Vde([t,t],2),g=m[0],v=m[1];return e?gr(h)?(g=u(h[0]),v=u(h[1])):console.error("value must be an array when range is true"):rn(h)?v=u(h):console.error("value must be a number when range is false"),[g,v]}return{getLegalRangeValue:d,getLegalValue:u,isLegalValue:c}}var jw=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function Wde(n){if(n.length<2)return[];for(var e=[],t=1;t<n.length;t++){var r=n[t-1],i=n[t];e.push([r,i])}return e}function $de(n){var e=n.marks,t=e===void 0?{}:e,r=n.getIntervalConfig,i=n.max,o=n.min,a=A.exports.useMemo(function(){var h=Object.keys(t).filter(function(y){return rn(+y)&&+y>=o&&+y<=i}).sort(function(y,x){return+y>+x?1:-1}),m=h.map(function(y){return{key:y,content:t[y]}}),g=h.map(function(y){return+y});g.length===0?g=[o,i]:(g[0]>o&&(g.unshift(o),m.unshift({key:""+o,content:""})),g.slice(-1)[0]<i&&(g.push(i),m.push({key:""+i,content:""})));var v=Wde(g);return{markIntervals:v,markList:m}},[t,o,i]),s=a.markIntervals,l=a.markList;if(!Xt(r))return{intervalConfigs:[{begin:o,end:i,step:n.step,beginOffset:0,endOffset:1,width:1}],markList:l};var u=function(h,m){var g=jw(h,2),v=g[0],y=g[1],x={step:n.step,width:0},_=r([v,y],m)||{},b=_.step,S=Nde(_.width);return rn(b)&&b&&(x.step=b),rn(S)&&S&&(x.width=S),x},c=function(){var h=1,m=i-o,g=s.map(function(x,_){var b=jw(x,2),S=b[0],C=b[1],E=u([S,C],_),T=E.width;if(T){T=Math.min(h,T);var P=C-S;m-=P,h-=T}return{width:T,step:E.step}});if(g.every(function(x){var _=x.width;return _})&&h){var v=g[s.length-1];v.width+=h}var y=[];return s.forEach(function(x,_){var b=jw(x,2),S=b[0],C=b[1],E=g[_],T=E.step,P=E.width,L={begin:S,end:C,step:T,beginOffset:0,endOffset:0,width:P};L.width||(L.width=h*((C-S)/m));var I=y.length-1;y[I]&&(L.beginOffset=y[I].endOffset),L.endOffset=Math.min(1,L.beginOffset+L.width),y.push(L)}),y},d=c();return{intervalConfigs:d,markList:l}}var Ru=globalThis&&globalThis.__assign||function(){return Ru=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ru.apply(this,arguments)},Jo=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},jde=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function Kde(n,e){var t=n[0]-n[1],r=e[0]-e[1];return t<=0==r<=0}var Xde={max:100,min:0,step:1};function Yde(n,e){var t,r,i,o=A.exports.useContext(wt),a=o.getPrefixCls,s=o.componentConfig,l=cn(n,Xde,s==null?void 0:s.Slider),u=l.className,c=l.style,d=l.tooltipVisible,h=l.tooltipPosition,m=l.disabled,g=l.min,v=l.max,y=l.range,x=l.step,_=l.showTicks,b=l.marks,S=l.onlyMarkValue,C=l.vertical,E=l.showInput,T=l.reverse,P=l.getIntervalConfig,L=!!y,I=Dt(y)?Ru({},y):{draggableBar:!1},O=$de({min:g,max:v,onlyMarkValue:S,step:x,marks:b,getIntervalConfig:P}),F=O.intervalConfigs,U=O.markList,k=Gde({isRange:L,min:g,max:v,onlyMarkValue:S,step:x,intervalConfigs:F,marks:b}),H=k.getLegalValue,$=k.getLegalRangeValue,V=k.isLegalValue,N=Jo($n(L?[g,g]:g,{defaultValue:l.defaultValue,value:l.value}),2),W=N[0],ee=N[1],j=$(W),G=A.exports.useRef(j),ne=Jo(j,2),ye=ne[0],xe=ne[1];GT(function(){G.current=$(W)},[W,$]),Kde(j,G.current)||(t=Jo([xe,ye],2),ye=t[0],xe=t[1]);var oe=am(ye,F),de=am(xe,F),be=E&&!S,ke=A.exports.useMemo(function(){return be&&(gr(E)||Dt(E))?gr(E)?jde([],Jo(E),!1):[Ru({},E),Ru({},E)]:[]},[be,E]),he=a("slider"),Le=A.exports.useRef(null),le=A.exports.useRef({left:0,height:0,top:0,width:0}),ce=A.exports.useRef(!1),we=A.exports.useRef(0);function De(Z){var ve,Ae=Jo(Z,2),qe=Ae[0],ze=Ae[1];return qe>ze&&(ve=Jo([ze,qe],2),qe=ve[0],ze=ve[1]),L?[qe,ze]:ze}function pe(Z){var ve=Jo(Z,2),Ae=ve[0],qe=ve[1];Ae=H(Ae),qe=H(qe),G.current=[Ae,qe];var ze=De([Ae,qe]);return ee(ze),ze}function Oe(Z){var ve=pe(Z);Xt(l.onChange)&&l.onChange(ve)}function Te(){if(Xt(l.onAfterChange)){var Z=De(G.current);l.onAfterChange(Z)}}function je(Z){var ve,Ae=Jo([ye,xe],2),qe=Ae[0],ze=Ae[1];return qe>ze&&(ve=Jo([ze,qe],2),qe=ve[0],ze=ve[1]),L?Z>=qe&&Z<=ze:Z<=ze}function it(Z,ve){var Ae=le.current,qe=Ae.left,ze=Ae.top,Ve=Ae.width,Ze=Ae.height,Fe=Ve,Ct=T?qe+Ve-Z:Z-qe;if(C&&(Fe=Ze,Ct=T?ve-ze:ze+Ze-ve),Fe<=0)return 0;var xt=Math.max(Vm(Ct,Fe),0);xt=Math.min(1,xt);var zt=F.find(function(ie){return xt>=ie.beginOffset&&xt<=ie.endOffset}),an=zt.begin,Er=zt.beginOffset,bi=zt.step,Ui=zt.endOffset,Fr=zt.end,va=xt-Er,ya=Ui-Er,po=va/ya*(Fr-an),$o=Math.round(po/bi);return Vd(an,Uo($o,bi))}function nt(Z){var ve,Ae,qe,ze=Jo(Z,2),Ve=ze[0],Ze=ze[1];Ve>Ze&&(ve=Jo([Ze,Ve],2),Ve=ve[0],Ze=ve[1]);var Fe=Hu(Ve),Ct=Hu(1-Ze);return C?(Ae={},Ae[T?"top":"bottom"]=Fe,Ae[T?"bottom":"top"]=Ct,Ae):(qe={},qe[T?"right":"left"]=Fe,qe[T?"left":"right"]=Ct,qe)}function q(Z){var ve,Ae;return C?(ve={},ve[T?"top":"bottom"]=Hu(Z),ve):(Ae={},Ae[T?"right":"left"]=Hu(Z),Ae)}function z(){var Z={getTooltipContainer:l.getTooltipContainer,formatTooltip:l.formatTooltip};return"tooltipPosition"in l&&(Z.tooltipPosition=h),"tooltipVisible"in l&&(Z.tooltipVisible=d),Z}function re(){le.current=Le.current.getBoundingClientRect()}function _e(Z){re();var ve=it(Z.clientX,Z.clientY);I.draggableBar&&je(ve)?(we.current=H(ve),yn(window,"mousemove",at),yn(window,"mouseup",Ke)):ue(ve)}function ue(Z){if(!m){var ve=H(Z);L&&xe-ve>ve-ye?Oe([ve,xe]):Oe([ye,ve]),Te()}}function Me(Z){Oe(Z),Te()}function Ue(Z,ve){ce.current=!0,Oe([it(Z,ve),xe])}function K(Z,ve){ce.current=!0,Oe([ye,it(Z,ve)])}function Ne(){ce.current=!1,Te()}function at(Z){var ve=H(it(Z.clientX,Z.clientY)),Ae=ve-we.current,qe=ye+Ae,ze=xe+Ae;V(qe)&&V(ze)&&Oe([qe,ze])}function Ke(){An(window,"mousemove",at),An(window,"mouseup",Ke),Te()}return M("div",{className:Ye(he,(r={},r[he+"-vertical"]=C,r[he+"-with-marks"]=b,r[he+"-reverse"]=T,r),u),style:c,ref:e,children:We("div",{className:he+"-wrapper",children:[We("div",{ref:Le,className:Ye(he+"-road",(i={},i[he+"-road-disabled"]=m,i[he+"-road-vertical"]=C,i)),onMouseDown:_e,children:[M("div",{className:he+"-bar",style:nt([oe,de])}),_&&M(Hde,{intervalConfigs:F,min:g,max:v,value:[ye,xe],prefixCls:he,vertical:C,reverse:T}),M(Fde,{data:U,intervalConfigs:F,value:[ye,xe],vertical:C,prefixCls:he,reverse:T,onMouseDown:ue}),M(Dde,{data:U,intervalConfigs:F,vertical:C,prefixCls:he,reverse:T,onMouseDown:ue}),L&&M(_3,Be({},Ru({style:q(oe),disabled:m,prefixCls:he,value:ye,maxValue:v,minValue:g,vertical:C},z(),{onMoveBegin:re,onMoving:Ue,onMoveEnd:Ne}))),M(_3,Be({},Ru({style:q(de),disabled:m,prefixCls:he,value:xe,maxValue:v,minValue:g,vertical:C},z(),{onMoveBegin:re,onMoving:K,onMoveEnd:Ne})))]}),be&&M(Ude,{min:g,max:v,step:x,value:[ye,xe],range:L,disabled:m,prefixCls:he,onChange:Me,extra:ke})]})})}var oU=A.exports.forwardRef(Yde);oU.displayName="Slider";var aU=A.exports.memo(oU),WC=globalThis&&globalThis.__assign||function(){return WC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},WC.apply(this,arguments)},qde=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Zde={size:"small",direction:"horizontal"};function Jde(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.componentConfig,a=cn(n,Zde,o==null?void 0:o.Space),s=a.className,l=a.style,u=a.children,c=a.size,d=a.direction,h=a.align,m=a.wrap,g=a.split,v=qde(a,["className","style","children","size","direction","align","wrap","split"]),y=i("space"),x=h||(d==="horizontal"?"center":""),_=Ye(y,(t={},t[y+"-"+d]=d,t[y+"-align-"+x]=x,t[y+"-wrap"]=m,t),s);function b(E){if(rn(E))return E;switch(E){case"mini":return 4;case"small":return 8;case"medium":return 16;case"large":return 24;default:return 8}}var S=Ce.Children.toArray(u);function C(E){var T,P=S.length===E+1;if(typeof c=="string"||typeof c=="number"){var L=b(c);return m?P?{marginBottom:L}:{marginRight:L,marginBottom:L}:P?{}:(T={},T[d==="vertical"?"marginBottom":"marginRight"]=L,T)}if(gr(c)){var I=b(c[0]),O=b(c[1]);return m?P?{marginBottom:O}:{marginRight:I,marginBottom:O}:d==="vertical"?{marginBottom:O}:{marginRight:I}}}return M("div",lt(Be({},WC({ref:e,className:_,style:l},v)),{children:S.map(function(E,T){var P=g!=null&&T>0;return We(Ut,{children:[P&&M("div",{className:y+"-item-split",children:g}),M("div",{className:y+"-item",style:C(T),children:E})]})})}))}var sU=A.exports.forwardRef(Jde);sU.displayName="Space";var Qde=sU,$C=globalThis&&globalThis.__assign||function(){return $C=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$C.apply(this,arguments)},ehe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function the(n,e){var t=A.exports.useRef(!1),r=A.exports.useContext(wt).getPrefixCls,i=n.children,o=n.className,a=n.style,s=n.lazyload,l=n.isActive,u=ehe(n,["children","className","style","lazyload","isActive"]),c=r("tabs");return t.current=s?t.current||l:!0,t.current&&M("div",lt(Be({},$C({ref:e},zn(u,["destroyOnHide","title","closable"]),{className:Ye(c+"-pane",o),style:a})),{children:i}))}var rO=Ce.forwardRef(the);rO.displayName="TabPane";rO.isTabPane=!0;var nhe=rO;function rhe(n){var e=n.prefixCls,t=n.currentOffset,r=n.headerSize,i=n.headerWrapperSize,o=n.getTitleRef,a=n.paneChildren,s=n.direction,l=a.map(function(m){return m.key}),u=s==="vertical"?r.height:r.width,c=s==="vertical"?i.height:i.width,d=A.exports.useMemo(function(){var m={},g=i.domRect;return l.map(function(v){var y=o(v);if(!!y){var x=y.getBoundingClientRect();m[v]={left:x.left-g.left,right:x.left-g.left+x.width,top:x.top-g.top,bottom:x.top-g.top+x.height}}}),m},[l.join(","),u,c]),h=A.exports.useMemo(function(){var m=-1,g=-1;for(var v in d){var y=d[v],x=y.left,_=y.right;if(x>=t&&_-t<=c&&m===-1&&(m=l.indexOf(v),g=m),x>=t&&_-t>c){g=l.indexOf(v);break}}return[m,g]},[d,l.join(","),t]);return M(s_,{trigger:"click",droplist:M(Uu,{onClickMenuItem:n.onClickTab,children:a.map(function(m,g){if(g<h[0]||g>=h[1])return M(Uu.Item,{disabled:m.disabled,children:m.props.title},m.key)})}),children:M(Ir,{role:"button","aria-label":"expand tabs",prefix:e+"-dropdown",className:e+"-dropdown-icon",children:M(Ad,{})})})}var ihe=function(n){var e,t,r,i,o=n.direction,a=n.headerSize,s=n.headerWrapperSize,l=n.prefixCls,u=n.iconPos,c=n.currentOffset,d=n.align,h=s.height,m=s.width,g=a.height,v=a.width,y=g-h,x=v-m,_=function(T){T!==n.currentOffset&&n.onChange&&n.onChange(T)},b=function(T,P){T.preventDefault();var L;d==="left"?L=P==="left"?c-m:c+m:L=P==="left"?c+m:c-m,_(L)},S=function(T,P){T.preventDefault();var L;if(P==="up")L=c-h;else if(L=c+h,L>=g)return;_(L)},C=!1,E=!1;return d==="left"?(C=c<=0,E=o==="vertical"?c>=y:c>=x):(C=o==="vertical"?c>=y:c>=x,E=c<=0),o==="vertical"?u==="prev"?Ce.createElement(Ir,{disabled:C,prefix:l,className:Ye(l+"-up-icon",(e={},e[l+"-nav-icon-disabled"]=C,e)),onClick:function(T){S(T,"up")}},Ce.createElement(FE,null)):Ce.createElement(Ir,{prefix:l,className:Ye(l+"-down-icon",(t={},t[l+"-nav-icon-disabled"]=E,t)),disabled:E,onClick:function(T){S(T,"down")}},Ce.createElement(Ad,null)):u==="prev"?Ce.createElement(Ir,{prefix:l,disabled:C,className:Ye(l+"-left-icon",(r={},r[l+"-nav-icon-disabled"]=C,r)),onClick:function(T){b(T,"left")}},Ce.createElement(Xp,null)):Ce.createElement(Ir,{prefix:l,className:Ye(l+"-right-icon",(i={},i[l+"-nav-icon-disabled"]=E,i)),disabled:E,onClick:function(T){b(T,"right")}},Ce.createElement(Yp,null))},w3=ihe,ohe=function(n,e){var t,r=n.prefixCls,i=n.onDeleteTab,o=n.tabKey,a=n.isActive,s=n.onClickTab,l=n.disabled,u=l===void 0?!1:l,c=n.title,d=n.editable,h=n.renderTitle,m=n.deleteIcon,g=n.deleteButton,v=n.getIdPrefix,y=n.index,x=Xt(h)?h:function(_){return _};return x(Ce.createElement("div",{ref:e,key:o,className:Ye(r+"-header-title",(t={},t[r+"-header-title-active"]=a,t[r+"-header-title-editable"]=d,t[r+"-header-title-disabled"]=u,t)),onClick:function(_){u||s(_)}},Ce.createElement("span",{className:r+"-header-title-text",role:"tab","aria-selected":a,"aria-disabled":u||void 0,id:v(y).tab,"aria-controls":v(y).tabpane},c),d&&Ce.createElement("span",{role:"button","aria-label":"remove tab","aria-disabled":u||void 0,tabIndex:u?-1:0,className:r+"-close-icon",onClick:function(_){_.stopPropagation(),!u&&i(_)}},g||Ce.createElement(Ir,{prefix:r},m||Ce.createElement(ka,null)))),{key:o,isActive:a,disabled:u,editable:d})},ahe=Ce.forwardRef(ohe),iO=function(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetWidth/r.width,o=e.offsetHeight/r.height;return{left:(t.left-r.left)*i,top:(t.top-r.top)*o,right:(t.right-r.right)*i,bottom:(t.bottom-r.bottom)*o}},she=function(n,e){var t=n.scrollLeft,r=n.scrollTop;e==="horizontal"&&t&&n.scrollTo({left:-1*t}),e==="vertical"&&r&&n.scrollTo({top:-1*r})},lhe=function(n,e,t){var r={};if(e){var i=iO(e,t);n==="vertical"?r={top:i.top+"px",height:e.offsetHeight+"px",left:"",width:""}:r={left:i.left+"px",width:e.offsetWidth+"px",top:"",height:""}}return r},uhe=function(n){var e,t=n.prefixCls,r=n.animation,i=n.disabled,o=n.direction,a=n.getTitleRef,s=n.activeTab,l=n.getHeaderRef,u=A.exports.useRef(),c=A.exports.useRef();return A.exports.useEffect(function(){var d=ud(function(){var h=lhe(o,a(s),l("headerRef").current);h&&!hs(c.current,h)&&(c.current=h,Object.keys(h).forEach(function(m){u.current.style[m]=h[m]}))});return d(),function(){d.cancel&&d.cancel()}}),M("div",{className:Ye(t+"-header-ink",(e={},e[t+"-header-ink-no-animation"]=!r,e[t+"-header-ink-disabled"]=i,e)),ref:u})},che=uhe,fhe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function Kw(){var n=A.exports.useRef(),e=fhe(A.exports.useState({height:0,width:0}),2),t=e[0],r=e[1];return A.exports.useEffect(function(){n.current&&r({height:n.current.offsetHeight,width:n.current.offsetWidth,domRect:n.current.getBoundingClientRect()})},[]),[n,t,r]}function dhe(n){var e=n.headerWrapperRef,t=n.headerOffset,r=n.align,i=n.isScrollable,o=n.direction,a=n.onScroll;function s(y,x){var _=0;o==="vertical"?_=t+x:_=r==="left"?t+y:t-y,a&&a(_)}var l=A.exports.useRef("x");function u(y){if(!!i){y.preventDefault();var x=y.deltaX,_=y.deltaY,b=0,S=Math.abs(x),C=Math.abs(_);S===C?b=l.current==="x"?x:_:S>C?(b=x,l.current="x"):(b=_,l.current="y"),s(b,b)}}var c=A.exports.useRef({clientX:0,clientY:0}),d=function(y){return y&&y.touches&&y.touches.length&&y.touches[0]},h=function(y){y.cancelable&&y.preventDefault();var x=d(y);if(!!x){var _=c.current,b=_.clientX,S=_.clientY,C=x.clientX-b,E=x.clientY-S;s(-C,-E)}},m=function(){An(document.documentElement,"touchmove",h),An(document.documentElement,"touchend",m)},g=function(y){if(!!i){var x=d(y);!x||(c.current={clientX:x.clientX,clientY:x.clientY},yn(document.documentElement,"touchmove",h,{passive:!1}),yn(window,"touchend",m,{passive:!1}))}},v=A.exports.useRef(null);v.current={onWheel:u,onTouchStart:g},A.exports.useEffect(function(){yn(e.current,"wheel",function(y){v.current.onWheel(y)},{passive:!1}),yn(e.current,"touchstart",function(y){v.current.onTouchStart(y)},{passive:!0})},[e.current])}var Iu=globalThis&&globalThis.__assign||function(){return Iu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Iu.apply(this,arguments)},Ih=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},oO="vertical",aO="right",sO="left",S3={delete:!0,add:!0},hhe=function(n){var e=n.direction,t=n.align,r=t===void 0?sO:t,i=n.headerOffset,o="translateX("+-i+"px)";return r===aO&&(o="translateX("+i+"px)"),e===oO&&(o="translateY("+-i+"px)"),Moe(o)},phe=function(n){var e=n.direction,t=n.align,r=t===void 0?sO:t,i=n.headerDom,o=n.headerWrapperDom,a=iO(i,o);return e===oO?-a.top:r===aO?a.right:-a.left},lU=Ce.forwardRef(function(n,e){var t,r,i=A.exports.useContext(lO),o=Iu(Iu({},n),i),a=Ih(Kw(),3),s=a[0],l=a[1],u=a[2],c=Ih(Kw(),3),d=c[0],h=c[1],m=c[2],g=Ih(Kw(),3),v=g[0],y=g[1],x=g[2],_=A.exports.useRef({}),b=Ih(A.exports.useState(0),2),S=b[0],C=b[1],E=Ih(A.exports.useState(!0),2),T=E[0],P=E[1],L=o.paneChildren,I=o.editable,O=o.prefixCls,F=o.onAddTab,U=o.direction,k=o.type,H=k===void 0?"line":k,$=o.overflow,V=$===void 0?"scroll":$,N=o.activeTab,W=o.showAddButton,ee=o.size,j=ee===void 0?"default":ee,G=o.style,ne=o.tabPosition,ye=o.className,xe=o.extra,oe=o.animation,de=o.icons,be=o.deleteButton,ke=o.addButton,he=o.renderTabTitle,Le=o.scrollAfterEdit,le=o.scrollPosition,ce=le===void 0?"auto":le,we=Dt(Le)?Iu(Iu({},S3),Le):S3,De=H==="capsule"?aO:sO,pe=A.exports.useMemo(function(){var K=o.direction==="vertical"?y.height<h.height:y.width<h.width;return K},[o.direction,y,h]),Oe=function(){if(v.current){var K=v.current;x({height:K.offsetHeight,width:K.offsetWidth})}},Te=ud(function(K){Oe();var Ne=K[0]&&K[0].target;Ne&&u({height:Ne.offsetHeight,width:Ne.offsetWidth,domRect:Ne.getBoundingClientRect()})}),je=ud(function(K){var Ne=K[0]&&K[0].target;Ne&&m({height:Ne.offsetHeight,width:Ne.offsetWidth,domRect:Ne.getBoundingClientRect()})}),it=A.exports.useCallback(function(K){var Ne=U===oO?h.height-l.height:h.width-l.width,at=K;return at=Math.min(Ne,at),at=Math.max(at,0),at},[U,h,l]),nt=function(K){var Ne=it(K);Ne!==S&&C(Ne)};A.exports.useEffect(function(){return function(){je.cancel&&je.cancel(),Te.cancel&&Te.cancel()}},[]),A.exports.useEffect(function(){if(!T){P(!0);return}var K=function(){var at=_.current[N];if(!at||!pe)return 0;var Ke=iO(at,s.current),Z=phe({direction:U,align:De,headerDom:d.current,headerWrapperDom:s.current});if(U==="vertical"){var ve=Z,Ae=ce,qe=Z+Ke.top,ze=Z+Ke.bottom;return Ae==="auto"&&(Ae=Ke.top<0?"start":Ke.bottom>0?"end":ce),Ae==="start"?ve=qe:Ae==="end"?ve=ze:Ae==="center"?ve=qe-(Ke.top-Ke.bottom)/2:rn(Ae)&&(ve=Math.max(qe-Ae,ze)),ve}if(De==="right"){var Ve=Z-Ke.left,Ze=Z-Ke.right,Fe=ce,Ct=Z;return ce==="auto"&&(Fe=Ke.left<0?"start":Ke.right>0?"end":ce),Fe==="start"?Ct=Ve:Fe==="end"?Ct=Ze:Fe==="center"?Ct=Ve+(Ke.left-Ke.right)/2:rn(Fe)&&(Ct=Math.min(Ve+Fe,Ze)),Ct}var xt=Z,zt=ce,an=Z+Ke.left,Er=Z+Ke.right;return ce==="auto"&&(zt=Ke.left<0?"start":Ke.right>0?"end":ce),zt==="start"?xt=an:zt==="end"?xt=Er:zt==="center"?xt=an-(Ke.left-Ke.right)/2:rn(zt)&&(xt=Math.max(an-zt,Er)),xt};she(s.current,U);var Ne=K();Ne=it(Ne),C(Ne)},[N,U,V,pe,H,it,ce]);var q=hhe({direction:U,align:De,headerOffset:S}),z=pe&&V==="dropdown"&&U!=="vertical",re=pe&&!z,_e=I&&(H==="card"||H==="card-gutter"||H==="line"),ue=function(K){o.onDeleteTab&&o.onDeleteTab(K.key),P(we.delete)},Me=function(){F&&F(),P(we.add)},Ue=function(K){return K&&W&&M("div",{className:O+"-add-icon","aria-label":"add tab",tabIndex:0,role:"button",onClick:Me,children:ke||M(Ir,{prefix:O+"-add",children:M("span",{className:O+"-add",children:(de==null?void 0:de.add)||M(KE,{})})})})};return dhe({headerWrapperRef:s,headerOffset:S,align:De,direction:U,isScrollable:pe,onScroll:function(K){nt(K)}}),M("div",{className:Ye(O+"-header-nav",O+"-header-nav-"+U,O+"-header-nav-"+ne,O+"-header-size-"+j,O+"-header-nav-"+H,ye),style:G,ref:e,children:We("div",{className:Ye(O+"-header-scroll",(t={},t[O+"-header-overflow-scroll"]=re,t[O+"-header-overflow-dropdown"]=z,t)),ref:v,children:[re&&M(w3,{iconPos:"prev",prefixCls:O,currentOffset:S,headerSize:h,headerWrapperSize:l,direction:U,align:De,onChange:nt}),M(zl,{onResize:Te,children:We("div",{className:O+"-header-wrapper",ref:s,children:[M(zl,{onResize:je,children:We("div",{className:Ye(O+"-header",(r={},r[O+"-header-no-padding"]=!n.headerPadding&&U==="horizontal"&&["line","text"].indexOf(H)>-1,r)),ref:d,style:q,children:[L.map(function(K,Ne){return M(ahe,Be({},Iu({key:Ne,ref:function(at){_.current[K.key]=at},tabKey:K.key},K.props,{prefixCls:O,onDeleteTab:function(){return ue(K)},renderTitle:n.children||he,onClickTab:function(){o.onClickTab&&o.onClickTab(K.key)},isActive:N===K.key,editable:_e&&K.props.closable!==!1,deleteIcon:de==null?void 0:de.delete,deleteButton:be,getIdPrefix:i.getIdPrefix,index:Ne})))}),H==="line"&&M(che,{disabled:!!L.find(function(K){return K&&K.props&&K.props.disabled&&K.key===N}),prefixCls:O,animation:oe,direction:U,getTitleRef:function(K){return _.current[K]},activeTab:N,getHeaderRef:function(){return d}})]})}),!pe&&Ue(_e)]})}),re&&M(w3,{prefixCls:O,currentOffset:S,headerSize:h,headerWrapperSize:l,direction:U,align:De,onChange:nt}),z&&M(rhe,{onClickTab:o.onClickTab,paneChildren:L,prefixCls:O,currentOffset:S,headerSize:h,headerWrapperSize:l,getTitleRef:function(K){return _.current[K]},direction:U}),(_e&&pe||xe)&&We("div",{className:O+"-header-extra",children:[pe&&Ue(_e),xe]})]})})});lU.displayName="TabHeader";var C3=lU;function mhe(n){var e,t=n.animation,r=n.activeTab,i=n.prefixCls,o=n.paneChildren,a=n.direction,s=n.lazyload,l=n.destroyOnHide,u=o.findIndex(function(h){return h.key===r}),c=A.exports.useContext(lO);if(o.every(function(h){return(h==null?void 0:h.props)&&(!("children"in h.props)||h.props.children===null)}))return null;var d=Ye(i+"-content-inner",(e={},e[i+"-animation"]=t,e));return M("div",{className:i+"-content "+i+"-content-"+a,children:M("div",{className:d,style:{marginLeft:"-"+u*100+"%"},children:o.map(function(h,m){var g,v=c.getIdPrefix(m),y=v.tabpane,x=v.tab,_="destroyOnHide"in h.props?h.props.destroyOnHide:l,b=h.key===r;return M("div",{className:Ye(i+"-content-item",(g={},g[i+"-content-item-active"]=b,g)),role:"tabpanel",id:y,"aria-hidden":b?void 0:!0,tabIndex:b?0:-1,"aria-labelledby":x,children:u!==m&&_?null:Ce.cloneElement(h,{lazyload:s,isActive:b})},h.key)})})})}var gs=globalThis&&globalThis.__assign||function(){return gs=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},gs.apply(this,arguments)},ghe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},vhe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},yhe=["mini","small","default","large"],xhe=0,_he=function(n){var e=n.children,t=[];return Ce.Children.forEach(e,function(r){r&&r.type&&r.type.isTabPane&&t.push(r)}),t},bhe=function(n){var e=n.direction,t=n.tabPosition,r=n.animation;return e==="vertical"||t==="left"||t==="right"?!1:Dt(r)?"tabPane"in r?r.tabPane:!1:r},whe={tabPosition:"top",type:"line",overflow:"scroll",showAddButton:!0,lazyload:!0,headerPadding:!0,scrollPosition:"auto"},lO=Ce.createContext({});function She(n,e){var t,r=A.exports.useContext(wt),i=r.getPrefixCls,o=r.size,a=r.componentConfig,s=cn(n,whe,a==null?void 0:a.Tabs),l=_he(s),u=A.exports.useRef(),c=vhe($n(l[0]&&l[0].key,{defaultValue:"defaultActiveTab"in s?s.defaultActiveTab:void 0,value:"activeTab"in s?s.activeTab:void 0}),2),d=c[0],h=c[1],m=i("tabs"),g=s.size||(yhe.indexOf(o)>-1?o:"default"),v=s.animation,y=s.className,x=s.direction,_=s.style,b=s.type,S=s.justify,C=s.destroyOnHide,E=s.lazyload,T=s.onChange,P=s.onClickTab,L=s.onDeleteTab,I=s.renderTabHeader,O=ghe(s,["animation","className","direction","style","type","justify","destroyOnHide","lazyload","onChange","onClickTab","onDeleteTab","renderTabHeader"]),F=A.exports.useMemo(function(){return m+"-"+xhe+++"-"},[]),U=x==="vertical"?"left":s.tabPosition,k={animation:Dt(v)&&"inkBar"in v?v.inkBar:!0,activeTab:d,tabPosition:U,direction:["left","right"].indexOf(U)>-1?"vertical":"horizontal",paneChildren:l,onClickTab:function($){Xt(P)&&P($),$!==d&&("activeTab"in s||h($),Xt(T)&&T($))},onDeleteTab:L,prefixCls:m};A.exports.useImperativeHandle(e,function(){return u},[]);var H=M(mhe,{direction:["left","right"].indexOf(U)>-1?"vertical":"horizontal",animation:bhe(s),activeTab:d,paneChildren:l,prefixCls:m,destroyOnHide:C,lazyload:E});return M("div",lt(Be({},gs({},zn(O,["headerPadding","tabPosition","defaultActiveTab","showAddButton","extra","onAddTab","activeTab","overflow","editable","renderTabTitle","addButton","deleteButton","icons","children","size","type","scrollPosition","offsetAlign"]),{style:_,className:Ye(m,m+"-"+(["left","right"].indexOf(U)>-1?"vertical":"horizontal"),m+"-"+b,m+"-"+U,m+"-size-"+g,(t={},t[m+"-justify"]=S,t),y),ref:u})),{children:We(lO.Provider,{value:gs(gs({},k),{getIdPrefix:function($){return{tab:F+"tab-"+$,tabpane:F+"panel-"+$}}}),children:[U==="bottom"&&H,Xt(I)?I(gs(gs(gs({},zn(s,["children","style","className"])),{size:g}),k),C3):M(C3,Be({},gs({},zn(s,["children","style","className"]),{size:g}))),U!=="bottom"&&H]})}))}var Che=Ce.forwardRef(She),uO=Che;uO.displayName="Tabs";uO.TabPane=nhe;var M3=uO,cO=A.exports.createContext({}),pl=globalThis&&globalThis.__assign||function(){return pl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pl.apply(this,arguments)};function Mhe(n){return n.key||n._key}var Ehe=function(n){var e,t=A.exports.useContext(cO),r=A.exports.useContext(wt).getPrefixCls,i=r("tree-node"),o=t.getTreeState(),a=o.expandedKeys,s=o.currentExpandKeys,l=n.expanded;A.exports.useEffect(function(){return function(){t.onExpandEnd&&t.onExpandEnd(n._key)}},[]);var u=A.exports.useMemo(function(){var h=[],m=function(g){g.forEach(function(v){var y=t.getFieldInfo(v);h.push(y),y.children&&y.children.length&&m(y.children)})};return m(n.childrenData||[]),h},[n.childrenData]),c=A.exports.useMemo(function(){var h=[];if(u.length){var m=new Set(a||[]);u.forEach(function(g){var v,y,x=pl({},t.key2nodeProps[g.key]);if(l)y=x.parentKey===n._key||((v=x.pathParentKeys)===null||v===void 0?void 0:v.every(function(b){return m.has(b)}));else if(x.pathParentKeys){var _=x.pathParentKeys.indexOf(n._key);y=x.pathParentKeys.slice(_+1).every(function(b){return m.has(b)})}y&&h.push(pl(pl(pl({},x),t.getNodeProps(x,m)),{key:g.key}))})}return h},[u,n._key,l]),d=(e=t.virtualListProps)===null||e===void 0?void 0:e.height;return d=rn(d)?d:0,A.exports.useEffect(function(){s.indexOf(n._key)>-1&&c.length===0&&t.onExpandEnd(n._key)},[c,s]),M(Fa,{in:s.indexOf(n._key)>-1&&c.length>0,unmountOnExit:!0,classNames:"tree-slide-expand",timeout:{enter:200,exit:0},onEnter:function(h){var m=h.scrollHeight;h.style.height=l?0:Math.min(d||m,h.scrollHeight)+"px"},onEntering:function(h){var m=h.scrollHeight;h.style.height=l?Math.min(d||m,m)+"px":0},onEntered:function(h){h.style.height=n.expanded?"":0,t.onExpandEnd(n._key)},onExit:function(h){h.style.display="none"},children:M(t_,lt(Be({},pl({itemKey:Mhe,className:i+"-list",isStaticItemHeight:!1},t.virtualListProps,{data:c,"aria-hidden":!0,style:{overflow:"hidden"}})),{children:function(h){return M(Ep,Be({},pl({},h)))}}))})},The=Ehe,ci=globalThis&&globalThis.__assign||function(){return ci=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ci.apply(this,arguments)},Ohe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,e||[])).next())})},Phe=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},E3=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Ahe=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function Rhe(n,e){var t,r,i,o=this,a=A.exports.useContext(cO),s=A.exports.useContext(wt).getPrefixCls,l=A.exports.useRef(),u=E3(A.exports.useState({isAllowDrop:!0,isDragOver:!1,dragPosition:0,isDragging:!1}),2),c=u[0],d=u[1],h=n._key,m=h===void 0?"":h,g=n.title,v=n.icon,y=n.checkable,x=n.selected,_=n.disabled,b=n.disableCheckbox,S=n.isLeaf,C=n.draggable,E=n.expanded,T=n.showLine,P=n.loading,L=n.selectable,I=L===void 0?!0:L,O=s("tree-node"),F=Ye(O,(t={},t[O+"-selected"]=x,t[O+"-is-leaf"]=S,t[O+"-expanded"]=E,t[O+"-disabled-selectable"]=!I,t[O+"-disabled"]=_,t[O+"-draggable"]=C,t),n.className),U=function(){var W=Xt(a.icons)?a.icons(n):a.icons,ee=Xt(n.icons)?n.icons(n):n.icons;return ci(ci({},W),ee)}(),k=A.exports.useCallback(function(W){W!==E&&a.onExpand&&a.onExpand(W,m)},[E,a.onExpand]),H=A.exports.useCallback(function(){return Ohe(o,void 0,void 0,function(){var W,ee,j;return Phe(this,function(G){switch(G.label){case 0:return W=n.isLeaf,ee=n.expanded,W?[2]:!(!((j=n.childrenData)===null||j===void 0)&&j.length)&&Xt(a.loadMore)&&!ee?[4,a.loadMore(n)]:[3,2];case 1:return G.sent(),[3,3];case 2:k(!ee),G.label=3;case 3:return[2]}})})},[n,k,a.loadMore]),$=function(){if(P)return"loadingIcon"in U?U.loadingIcon:M(dc,{});var W=null,ee=!1;if(S)T&&(W="switcherIcon"in U?U.switcherIcon:M(LZ,{}),ee=!0);else{var j=T?M("span",{className:O+"-"+(E?"minus":"plus")+"-icon"}):M(Yz,{});W="switcherIcon"in U?U.switcherIcon:j,ee=!T}if(W)return W=M("span",{className:O+"-switcher-icon","aria-label":E?"fold button":"expand button",role:"button",tabIndex:0,onClick:H,children:W}),ee?M(Ir,{prefix:O,children:W}):W},V=A.exports.useCallback(ud(function(W){var ee=l.current;if(!!ee){var j=ee.getBoundingClientRect(),G=window.pageYOffset+j.top,ne=W.pageY,ye=j.height/4,xe=ne-G,oe=xe<ye?-1:xe<j.height-ye?0:1,de=a.allowDrop(n,oe);d(ci(ci({},c),{isAllowDrop:de,isDragOver:!0,dragPosition:oe})),a.onNodeDragOver&&a.onNodeDragOver(W,n,oe)}}),[a.onNodeDragOver]),N=function(W,ee){var j=n.disableCheckbox,G=n.disabled;j||G||a.onCheck&&a.onCheck(W,m,ee)};return We(Ut,{children:[We("div",{style:n.style,className:F,ref:e,role:"treeitem","aria-disabled":_,"aria-expanded":E,children:[M("span",{className:O+"-indent","aria-hidden":!0,children:Ahe([],E3(Array(n._level)),!1).map(function(W,ee){var j;return M("span",{className:Ye(O+"-indent-block",(j={},j[O+"-indent-block-lineless"]=n._lineless&&n._lineless[ee],j))},ee)})}),M("span",{className:Ye(O+"-switcher",(r={},r[O+"-switcher-expanded"]=E,r)),children:$()}),y?M(Hm,{disabled:b||_,value:m,indeterminate:n.indeterminated,checked:n.checked,onChange:N}):null,We("span",{"aria-grabbed":c.isDragging,ref:l,className:Ye(O+"-title",(i={},i[O+"-title-draggable"]=C,i[O+"-title-gap-top"]=c.isDragOver&&c.isAllowDrop&&c.dragPosition<0,i[O+"-title-gap-bottom"]=c.isDragOver&&c.isAllowDrop&&c.dragPosition>0,i[O+"-title-highlight"]=!c.isDragging&&c.isDragOver&&c.isAllowDrop&&c.dragPosition===0,i[O+"-title-dragging"]=c.isDragging,i[O+"-title-block"]=n.blockNode,i)),onClick:function(W){var ee=a.onSelect,j=a.actionOnClick;if(!n.disabled){var G=[].concat(j);I&&G.indexOf("select")>-1&&ee&&ee(m,W),G.indexOf("expand")>-1&&H(),y&&G.indexOf("check")>-1&&N(!n.checked,W)}},draggable:C,onDrop:function(W){W.stopPropagation(),W.preventDefault(),a.onNodeDrop&&a.onNodeDrop(W,n,c.dragPosition),V.cancel(),d(ci(ci({},c),{isDragOver:!1,dragPosition:0}))},onDragStart:function(W){if(!!C){W.stopPropagation(),d(ci(ci({},c),{isDragging:!0})),a.onNodeDragStart&&a.onNodeDragStart(W,n);try{W.dataTransfer.setData("text/plain","")}catch{}}},onDragEnd:function(W){!C||(W.stopPropagation(),V.cancel(),d(ci(ci({},c),{isDragOver:!1,isDragging:!1})),a.onNodeDragEnd&&a.onNodeDragEnd(W,n))},onDragOver:function(W){W.preventDefault(),W.stopPropagation(),W.persist(),V(W)},onDragLeave:function(W){!C||(W.stopPropagation(),V.cancel(),d(ci(ci({},c),{isDragOver:!1})),a.onNodeDragLeave&&a.onNodeDragLeave(W,n))},children:[v&&M("span",{className:O+"-icon "+O+"-custom-icon",children:v}),M("span",{className:O+"-title-text",children:Xt(a.renderTitle)?a.renderTitle(n):g}),C&&M("span",{className:O+"-icon "+O+"-drag-icon",children:"dragIcon"in U?U.dragIcon:M(qz,{})})]}),Xt(a.renderExtra)&&a.renderExtra(n)]}),M(The,Be({},ci({},n)))]})}var uU=A.exports.forwardRef(Rhe);uU.displayName="TreeNode";var Ep=Ce.memo(uU),Nu=globalThis&&globalThis.__assign||function(){return Nu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Nu.apply(this,arguments)},T3=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Ihe=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function Nhe(n){return n.key||n._key}function Lhe(n,e){var t=n.className,r=n.style,i=n.filterNode,o=n.virtualListProps,a=n.expandedKeys,s=n.currentExpandKeys,l=n.saveCacheNode,u=n.nodeList,c=n.getNodeProps,d=(o==null?void 0:o.threshold)!==null,h=A.exports.useRef(),m=A.exports.useRef(),g=A.exports.useMemo(function(){return new Set(a)},[a]),v=A.exports.useMemo(function(){var S=new Set,C=new Set(s);return u.forEach(function(E){var T=E.pathParentKeys||[];T.every(function(P){return!C.has(P)&&g.has(P)})&&S.add(E._key)}),S},[g,s,u]),y=A.exports.useCallback(function(){return u.filter(function(S){var C=!i||i&&i(S);return C&&v.has(S.key)?!0:(l(M(Ep,Be({},Nu({},S,c(S),{key:S.key})))),!1)})},[u,i,v]),x=T3(A.exports.useState(function(){return y()}),2),_=x[0],b=x[1];return GT(function(){b(y())},[y]),A.exports.useImperativeHandle(e,function(){return{scrollIntoView:function(S,C){var E=S,T=typeof S=="string";if(T){var P=S;!v.has(S)&&C&&C.pathParentKeys&&(P=Ihe([],T3(C.pathParentKeys),!1).reverse().find(function(O){return v.has(O)})||E),E=_.findIndex(function(O){var F=O._key;return F===P})}if(!d&&m.current){var L=m.current,I=L?L.children[E]:null;I&&nU(I,{boundary:L.parentElement})}else h.current&&h.current.scrollTo({index:E})}}}),d?M(t_,lt(Be({},Nu({className:t,style:r,ref:h,data:_,isStaticItemHeight:!1,itemKey:Nhe,onMouseDown:n.onMouseDown},n.ariaProps,o)),{children:function(S){var C=M(Ep,Be({},Nu({},S,c(S,g),{key:S.key})));return l(C),C}})):M("div",lt(Be({},Nu({role:"tree",tabIndex:0,className:t,style:r,ref:m},n.ariaProps,{onMouseDown:n.onMouseDown})),{children:_.map(function(S){var C=M(Ep,Be({},Nu({},S,c(S,g),{key:S.key})));return l(C),C})}))}var Dhe=A.exports.forwardRef(Lhe),g0=globalThis&&globalThis.__assign||function(){return g0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},g0.apply(this,arguments)},Vu=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Gu=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},khe=function(n){var e=function(t){return Ce.Children.map(t,function(r){if(!!Ce.isValidElement(r)){var i=r.key;return g0(g0({},r.props),{key:i,children:e(r.props.children)})}})};return e(n)};function cU(n,e){var t=new Set,r=function(i){i.map(function(o){var a=o.key,s=e[a];!s||s.disabled||s.disableCheckbox||s.checkable===!1||(t.add(a),r(s.children||[]))})};return n&&r(n.children||[]),t}var fU=function(n,e,t,r){var i=Gu([],Vu(e[n].pathParentKeys),!1);i.reverse().forEach(function(o){var a=e[o];if(a&&!a.disabled&&!a.disableCheckbox&&a.checkable!==!1){var s=0,l=0;a.children.some(function(u){var c=u.key,d=e[c];if(!d||d.disabled||d.disableCheckbox||d.checkable===!1)return!1;if(s++,t.has(c))l++;else if(r.has(c))return l+=.5,!0}),!l||l===s?r.delete(o):r.add(o),l&&l===s?t.add(o):t.delete(o)}})};function Fhe(n,e){var t=new Set(n||[]),r=new Set,i=new Set;return n.forEach(function(o){if(!i.has(o)){var a=cU(e[o],e);a.forEach(function(s){i.add(s)})}e[o]&&!e[o].pathParentKeys.some(function(s){return t.has(s)})&&fU(o,e,t,r)}),{checkedKeys:Gu([],Vu(new Set(Gu(Gu([],Vu(t),!1),Vu(i),!1))),!1),indeterminateKeys:Gu([],Vu(r),!1)}}function zhe(n,e,t,r,i){if(!r[n])return{checkedKeys:t,indeterminateKeys:i};var o=new Set(t),a=new Set(i),s=cU(r[n],r),l=o;return e?(l.add(n),a.delete(n),s.forEach(function(u){l.add(u)})):(a.delete(n),l.delete(n),s.forEach(function(u){l.delete(u)})),fU(n,r,o,a),{checkedKeys:Gu([],Vu(l),!1),indeterminateKeys:Gu([],Vu(a),!1)}}var Bhe=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qr=globalThis&&globalThis.__assign||function(){return qr=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qr.apply(this,arguments)},Uhe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,e||[])).next())})},Hhe=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Vhe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},is=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},si=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},dU={key:"key",title:"title",children:"children",selectable:"selectable",disabled:"disabled",disableCheckbox:"disableCheckbox",checkable:"checkable",isLeaf:"isLeaf"},O3={selectable:!0,autoExpandParent:!0,checkedStrategy:"all",actionOnClick:"select",allowDrop:function(){return!0},fieldNames:dU},Ghe=["style","className","height","size","blockNode","autoExpandParent","checkedStrategy","fieldNames","icons","virtualListProps","showLine","selectable","allowDrop","actionOnClick"],Whe=function(n){Bhe(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.cacheNodes={},i.key2nodeProps={},i.getMergedProps=function(c){var d=i.context.componentConfig,h=c||i.props;return Ghe.reduce(function(m,g){return h[g]!==void 0?m[g]=h[g]:(d==null?void 0:d.Tree)&&(d==null?void 0:d.Tree[g])!==void 0?m[g]=d==null?void 0:d.Tree[g]:O3[g]!==void 0&&(m[g]=O3[g]),m},{})},i.scrollIntoView=function(c,d){var h=c;(typeof c=="string"||d)&&(h=c||d._key),i.nodeListRef&&i.nodeListRef.scrollIntoView(h,d||i.key2nodeProps[h])},i.getTreeData=function(){return"treeData"in i.props?i.props.treeData:khe(i.props.children)},i.needUpdateTreeData=function(c,d){var h=["fieldNames","selectable","draggable","checkStrictly","showLine","blockNode","checkable","treeData","children"];return c.treeData!==d.treeData||c.children!==d.children||h.some(function(m){return hs(c[m],d[m])})},i.getFieldInfo=function(c){var d=i.getMergedProps(),h=d.selectable,m=qr(qr({},dU),"treeData"in i.props?d.fieldNames:{}),g={children:c[m.children],selectable:m.selectable in c?c[m.selectable]:h,checkable:m.checkable in c?c[m.checkable]:i.props.checkable,title:c[m.title],disabled:c[m.disabled],disableCheckbox:c[m.disableCheckbox],isLeaf:c[m.isLeaf],key:c[m.key]};return m.key in c||delete g.key,g},i.getNodeList=function(c,d){i.key2nodeProps={};var h=d||i.context.getPrefixCls("tree"),m=[],g=0,v=i.getMergedProps(),y=v.showLine,x=v.blockNode,_=function(b,S){var C=b.length;return b.map(function(E,T){var P=i.getFieldInfo(E),L=P.children,I=P.selectable,O=P.checkable,F=P.key,U=F===void 0?((S==null?void 0:S._key)||"")+"-"+T:F,k=Vhe(P,["children","selectable","checkable","key"]),H=qr(qr(qr({dataRef:E,draggable:i.props.draggable,selectable:I,checkable:O,showLine:y,blockNode:x},E),k),{key:U,children:L,_key:U,_index:g++,parentKey:S?S._key:void 0,pathParentKeys:S&&S.pathParentKeys||[],_level:S._level||0,_lineless:S&&S._lineless?si(si([],is(S._lineless||[]),!1),[S._isTail],!1):[]});return C===T+1&&(H.className=Ye(h+"-node-is-tail",H.className)),m.push(H),i.key2nodeProps[U]=H,L&&L.length&&(i.key2nodeProps[U].children=_(L,{_key:U,_level:H._level+1,_lineless:H._lineless,_isTail:C===T+1,pathParentKeys:si(si([],is((S==null?void 0:S.pathParentKeys)||[]),!1),[U],!1)})),H})};return _(c||[],{}),m},i.getInitExpandedKeys=function(c){if(!i.getMergedProps().autoExpandParent)return c||[];if(!c)return Object.keys(i.key2nodeProps).filter(function(h){var m=i.key2nodeProps[h];return m.children&&m.children.length});var d={};return c.forEach(function(h){var m=i.key2nodeProps[h];!m||(d[h]=1,m.pathParentKeys&&m.pathParentKeys.forEach(function(g){d[g]=1}))}),Object.keys(d)},i.getInitCheckedKeys=function(c){if(!i.props.checkStrictly){var d=Fhe(c,i.key2nodeProps),h=d.checkedKeys,m=d.indeterminateKeys;return{checkedKeys:h,halfCheckedKeys:m}}return{checkedKeys:c,halfCheckedKeys:i.props.halfCheckedKeys||[]}},i.handleSelect=function(c,d){var h=i.props.onSelect,m={e:d,node:i.cacheNodes[c]};if(i.props.multiple){var g=si([],is(i.state.selectedKeys),!1),v=g.indexOf(c);v>-1?(g.splice(v,1),m.selected=!1):(m.selected=!0,g.push(c)),m.selectedNodes=g.map(function(y){return i.cacheNodes[y]}),"selectedKeys"in i.props||i.setState({selectedKeys:g}),h&&h(g,m)}else m.selected=!0,m.selectedNodes=[i.cacheNodes[c]],"selectedKeys"in i.props||i.setState({selectedKeys:[c]}),h&&h([c],m)},i.handleCheck=function(c,d,h){var m=i.getMergedProps().checkedStrategy,g=i.props,v=g.onCheck,y=g.checkStrictly,x={e:h,node:i.cacheNodes[d]},_=i.state.checkedKeys,b=i.state.halfCheckedKeys;if(y){c?_=_.concat(d):_=_.filter(function(P){return P!==d});var S={};"checkedKeys"in i.props||(S.checkedKeys=_),"halfCheckedKeys"in i.props||(S.halfCheckedKeys=b),Zz(S)||i.setState(qr({},S))}else{var C=zhe(d,c,_,i.key2nodeProps,b),E=C.checkedKeys,T=C.indeterminateKeys;_=E,b=T,"checkedKeys"in i.props?i.setState({halfCheckedKeys:b}):i.setState({checkedKeys:_,halfCheckedKeys:b}),m===e.SHOW_PARENT?_=_.filter(function(P){var L=i.key2nodeProps[P];if(!L||_.indexOf(L.parentKey)===-1)return!0}):m===e.SHOW_CHILD&&(_=_.filter(function(P){var L=i.key2nodeProps[P];if(!L||!L.children||!L.children.length)return!0}))}v&&v(_,qr({checkedNodes:_.map(function(P){return i.cacheNodes[P]}).filter(function(P){return P}),checked:c,halfCheckedKeys:b,halfCheckedNodes:b.map(function(P){return i.cacheNodes[P]}).filter(function(P){return P})},x))},i.handleLoadMore=function(c){var d=i.props.loadMore;if(Xt(d)){var h=i.state,m=h.loadingKeys,g=m===void 0?[]:m,v=h.loadedKeys;i.setState({loadingKeys:Array.from(new Set(si(si([],is(g),!1),[c._key],!1))),loadedKeys:v.filter(function(y){return y!==c._key})},function(){return Uhe(i,void 0,void 0,function(){var y;return Hhe(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,d(this.cacheNodes[c._key])];case 1:return x.sent(),this.setState({loadedKeys:Array.from(new Set(si(si([],is(this.state.loadedKeys),!1),[c._key],!1))),loadingKeys:this.state.loadingKeys.filter(function(_){return _!==c._key})}),this.handleExpand(!c.expanded,c._key),[3,3];case 2:return y=x.sent(),console.error("[tree]load data error: ",y),this.setState({loadingKeys:this.state.loadingKeys.filter(function(_){return _!==c._key})}),[3,3];case 3:return[2]}})})})}},i.handleNodeDragStart=function(c,d){i.dragNode=i.cacheNodes[d._key],i.dropPosition=0;var h=i.props.onDragStart;h&&h(c,i.cacheNodes[d._key])},i.handleNodeDragEnd=function(c,d){i.dragNode=null,i.dropPosition=0;var h=i.props.onDragEnd;h&&h(c,i.cacheNodes[d._key])},i.handleNodeDragOver=function(c,d,h){i.dropPosition=h;var m=i.props.onDragOver;m&&m(c,i.cacheNodes[d._key])},i.handleNodeDragLeave=function(c,d){i.dropPosition=0;var h=i.props.onDragLeave;h&&h(c,i.cacheNodes[d._key])},i.isChildOfNode=function(c,d){for(var h=i.key2nodeProps[c.parentKey];h;){var m=h._key,g=h.parentKey;if(m===d.props._key)return!0;if(g===m)return;h=i.key2nodeProps[g]}},i.isSameNode=function(c,d){if(c===void 0||d===void 0)return!1;if(c===d)return!0;var h=c.key,m=d.key;if(h!==void 0||m!==void 0)return h===m;var g=c.props._key,v=d.props._key;return g===void 0&&v===void 0?!1:g===v},i.handleNodeDrop=function(c,d,h){if(i.dragNode){var m=i.getMergedProps().allowDrop,g=i.props.onDrop,v=i.cacheNodes[d._key];if(g&&!i.isChildOfNode(d,i.dragNode)&&!i.isSameNode(i.dragNode,v)){if(m&&!m({dropNode:v,dragNode:i.dragNode,dropPosition:h}))return;g({dragNode:i.dragNode,dropNode:v,dropPosition:h,e:c})}}},i.handleAllowDrop=function(c,d){var h=i.getMergedProps().allowDrop,m=!0;return typeof h=="function"&&(m=h({dropNode:i.cacheNodes[c._key],dragNode:i.dragNode,dropPosition:d})),m},i.handleExpand=function(c,d){var h=i.state,m=h.currentExpandKeys,g=h.expandedKeys,v=g===void 0?[]:g,y=i.props.onExpand;if(!(m.indexOf(d)>-1)){var x=[];c?x=Array.from(new Set(si(si([],is(v),!1),[d],!1))):x=v.filter(function(_){return _!==d}),"expandedKeys"in i.props||i.setState({expandedKeys:x,currentExpandKeys:si(si([],is(m),!1),[d],!1)}),y&&y(x,{expanded:c,node:i.cacheNodes[d],expandedNodes:x.map(function(_){return i.cacheNodes[_]}).filter(function(_){return _})})}},i.getNodeProps=function(c,d){var h=i.getMergedProps().autoExpandParent,m=i.props.loadMore,g=i.state,v=g.selectedKeys,y=g.expandedKeys,x=g.checkedKeys,_=g.halfCheckedKeys,b=g.loadingKeys,S=b===void 0?[]:b,C=g.loadedKeys,E=C===void 0?[]:C,T=c.children&&c.children.length,P={isLeaf:!T,autoExpandParent:T?h:!1,expanded:d?d.has(c._key):y.indexOf(c._key)>-1};if(m){var L=E.indexOf(c._key)>-1;P.loaded=L,P.isLeaf=T?!1:c.isLeaf}return qr(qr(qr({},c),P),{selected:v&&v.indexOf(c._key)>-1,indeterminated:(_==null?void 0:_.indexOf(c._key))>-1,loading:S.indexOf(c._key)>-1,checked:x&&x.indexOf(c._key)>-1,selectedKeys:v,checkedKeys:x,loadingKeys:S,loadedKeys:E,expandedKeys:i.state.expandedKeys,childrenData:c.children||[],children:null})},i.handleExpandEnd=function(c){var d=i.state.currentExpandKeys;d.indexOf(c)>-1&&i.setState({currentExpandKeys:d.filter(function(h){return h!==c})})},i.getTreeState=function(){return i.state},i.state={};var o=i.getTreeData(),a=i.getNodeList(o,r.getPrefixCls("tree")),s=i.getInitCheckedKeys(t.checkedKeys||t.defaultCheckedKeys||[]),l=s.checkedKeys,u=s.halfCheckedKeys;return i.state={selectedKeys:t.selectedKeys||t.defaultSelectedKeys||[],checkedKeys:l,halfCheckedKeys:u,expandedKeys:i.getInitExpandedKeys(t.expandedKeys||t.defaultExpandedKeys),loadedKeys:[],loadingKeys:[],currentExpandKeys:[],nodeList:a},i}return e.getDerivedStateFromProps=function(t,r){var i={};return"selectedKeys"in t&&!hs(t.selectedKeys,r.selectedKeys)&&(i.selectedKeys=t.selectedKeys||[]),Object.keys(i).length?i:null},e.prototype.componentDidUpdate=function(t){var r=this,i=this.getMergedProps(t),o=this.getMergedProps();if(t!==this.props||!hs(i,o)){var a={};if(this.needUpdateTreeData(qr({prevMergedProps:i},t),qr(qr({},o),this.props))){var s=this.getTreeData(),l=this.getNodeList(s);a.treeData=s,a.nodeList=l}if(a.treeData||"checkedKeys"in this.props&&!hs(t.checkedKeys,this.props.checkedKeys)){var u="checkedKeys"in this.props?this.props.checkedKeys:this.state.checkedKeys,c=this.getInitCheckedKeys(u||[]),d=c.halfCheckedKeys,h=c.checkedKeys;hs(h,this.state.checkedKeys)||(a.checkedKeys=h),hs(d,this.state.halfCheckedKeys)||(a.halfCheckedKeys=d)}this.props.checkStrictly&&"halfCheckedKeys"in this.props&&!hs(t.halfCheckedKeys,this.props.halfCheckedKeys)&&(a.halfCheckedKeys=this.props.halfCheckedKeys),"expandedKeys"in this.props&&!hs(this.props.expandedKeys,t.expandedKeys)&&(a.expandedKeys=this.props.expandedKeys,a.currentExpandKeys=si(si([],is(a.expandedKeys),!1),is(this.state.expandedKeys),!1).reduce(function(g,v){var y=g.indexOf(v);return y===-1?g.push(v):g.splice(y,1),g},[]).filter(function(g,v,y){var x;if(r.key2nodeProps[g]){var _=r.key2nodeProps[g].pathParentKeys;return _.some(function(b){return y.indexOf(b)>-1})?!1:(x=r.key2nodeProps[g].children)===null||x===void 0?void 0:x.length}}));var m=a.currentExpandKeys||this.state.currentExpandKeys;a.treeData&&m&&(a.currentExpandKeys=m.filter(function(g){var v=a.treeData.find(function(y){return y._key===g});return v&&v.children&&v.children.length})),Object.keys(a).length&&this.setState(a)}},e.prototype.render=function(){var t,r=this;this.cacheNodes={};var i=this.getMergedProps(),o=i.className,a=i.showLine,s=i.size,l=i.virtualListProps,u=i.height,c=i.style,d=i.icons,h=i.actionOnClick,m=this.props,g=m.loadMore,v=m.checkable,y=l?qr({threshold:100},l):u?{height:u,threshold:100}:{threshold:null},x=this.context.getPrefixCls,_=x("tree");return M(cO.Provider,{value:{icons:d,key2nodeProps:this.key2nodeProps,getFieldInfo:this.getFieldInfo,getTreeState:this.getTreeState,getNodeProps:this.getNodeProps,onExpandEnd:this.handleExpandEnd,onSelect:this.handleSelect,onCheck:this.handleCheck,onNodeDragStart:this.handleNodeDragStart,onNodeDragEnd:this.handleNodeDragEnd,onNodeDragLeave:this.handleNodeDragLeave,onNodeDragOver:this.handleNodeDragOver,onNodeDrop:this.handleNodeDrop,onExpand:this.handleExpand,renderExtra:this.props.renderExtra,renderTitle:this.props.renderTitle,loadMore:g&&this.handleLoadMore,allowDrop:this.handleAllowDrop,actionOnClick:h,virtualListProps:y},children:M(Dhe,{ref:function(b){r.nodeListRef=b},className:Ye(_,(t={},t[_+"-checkable"]=v,t[_+"-show-line"]=a,t[_+"-size-"+s]=s,t),o),style:c,filterNode:this.props.filterNode,virtualListProps:y,expandedKeys:this.state.expandedKeys,currentExpandKeys:this.state.currentExpandKeys,getNodeProps:this.getNodeProps,nodeList:this.state.nodeList,onMouseDown:this.props.onMouseDown,saveCacheNode:function(b){r.cacheNodes[b.key]=b},ariaProps:{role:"tree","aria-multiselectable":this.props.multiple,tabIndex:0}})})},e.displayName="Tree",e.SHOW_PARENT="parent",e.SHOW_ALL="all",e.SHOW_CHILD="child",e.Node=Ep,e.contextType=wt,e}(A.exports.Component),P3=Whe;function $he(n,e){var t=A.exports.useContext(wt).getPrefixCls,r=t("typography"),i=n.className,o=n.style,a=n.children,s=Ye(r,i);return M("article",{ref:e,style:o,className:s,children:a})}var hU=A.exports.forwardRef($he);hU.displayName="Typography";var jhe=hU,Khe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,e||[])).next())})},Xhe=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function Yhe(n){return Khe(this,void 0,void 0,function(){var e,t,r,i,o;return Xhe(this,function(a){switch(a.label){case 0:if(!(navigator.clipboard&&navigator.clipboard.writeText))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(n)];case 2:return a.sent(),[2];case 3:return e=a.sent(),console.error(e??new DOMException("The request is not allowed","NotAllowedError")),[3,4];case 4:t=document.createElement("span"),t.textContent=n,t.style.whiteSpace="pre",document.body.appendChild(t),r=window.getSelection(),i=window.document.createRange(),r.removeAllRanges(),i.selectNode(t),r.addRange(i),o=!1;try{o=window.document.execCommand("copy")}catch(s){console.log("error",s)}return r.removeAllRanges(),window.document.body.removeChild(t),[2,o?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))]}})})}var A3=function(n){return Fm(n)||rn(n)};function pd(n){var e=[""];return Ce.Children.forEach(n,function(t){var r=e.length-1,i=e[r];A3(t)&&A3(i)?e[r]=""+i+t:t&&t.props&&t.props.children&&e.push(pd(t.props.children))}),e.join("")}var qhe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function Zhe(n){var e=n.children,t=n.copyable,r=n.editable,i=n.ellipsis,o=n.expanding,a=n.setEditing,s=n.onClickExpand,l=n.forceShowExpand,u=n.isEllipsis,c=n.currentContext,d=c===void 0?{}:c,h=d.getPrefixCls,m=d.locale,g=h("typography"),v=qhe(A.exports.useState(!1),2),y=v[0],x=v[1],_=A.exports.useRef(null),b=Dt(t)?t:{},S=Dt(i)?i:{},C=Dt(r)?r:{},E=gr(S.expandNodes)?S.expandNodes:[m.Typography.fold,m.Typography.unfold];A.exports.useEffect(function(){return function(){clearTimeout(_.current),_.current=null}},[]);function T(F){if(!y){var U=b.text!==void 0?b.text:pd(e);Yhe(U),x(!0),b.onCopy&&b.onCopy(U,F),_.current=setTimeout(function(){x(!1)},3e3)}}var P=b.tooltips||[m.Typography.copy,m.Typography.copied],L=t&&M(Sr,{content:y?P[1]:P[0],children:M("span",{className:y?g+"-operation-copied":g+"-operation-copy",onClick:T,children:y?M(Vx,{}):b.icon||M(fZ,{})})}),I=r&&M(Sr,{content:m.Typography.edit,children:M("span",{className:g+"-operation-edit",onClick:function(F){C.onStart&&C.onStart(pd(e),F),a(!0)},children:M(mZ,{})})}),O=l||S.expandable&&u?M("a",{className:g+"-operation-expand",onClick:s,children:o?E[0]:E[1]}):null;return We(Ut,{children:[O,I,L]})}function Jhe(n){var e=n.prefixCls,t=n.children,r=n.setEditing,i=n.editableConfig,o=Ye(e+"-typography",e+"-edit-content"),a=pd(t),s=A.exports.useRef(null);A.exports.useEffect(function(){if(s.current&&s.current.focus&&s.current.focus(),s.current&&s.current.dom){var d=s.current.dom.value.length;s.current.dom.setSelectionRange(d,d)}},[]);function l(){r(!1),i.onEnd&&i.onEnd(a)}function u(d){i.onChange&&i.onChange(d)}function c(){l()}return M("div",{className:o,children:M(zs.TextArea,{onBlur:c,ref:s,value:a,autoSize:!0,onChange:u,onPressEnter:l})})}function Qhe(n){var e=A.exports.useRef(),t=function(){e.current&&(e.current.disconnect(),e.current=null)},r=function(i){i&&(e.current&&t(),e.current=new Zx(n),e.current.observe(i))};return{currentOr:e.current,cor:r,dor:t}}var epe=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function tpe(n,e){var t=Array.prototype.slice.apply(n),r=t.map(function(o){return o+": "+n.getPropertyValue(o)+";"}).join(""),i=Object.entries(e).map(function(o){var a=epe(o,2),s=a[0],l=a[1];return s+": "+l+";"}).join("");return r+i}function Xw(n){if(!n)return 0;var e=n.match(/^\d*(\.\d*)?/);return e?Number(e[0]):0}var ar;function npe(n,e,t,r,i){var o=e.rows||1,a=e.ellipsisStr!==void 0?e.ellipsisStr:"...",s=e.suffix!==void 0?e.suffix:"";ar&&n.tagName!==ar.tagName&&(document.body.removeChild(ar),ar=void 0),ar||(ar=document.createElement(n.tagName),document.body.appendChild(ar));var l=window.getComputedStyle(n),u=l.whiteSpace||"normal",c={height:"auto","min-height":"auto","max-height":"auto",left:"0",top:"-99999999px",position:"fixed","z-index":"-200","text-overflow":"clip","white-space":u==="nowrap"?"normal":u,overflow:"auto"};if(l.display==="inline"){var d=n.getBoundingClientRect();c.width=d.width+"px",c.display="block",c["box-sizing"]="border-box"}var h=tpe(l,c);ar.setAttribute("style",h),ar.setAttribute("aria-hidden","true"),Rr.exports.render(A.exports.createElement("span",null,t),ar);var m=Array.prototype.slice.apply(ar.childNodes[0].cloneNode(!0).childNodes),g=pd(A.exports.Children.toArray(r));Rr.exports.unmountComponentAtNode(ar),ar.innerHTML="";var v=document.createTextNode(""+a+s);ar.appendChild(v),m.forEach(function(T){ar.appendChild(T)});var y=document.createTextNode(g);ar.insertBefore(y,ar.firstChild);var x=Xw(l.lineHeight),_=Math.round(x*o+Xw(l.paddingTop)+Xw(l.paddingBottom));function b(){ar.setAttribute("style","display: none"),ar.innerHTML=""}function S(){return ar.scrollHeight<=_}if(S())return Rr.exports.unmountComponentAtNode(ar),b(),{text:g,ellipsis:!1};if(i)return b(),{ellipsis:!0,text:g};function C(T,P,L,I){P===void 0&&(P=0),L===void 0&&(L=g.length);var O=Math.floor((P+L)/2),F=g.slice(0,O);if(T.textContent=F,P>=L-1)for(var U=L;U>=P;U-=1){var k=g.slice(0,U);if(T.textContent=k,S()||!k)return}return S()?C(T,O,L):C(T,P,O)}C(y);var E=y.textContent;return b(),{text:E,ellipsis:!0}}var oa=globalThis&&globalThis.__assign||function(){return oa=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},oa.apply(this,arguments)},rpe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Nh=globalThis&&globalThis.__read||function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function ipe(n,e){var t=n.type,r=n.bold,i=n.disabled,o=n.mark,a=n.underline,s=n.delete,l=n.code,u=[],c=[];return t&&c.push(e+"-"+t),i&&c.push(e+"-disabled"),r&&u.push("b"),a&&u.push("u"),s&&u.push("del"),l&&u.push("code"),o&&u.push("mark"),{component:u,className:c}}function fO(n){var e=n.componentType,t=n.style,r=n.className,i=n.children,o=n.editable,a=n.ellipsis,s=n.heading,l=n.blockquote,u=n.copyable,c=rpe(n,["componentType","style","className","children","editable","ellipsis","heading","blockquote","copyable"]),d=A.exports.useContext(wt),h=d.getPrefixCls,m=h("typography"),g=A.exports.useRef(),v=ipe(n,m),y=v.component,x=v.className,_=Nh(A.exports.useState(!1),2),b=_[0],S=_[1],C=Nh(A.exports.useState(!1),2),E=C[0],T=C[1],P=Nh(A.exports.useState(""),2),L=P[0],I=P[1],O=Nh(A.exports.useState(!1),2),F=O[0],U=O[1],k=A.exports.useRef(null),H=A.exports.useRef(null),$=Dt(o)?o:{},V="editing"in $?$.editing:b,N=a?oa({rows:1,ellipsisStr:"...",cssEllipsis:!0},Dt(a)?a:{}):{};function W(){var we=N.rows,De=N.ellipsisStr,pe=N.suffix,Oe=N.onEllipsis,Te=N.expandable,je=N.cssEllipsis;if(!!je&&!(pe||De!=="...")&&!(Oe||Te||Oe)&&!(o||u))return we===1}var ee=W(),j=Nh($n(!1,{defaultValue:N.defaultExpanded,value:N.expanded}),2),G=j[0],ne=j[1];function ye(we){return M(Ut,{children:M(Zhe,Be({},oa({},n,{setEditing:S,onClickExpand:xe,expanding:G,isEllipsis:E,forceShowExpand:we,currentContext:d})))})}function xe(we){ne(!G),n.onClickExpand&&n.onClickExpand(we),N.onExpand&&N.onExpand(!G,we)}var oe=function(){hi(g.current),g.current=eo(function(){Le()})},de=Qhe(oe),be=de.cor,ke=de.dor,he=de.currentOr;Jp(function(){he||oe()},[he]),GT(function(){N.onEllipsis&&N.onEllipsis(E)},[E]),Jp(function(){return k.current&&be(k.current),function(){ke(),hi(g.current)}},[i,G,E,b,N.suffix,N.ellipsisStr,N.expandable,N.expandNodes,N.rows,N.cssEllipsis]);function Le(){var we=E;if(!b)if(N.rows){U(!0);var De=npe(H.current||k.current,N,ye(!!N.expandable),i,ee||G),pe=De.ellipsis,Oe=De.text;U(!1),pe&&Oe&&I(Oe),pe!==we&&T(pe)}else{var Te=!!N.rows;Te!==we&&T(Te)}}function le(we,De,pe){var Oe=we,Te=N.rows&&!ee?{display:"block"}:{};return De.forEach(function(je,it){var nt=Dt(pe.mark)&&pe.mark.color?{style:oa({backgroundColor:pe.mark.color},Te)}:{style:Te},q=it===0?{ref:H}:{};Oe=Ce.createElement(je,oa(oa({},nt),q),Oe)}),Oe}function ce(){var we,De=pd(Ce.Children.toArray(i)),pe=N.ellipsisStr!==void 0?N.ellipsisStr:"...",Oe=N.suffix!==void 0&&N.suffix,Te=N.showTooltip,je=Dt(N.showTooltip)&&N.showTooltip.type==="popover"?"popover":"tooltip",it=Dt(N.showTooltip)?N.showTooltip.props||{}:{},nt=je==="popover"?$ie:Sr,q=E&&!Te&&!G?{title:De}:{},z=oa({ref:k,style:t},q),re=E&&Te&&!G;function _e(){var Ue=E&&!G?L:i,K=y.length?le(Ue,y,n):Ue;if(N.rows&&!ee&&y.length){var Ne=We(Ut,{children:[re?M("span",{children:Ue}):Ue,F||E&&!G&&!ee?pe:null,Oe,ye(F?!!N.expandable:void 0)]});return le(Ne,y,n)}return We(Ut,{children:[re?M("span",{children:K}):K,F||E&&!G&&!ee?pe:null,Oe,ye(F?!!N.expandable:void 0)]})}var ue;e==="Paragraph"?ue=l?"blockquote":"div":e==="Title"?ue="h"+s:e==="Text"&&(ue=a?"div":"span");var Me=M(ue,lt(Be({},oa({className:Ye(m,(we={},we[m+"-simple-ellipsis"]=ee&&!G,we),x,r)},z,zn(c,["spacing","type","close","bold","disabled","mark","underline","delete","code","copyable","isEllipsis","expanding","onClickExpand","setEditing","forceShowExpand"]))),{children:_e()}));return re?M(nt,lt(Be({},oa({content:De},it)),{children:Me})):Me}return V?M(Jhe,Be({},oa({},n,{prefixCls:m,setEditing:S,editableConfig:$}))):ce()}var jC=globalThis&&globalThis.__assign||function(){return jC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},jC.apply(this,arguments)},ope=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function pU(n){var e=n.heading,t=e===void 0?1:e,r=ope(n,["heading"]);return Ce.createElement(fO,jC({heading:t},r,{componentType:"Title"}))}pU.displayName="Title";var KC=globalThis&&globalThis.__assign||function(){return KC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},KC.apply(this,arguments)};function mU(n){return Ce.createElement(fO,KC({},n,{componentType:"Text"}))}mU.displayName="Text";var XC=globalThis&&globalThis.__assign||function(){return XC=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},XC.apply(this,arguments)};function gU(n){var e=n.spacing,t=e===void 0?"default":e,r=n.className,i=A.exports.useContext(wt).getPrefixCls,o=i("typography"),a=t==="close"?Ye(o+"-spacing-close",r):r;return M(fO,Be({},XC({},n,{componentType:"Paragraph",className:a})))}gU.displayName="Paragraph";var h_=jhe;h_.Title=pU;h_.Text=mU;h_.Paragraph=gU;var dO=h_;const ape=()=>{const n=kx(),[e,t]=A.exports.useState(!1),[r,i]=A.exports.useState([]),[o,a]=A.exports.useState(""),[s,l]=A.exports.useState(!1),u=async function(){const{data:m}=await Eq();i(m.list)},c=async()=>{if(o.length<5){Io.error("\u9879\u76EE\u540D\u4E0D\u5C11\u4E8E 5 \u4E2A\u5B57\u7B26");return}const{data:m}=await Tq({name:o});l(!1),window.location.href=`/studio/${m._id}/editor`},d=m=>{a(m),console.log(m)},h=m=>{n(`/studio/${m}/editor`)};return A.exports.useEffect(()=>{e||(t(!0),u())}),We("div",{className:"container mx-auto max-w-screen-lg px-16 pt-8 pb-32",children:[M(Gm,{title:"\u521B\u5EFA\u9879\u76EE",visible:s,onOk:()=>c(),onCancel:()=>l(!1),autoFocus:!1,focusLock:!0,children:M("div",{className:"create-modal-content",children:We("div",{className:"create-modal-row",children:[M("div",{style:{width:"100px"},children:"\u9879\u76EE\u540D\u79F0"}),M(zs,{style:{width:"280px"},value:o,showWordLimit:!0,maxLength:15,onChange:d,allowClear:!0,placeholder:"\u540D\u5B57\u4E0D\u5C11\u4E8E 5 \u4E2A\u5B57\u7B26"})]})})}),We("div",{className:"flex justify-between items-baseline",children:[M(dO.Title,{children:"\u{1F5C4} \u9879\u76EE\u5217\u8868"}),M("div",{className:"space-x-4",children:M(Jt,{type:"primary",icon:M(KE,{}),onClick:()=>l(!0),children:"\u521B\u5EFA\u9879\u76EE"})})]}),M(yde,{className:"overflow-visible border-none",grid:{gutter:[16,16],xs:24,sm:24,md:12,lg:8,xl:6},dataSource:r,render:(m,g)=>M(BL,{hoverable:!0,onClick:()=>h(m._id),className:"select-none",cover:M("div",{className:"overflow-hidden",children:M("img",{className:"w-full",src:"//p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/6480dbc69be1b5de95010289787d64f1.png~tplv-uwbnlip3yd-webp.webp"})}),children:M(BL.Meta,{title:m.name})},g)})]})},spe=()=>{const n=A.exports.useContext(Bi),e=n._objectManager,t=e._controlManager,r=t.transformControl,i=()=>{e.deSelect()},o=()=>{r.setMode("translate")},a=()=>{r.setMode("rotate")},s=()=>{r.setMode("scale")},l=()=>{t.transformControlSwitchSpace()},u=()=>{n._historyManager.undo(_=>{})},c=()=>e.getSelect1()==null?"hand":t.transformControl.getMode(),[d,h]=A.exports.useState(c()),[m,g]=A.exports.useState(t.transformControl.space),v=Ai.Group,y={backgroundColor:"var(--color-menu-light-bg)",borderRadius:"var(--border-radius-small)"},x=()=>{h(c()),g(t.transformControl.space)};return e.updateUI_transformMode=x,We("div",{className:"fixed left-3 top-3 flex space-x-2",children:[We(v,{type:"button",value:d,size:"small",onChange:_=>{h(_)},children:[M(Sr,{mini:!0,content:"\u4E0D\u9009\u62E9\u7269\u4F53",children:M(Ai,{value:"hand",onClick:i,children:M(_Z,{})})}),M(Sr,{mini:!0,content:"\u79FB\u52A8",children:M(Ai,{value:"translate",onClick:o,children:M(Hq,{})})}),M(Sr,{mini:!0,content:"\u65CB\u8F6C",children:M(Ai,{value:"rotate",onClick:a,children:M(VZ,{})})}),M(Sr,{mini:!0,content:"\u7F29\u653E",children:M(Ai,{value:"scale",onClick:s,children:M(WS,{})})})]}),M("div",{style:y,children:M(Sr,{mini:!0,content:"\u4E16\u754C/\u672C\u5730\u7A7A\u95F4",children:M(Jt,{onClick:l,icon:m==="world"?M(WZ,{}):M(CZ,{}),size:"small"})})}),M("div",{style:y,children:M(Sr,{mini:!0,content:"\u770B\u6B63\u524D\u65B9",children:M(Jt,{onClick:()=>{n.cameraToFront()},icon:M(wZ,{}),size:"small"})})}),M("div",{style:y,children:M(Sr,{mini:!0,content:"\u64A4\u9500",children:M(Jt,{icon:M(yZ,{}),size:"small",onClick:u})})})]})};const lpe=n=>{const e=n.obj,[t,r]=A.exports.useState(!1),o=A.exports.useContext(Bi)._objectManager,a={width:"25px",height:"25px"},s=(l,u)=>{l.stopPropagation(),u.visible?(u.visible=!1,u.layers.disable(1)):(u.visible=!0,u.layers.enable(1)),o.updateUI_Layers()};return We("span",{style:{},onPointerEnter:()=>r(!0),onPointerLeave:()=>r(!1),children:[M("label",{children:e.name}),t?M(Jt,{icon:M(hZ,{}),onClick:l=>{l.stopPropagation(),console.log("pressed delete"),o.remove([e])},style:a}):M(Ut,{}),e.visible?M(Jt,{icon:M(JE,{}),className:"w-10",style:a,onClick:l=>s(l,e)}):M(Jt,{icon:M(qE,{}),className:"w-10",style:a,onClick:l=>s(l,e)})]})};class Pl{static getTemplate(){return{geometryData:{curveRole:"none",curveRadius:0,width:0,height:0,isCustom:!1,customWidth:0,customHeight:0},materialData:{opacity:1},mediaData:{type:"empty",data:""}}}static isUserObject(e){return!!e.userData.hasOwnProperty("mediaData")}}const upe=()=>{const n=A.exports.useContext(Bi),e=n._objectManager,[t,r]=A.exports.useState(0),i=()=>{r(t+1)};e.updateUI_Layers=i;const o=()=>{const l=e.selecting;if(l.length===0)return[""];const u=[];return l.map(c=>{u.push(c.id.toString())}),u},a=l=>{switch(l.userData.mediaData.type){case"image":return M($S,{});case"video":return M(IZ,{});case"empty":return M(FZ,{})}},s=l=>{if(!!Pl.isUserObject(l))return M(P3.Node,{title:M(lpe,{obj:l}),icon:a(l),children:l.children.map(u=>s(u))},l.id)};return M(P3,{className:"grow",size:"large",selectedKeys:o(),draggable:!0,multiple:!0,blockNode:!0,onSelect:(l,u)=>{if(u.selected!==!1)if(u.e.shiftKey){const c=[];l.forEach(h=>{const m=n.scene.getObjectById(Number(h));c.push(m)});const d=e.selecting;n._objectManager.select([...d,...c])}else{const c=l[l.length-1],d=n.scene.getObjectById(Number(c));n._objectManager.select([d])}},onDragStart:(l,u)=>{const c=n.scene.getObjectById(Number(u.key));if(l.shiftKey){const d=e.selecting;e.select([...d,c])}else e.select([c])},onDrop:l=>{var m,g;console.log(l);const u=l.dropPosition,c=n.scene.getObjectById(Number((m=l.dropNode)==null?void 0:m.key)),d=()=>{e.selecting.forEach(v=>{n._historyManager.record("parentChanged",v),c==null||c.attach(v)})},h=()=>{e.selecting.forEach(v=>{var y;n._historyManager.record("parentChanged",v),(y=c==null?void 0:c.parent)==null||y.attach(v)})};u===0||u===1&&(g=l.dropNode)!=null&&g.props.expanded?d():h(),i()},children:n.scene.children.map(l=>s(l))})},cpe=[];for(let n=0;n<256;n++)cpe[n]=(n<16?"0":"")+n.toString(16);const fpe=Math.PI/180,dpe=180/Math.PI;function Yw(n){return n*fpe}function os(n){return n*dpe}const hpe=n=>{const e=n._sceneManager,t=n.name,r=n.disable;return M(zs,{className:"mb-2",size:"mini",value:t,disabled:r,onKeyPress:blur,onChange:i=>{e._objectManager.rename(i)}})};/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const hO="139",Uc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Hc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ppe=0,R3=1,mpe=2,vU=1,gpe=2,Qh=3,md=0,ro=1,Ua=2,yU=1,Al=0,Kf=1,YC=2,I3=3,N3=4,vpe=5,uf=100,ype=101,xpe=102,L3=103,D3=104,_pe=200,bpe=201,wpe=202,Spe=203,xU=204,_U=205,Cpe=206,Mpe=207,Epe=208,Tpe=209,Ope=210,Ppe=0,Ape=1,Rpe=2,qC=3,Ipe=4,Npe=5,Lpe=6,Dpe=7,p_=0,kpe=1,Fpe=2,Os=0,zpe=1,Bpe=2,Upe=3,Hpe=4,Vpe=5,pO=300,nc=301,rc=302,v0=303,y0=304,Wm=306,ic=1e3,pi=1001,sm=1002,dr=1003,x0=1004,_0=1005,Sn=1006,mO=1007,Yl=1008,oc=1009,Gpe=1010,Wpe=1011,lm=1012,$pe=1013,py=1014,Ii=1015,Ni=1016,jpe=1017,Kpe=1018,Xf=1020,Xpe=1021,Ype=1022,to=1023,qpe=1024,Zpe=1025,Yu=1026,gd=1027,bU=1028,Jpe=1029,Qpe=1030,eme=1031,tme=1033,qw=33776,Zw=33777,Jw=33778,Qw=33779,k3=35840,F3=35841,z3=35842,B3=35843,nme=36196,U3=37492,H3=37496,V3=37808,G3=37809,W3=37810,$3=37811,j3=37812,K3=37813,X3=37814,Y3=37815,q3=37816,Z3=37817,J3=37818,Q3=37819,eD=37820,tD=37821,nD=36492,rme=2200,ime=2201,ome=2202,um=2300,vd=2301,e1=2302,If=2400,Nf=2401,b0=2402,gO=2500,wU=2501,ame=0,sme=1,SU=2,ao=3e3,sn=3001,lme=3200,ume=3201,pc=0,cme=1,vs="srgb",Wu="srgb-linear",t1=7680,fme=519,cm=35044,w0=35048,rD="300 es",ZC=1035;class ql{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const Ur=[];for(let n=0;n<256;n++)Ur[n]=(n<16?"0":"")+n.toString(16);let iD=1234567;const Yf=Math.PI/180,fm=180/Math.PI;function Do(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ur[n&255]+Ur[n>>8&255]+Ur[n>>16&255]+Ur[n>>24&255]+"-"+Ur[e&255]+Ur[e>>8&255]+"-"+Ur[e>>16&15|64]+Ur[e>>24&255]+"-"+Ur[t&63|128]+Ur[t>>8&255]+"-"+Ur[t>>16&255]+Ur[t>>24&255]+Ur[r&255]+Ur[r>>8&255]+Ur[r>>16&255]+Ur[r>>24&255]).toLowerCase()}function hr(n,e,t){return Math.max(e,Math.min(t,n))}function vO(n,e){return(n%e+e)%e}function dme(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function hme(n,e,t){return n!==e?(t-n)/(e-n):0}function Tp(n,e,t){return(1-t)*n+t*e}function pme(n,e,t,r){return Tp(n,e,1-Math.exp(-t*r))}function mme(n,e=1){return e-Math.abs(vO(n,e*2)-e)}function gme(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function vme(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function yme(n,e){return n+Math.floor(Math.random()*(e-n+1))}function xme(n,e){return n+Math.random()*(e-n)}function _me(n){return n*(.5-Math.random())}function bme(n){n!==void 0&&(iD=n);let e=iD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function wme(n){return n*Yf}function Sme(n){return n*fm}function JC(n){return(n&n-1)===0&&n!==0}function CU(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function S0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Cme(n,e,t,r,i){const o=Math.cos,a=Math.sin,s=o(t/2),l=a(t/2),u=o((e+r)/2),c=a((e+r)/2),d=o((e-r)/2),h=a((e-r)/2),m=o((r-e)/2),g=a((r-e)/2);switch(i){case"XYX":n.set(s*c,l*d,l*h,s*u);break;case"YZY":n.set(l*h,s*c,l*d,s*u);break;case"ZXZ":n.set(l*d,l*h,s*c,s*u);break;case"XZX":n.set(s*c,l*g,l*m,s*u);break;case"YXY":n.set(l*m,s*c,l*g,s*u);break;case"ZYZ":n.set(l*g,l*m,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Mme(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Eme(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var MU=Object.freeze({__proto__:null,DEG2RAD:Yf,RAD2DEG:fm,generateUUID:Do,clamp:hr,euclideanModulo:vO,mapLinear:dme,inverseLerp:hme,lerp:Tp,damp:pme,pingpong:mme,smoothstep:gme,smootherstep:vme,randInt:yme,randFloat:xme,randFloatSpread:_me,seededRandom:bme,degToRad:wme,radToDeg:Sme,isPowerOfTwo:JC,ceilPowerOfTwo:CU,floorPowerOfTwo:S0,setQuaternionFromProperEuler:Cme,normalize:Eme,denormalize:Mme});class $e{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}$e.prototype.isVector2=!0;class Nr{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,a,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=o,c[5]=l,c[6]=r,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,a=r[0],s=r[3],l=r[6],u=r[1],c=r[4],d=r[7],h=r[2],m=r[5],g=r[8],v=i[0],y=i[3],x=i[6],_=i[1],b=i[4],S=i[7],C=i[2],E=i[5],T=i[8];return o[0]=a*v+s*_+l*C,o[3]=a*y+s*b+l*E,o[6]=a*x+s*S+l*T,o[1]=u*v+c*_+d*C,o[4]=u*y+c*b+d*E,o[7]=u*x+c*S+d*T,o[2]=h*v+m*_+g*C,o[5]=h*y+m*b+g*E,o[8]=h*x+m*S+g*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t*a*c-t*s*u-r*o*c+r*s*l+i*o*u-i*a*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=c*a-s*u,h=s*l-c*o,m=u*o-a*l,g=t*d+r*h+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=d*v,e[1]=(i*u-c*r)*v,e[2]=(s*r-i*a)*v,e[3]=h*v,e[4]=(c*t-i*l)*v,e[5]=(i*o-s*t)*v,e[6]=m*v,e[7]=(r*l-u*t)*v,e[8]=(a*t-r*o)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,a,s){const l=Math.cos(o),u=Math.sin(o);return this.set(r*l,r*u,-r*(l*a+u*s)+a+e,-i*u,i*l,-i*(-u*a+l*s)+s+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],a=i[3],s=i[6],l=i[1],u=i[4],c=i[7];return i[0]=t*o+r*l,i[3]=t*a+r*u,i[6]=t*s+r*c,i[1]=-r*o+t*l,i[4]=-r*a+t*u,i[7]=-r*s+t*c,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Nr.prototype.isMatrix3=!0;function EU(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const Tme={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Lf(n,e){return new Tme[n](e)}function dm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function qu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function my(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const n1={[vs]:{[Wu]:qu},[Wu]:{[vs]:my}},Qo={legacyMode:!0,get workingColorSpace(){return Wu},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(n1[e]&&n1[e][t]!==void 0){const r=n1[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},TU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_r={r:0,g:0,b:0},ea={h:0,s:0,l:0},pv={h:0,s:0,l:0};function r1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function mv(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class pt{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=vs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qo.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Wu){return this.r=e,this.g=t,this.b=r,Qo.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Wu){if(e=vO(e,1),t=hr(t,0,1),r=hr(r,0,1),t===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+t):r+t-r*t,a=2*r-o;this.r=r1(a,o,e+1/3),this.g=r1(a,o,e),this.b=r1(a,o,e-1/3)}return Qo.toWorkingColorSpace(this,i),this}setStyle(e,t=vs){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,Qo.toWorkingColorSpace(this,t),r(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,Qo.toWorkingColorSpace(this,t),r(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const l=parseFloat(o[1])/360,u=parseInt(o[2],10)/100,c=parseInt(o[3],10)/100;return r(o[4]),this.setHSL(l,u,c,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,Qo.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,Qo.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=vs){const r=TU[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=qu(e.r),this.g=qu(e.g),this.b=qu(e.b),this}copyLinearToSRGB(e){return this.r=my(e.r),this.g=my(e.g),this.b=my(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=vs){return Qo.fromWorkingColorSpace(mv(this,_r),e),hr(_r.r*255,0,255)<<16^hr(_r.g*255,0,255)<<8^hr(_r.b*255,0,255)<<0}getHexString(e=vs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Wu){Qo.fromWorkingColorSpace(mv(this,_r),t);const r=_r.r,i=_r.g,o=_r.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,u;const c=(s+a)/2;if(s===a)l=0,u=0;else{const d=a-s;switch(u=c<=.5?d/(a+s):d/(2-a-s),a){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=Wu){return Qo.fromWorkingColorSpace(mv(this,_r),t),e.r=_r.r,e.g=_r.g,e.b=_r.b,e}getStyle(e=vs){return Qo.fromWorkingColorSpace(mv(this,_r),e),e!==vs?`color(${e} ${_r.r} ${_r.g} ${_r.b})`:`rgb(${_r.r*255|0},${_r.g*255|0},${_r.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(ea),ea.h+=e,ea.s+=t,ea.l+=r,this.setHSL(ea.h,ea.s,ea.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ea),e.getHSL(pv);const r=Tp(ea.h,pv.h,t),i=Tp(ea.s,pv.s,t),o=Tp(ea.l,pv.l,t);return this.setHSL(r,i,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}pt.NAMES=TU;pt.prototype.isColor=!0;pt.prototype.r=1;pt.prototype.g=1;pt.prototype.b=1;let Vc;class mc{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Vc===void 0&&(Vc=dm("canvas")),Vc.width=e.width,Vc.height=e.height;const r=Vc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Vc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=dm("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=qu(o[a]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(qu(t[r]/255)*255):t[r]=qu(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Df{constructor(e=null){this.uuid=Do(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(i1(i[a].image)):o.push(i1(i[a]))}else o=i1(i);r.url=o}return t||(e.images[this.uuid]=r),r}}function i1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?mc.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Df.prototype.isSource=!0;let Ome=0;class ur extends ql{constructor(e=ur.DEFAULT_IMAGE,t=ur.DEFAULT_MAPPING,r=pi,i=pi,o=Sn,a=Yl,s=to,l=oc,u=1,c=ao){super(),Object.defineProperty(this,"id",{value:Ome++}),this.uuid=Do(),this.name="",this.source=new Df(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==pO)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ic:e.x=e.x-Math.floor(e.x);break;case pi:e.x=e.x<0?0:1;break;case sm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ic:e.y=e.y-Math.floor(e.y);break;case pi:e.y=e.y<0?0:1;break;case sm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}ur.DEFAULT_IMAGE=null;ur.DEFAULT_MAPPING=pO;ur.prototype.isTexture=!0;class vn{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*t+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*t+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*t+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const l=e.elements,u=l[0],c=l[4],d=l[8],h=l[1],m=l[5],g=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(c-h)<.01&&Math.abs(d-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+h)<.1&&Math.abs(d+v)<.1&&Math.abs(g+y)<.1&&Math.abs(u+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(u+1)/2,S=(m+1)/2,C=(x+1)/2,E=(c+h)/4,T=(d+v)/4,P=(g+y)/4;return b>S&&b>C?b<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=E/r,o=T/r):S>C?S<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(S),r=E/i,o=P/i):C<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(C),r=T/o,i=P/o),this.set(r,i,o,t),this}let _=Math.sqrt((y-g)*(y-g)+(d-v)*(d-v)+(h-c)*(h-c));return Math.abs(_)<.001&&(_=1),this.x=(y-g)/_,this.y=(d-v)/_,this.z=(h-c)/_,this.w=Math.acos((u+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}vn.prototype.isVector4=!0;class io extends ql{constructor(e,t,r={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new vn(0,0,e,t),this.scissorTest=!1,this.viewport=new vn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new ur(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Sn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}io.prototype.isWebGLRenderTarget=!0;class m_ extends ur{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=dr,this.minFilter=dr,this.wrapR=pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}m_.prototype.isDataArrayTexture=!0;class Pme extends io{constructor(e,t,r){super(e,t),this.depth=r,this.texture=new m_(null,e,t,r),this.texture.isRenderTargetTexture=!0}}Pme.prototype.isWebGLArrayRenderTarget=!0;class yO extends ur{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=dr,this.minFilter=dr,this.wrapR=pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}yO.prototype.isData3DTexture=!0;class Ame extends io{constructor(e,t,r){super(e,t),this.depth=r,this.texture=new yO(null,e,t,r),this.texture.isRenderTargetTexture=!0}}Ame.prototype.isWebGL3DRenderTarget=!0;class Rme extends io{constructor(e,t,r,i={}){super(e,t,i);const o=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}Rme.prototype.isWebGLMultipleRenderTargets=!0;class wn{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,a,s){let l=r[i+0],u=r[i+1],c=r[i+2],d=r[i+3];const h=o[a+0],m=o[a+1],g=o[a+2],v=o[a+3];if(s===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d;return}if(s===1){e[t+0]=h,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(d!==v||l!==h||u!==m||c!==g){let y=1-s;const x=l*h+u*m+c*g+d*v,_=x>=0?1:-1,b=1-x*x;if(b>Number.EPSILON){const C=Math.sqrt(b),E=Math.atan2(C,x*_);y=Math.sin(y*E)/C,s=Math.sin(s*E)/C}const S=s*_;if(l=l*y+h*S,u=u*y+m*S,c=c*y+g*S,d=d*y+v*S,y===1-s){const C=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=C,u*=C,c*=C,d*=C}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,o,a){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],d=o[a],h=o[a+1],m=o[a+2],g=o[a+3];return e[t]=s*g+c*d+l*m-u*h,e[t+1]=l*g+c*h+u*d-s*m,e[t+2]=u*g+c*m+s*h-l*d,e[t+3]=c*g-s*d-l*h-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),d=s(o/2),h=l(r/2),m=l(i/2),g=l(o/2);switch(a){case"XYZ":this._x=h*c*d+u*m*g,this._y=u*m*d-h*c*g,this._z=u*c*g+h*m*d,this._w=u*c*d-h*m*g;break;case"YXZ":this._x=h*c*d+u*m*g,this._y=u*m*d-h*c*g,this._z=u*c*g-h*m*d,this._w=u*c*d+h*m*g;break;case"ZXY":this._x=h*c*d-u*m*g,this._y=u*m*d+h*c*g,this._z=u*c*g+h*m*d,this._w=u*c*d-h*m*g;break;case"ZYX":this._x=h*c*d-u*m*g,this._y=u*m*d+h*c*g,this._z=u*c*g-h*m*d,this._w=u*c*d+h*m*g;break;case"YZX":this._x=h*c*d+u*m*g,this._y=u*m*d+h*c*g,this._z=u*c*g-h*m*d,this._w=u*c*d-h*m*g;break;case"XZY":this._x=h*c*d-u*m*g,this._y=u*m*d-h*c*g,this._z=u*c*g+h*m*d,this._w=u*c*d+h*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],a=t[1],s=t[5],l=t[9],u=t[2],c=t[6],d=t[10],h=r+s+d;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(c-l)*m,this._y=(o-u)*m,this._z=(a-i)*m}else if(r>s&&r>d){const m=2*Math.sqrt(1+r-s-d);this._w=(c-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(o+u)/m}else if(s>d){const m=2*Math.sqrt(1+s-r-d);this._w=(o-u)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+d-r-s);this._w=(a-i)/m,this._x=(o+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(hr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,a=e._w,s=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+a*s+i*u-o*l,this._y=i*c+a*l+o*s-r*u,this._z=o*c+a*u+r*l-i*s,this._w=a*c-r*s-i*l-o*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const m=1-t;return this._w=m*a+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),d=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=a*d+this._w*h,this._x=r*d+this._x*h,this._y=i*d+this._y*h,this._z=o*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}wn.prototype.isQuaternion=!0;class J{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(oD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(oD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,u=l*t+a*i-s*r,c=l*r+s*t-o*i,d=l*i+o*r-a*t,h=-o*t-a*r-s*i;return this.x=u*l+h*-o+c*-s-d*-a,this.y=c*l+h*-a+d*-o-u*-s,this.z=d*l+h*-s+u*-a-c*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,a=t.x,s=t.y,l=t.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return o1.copy(this).projectOnVector(e),this.sub(o1)}reflect(e){return this.sub(o1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(hr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}J.prototype.isVector3=!0;const o1=new J,oD=new wn;class fo{constructor(e=new J(1/0,1/0,1/0),t=new J(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,o=-1/0,a=-1/0,s=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],d=e[l+1],h=e[l+2];c<t&&(t=c),d<r&&(r=d),h<i&&(i=h),c>o&&(o=c),d>a&&(a=d),h>s&&(s=h)}return this.min.set(t,r,i),this.max.set(o,a,s),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,o=-1/0,a=-1/0,s=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),d=e.getY(l),h=e.getZ(l);c<t&&(t=c),d<r&&(r=d),h<i&&(i=h),c>o&&(o=c),d>a&&(a=d),h>s&&(s=h)}return this.min.set(t,r,i),this.max.set(o,a,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=hu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const o=r.attributes.position;for(let a=0,s=o.count;a<s;a++)hu.fromBufferAttribute(o,a).applyMatrix4(e.matrixWorld),this.expandByPoint(hu)}else r.boundingBox===null&&r.computeBoundingBox(),a1.copy(r.boundingBox),a1.applyMatrix4(e.matrixWorld),this.union(a1);const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,hu),hu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Lh),gv.subVectors(this.max,Lh),Gc.subVectors(e.a,Lh),Wc.subVectors(e.b,Lh),$c.subVectors(e.c,Lh),Zs.subVectors(Wc,Gc),Js.subVectors($c,Wc),pu.subVectors(Gc,$c);let t=[0,-Zs.z,Zs.y,0,-Js.z,Js.y,0,-pu.z,pu.y,Zs.z,0,-Zs.x,Js.z,0,-Js.x,pu.z,0,-pu.x,-Zs.y,Zs.x,0,-Js.y,Js.x,0,-pu.y,pu.x,0];return!s1(t,Gc,Wc,$c,gv)||(t=[1,0,0,0,1,0,0,0,1],!s1(t,Gc,Wc,$c,gv))?!1:(vv.crossVectors(Zs,Js),t=[vv.x,vv.y,vv.z],s1(t,Gc,Wc,$c,gv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return hu.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(hu).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(as[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),as[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),as[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),as[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),as[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),as[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),as[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),as[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(as),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}fo.prototype.isBox3=!0;const as=[new J,new J,new J,new J,new J,new J,new J,new J],hu=new J,a1=new fo,Gc=new J,Wc=new J,$c=new J,Zs=new J,Js=new J,pu=new J,Lh=new J,gv=new J,vv=new J,mu=new J;function s1(n,e,t,r,i){for(let o=0,a=n.length-3;o<=a;o+=3){mu.fromArray(n,o);const s=i.x*Math.abs(mu.x)+i.y*Math.abs(mu.y)+i.z*Math.abs(mu.z),l=e.dot(mu),u=t.dot(mu),c=r.dot(mu);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Ime=new fo,aD=new J,yv=new J,l1=new J;class Bs{constructor(e=new J,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Ime.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){l1.subVectors(e,this.center);const t=l1.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(l1.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?yv.set(0,0,1).multiplyScalar(e.radius):yv.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(aD.copy(e.center).add(yv)),this.expandByPoint(aD.copy(e.center).sub(yv)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ss=new J,u1=new J,xv=new J,Qs=new J,c1=new J,_v=new J,f1=new J;class gc{constructor(e=new J,t=new J(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ss)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ss.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ss.copy(this.direction).multiplyScalar(t).add(this.origin),ss.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){u1.copy(e).add(t).multiplyScalar(.5),xv.copy(t).sub(e).normalize(),Qs.copy(this.origin).sub(u1);const o=e.distanceTo(t)*.5,a=-this.direction.dot(xv),s=Qs.dot(this.direction),l=-Qs.dot(xv),u=Qs.lengthSq(),c=Math.abs(1-a*a);let d,h,m,g;if(c>0)if(d=a*l-s,h=a*s-l,g=o*c,d>=0)if(h>=-g)if(h<=g){const v=1/c;d*=v,h*=v,m=d*(d+a*h+2*s)+h*(a*d+h+2*l)+u}else h=o,d=Math.max(0,-(a*h+s)),m=-d*d+h*(h+2*l)+u;else h=-o,d=Math.max(0,-(a*h+s)),m=-d*d+h*(h+2*l)+u;else h<=-g?(d=Math.max(0,-(-a*o+s)),h=d>0?-o:Math.min(Math.max(-o,-l),o),m=-d*d+h*(h+2*l)+u):h<=g?(d=0,h=Math.min(Math.max(-o,-l),o),m=h*(h+2*l)+u):(d=Math.max(0,-(a*o+s)),h=d>0?o:Math.min(Math.max(-o,-l),o),m=-d*d+h*(h+2*l)+u);else h=a>0?-o:o,d=Math.max(0,-(a*h+s)),m=-d*d+h*(h+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(xv).multiplyScalar(h).add(u1),m}intersectSphere(e,t){ss.subVectors(e.center,this.origin);const r=ss.dot(this.direction),i=ss.dot(ss)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return s<0&&l<0?null:s<0?this.at(l,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,a,s,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(o=(e.min.y-h.y)*c,a=(e.max.y-h.y)*c):(o=(e.max.y-h.y)*c,a=(e.min.y-h.y)*c),r>a||o>i||((o>r||r!==r)&&(r=o),(a<i||i!==i)&&(i=a),d>=0?(s=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(s=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,ss)!==null}intersectTriangle(e,t,r,i,o){c1.subVectors(t,e),_v.subVectors(r,e),f1.crossVectors(c1,_v);let a=this.direction.dot(f1),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Qs.subVectors(this.origin,e);const l=s*this.direction.dot(_v.crossVectors(Qs,_v));if(l<0)return null;const u=s*this.direction.dot(c1.cross(Qs));if(u<0||l+u>a)return null;const c=-s*Qs.dot(f1);return c<0?null:this.at(c/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Mt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,a,s,l,u,c,d,h,m,g,v,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=o,x[5]=a,x[9]=s,x[13]=l,x[2]=u,x[6]=c,x[10]=d,x[14]=h,x[3]=m,x[7]=g,x[11]=v,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Mt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/jc.setFromMatrixColumn(e,0).length(),o=1/jc.setFromMatrixColumn(e,1).length(),a=1/jc.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const h=a*c,m=a*d,g=s*c,v=s*d;t[0]=l*c,t[4]=-l*d,t[8]=u,t[1]=m+g*u,t[5]=h-v*u,t[9]=-s*l,t[2]=v-h*u,t[6]=g+m*u,t[10]=a*l}else if(e.order==="YXZ"){const h=l*c,m=l*d,g=u*c,v=u*d;t[0]=h+v*s,t[4]=g*s-m,t[8]=a*u,t[1]=a*d,t[5]=a*c,t[9]=-s,t[2]=m*s-g,t[6]=v+h*s,t[10]=a*l}else if(e.order==="ZXY"){const h=l*c,m=l*d,g=u*c,v=u*d;t[0]=h-v*s,t[4]=-a*d,t[8]=g+m*s,t[1]=m+g*s,t[5]=a*c,t[9]=v-h*s,t[2]=-a*u,t[6]=s,t[10]=a*l}else if(e.order==="ZYX"){const h=a*c,m=a*d,g=s*c,v=s*d;t[0]=l*c,t[4]=g*u-m,t[8]=h*u+v,t[1]=l*d,t[5]=v*u+h,t[9]=m*u-g,t[2]=-u,t[6]=s*l,t[10]=a*l}else if(e.order==="YZX"){const h=a*l,m=a*u,g=s*l,v=s*u;t[0]=l*c,t[4]=v-h*d,t[8]=g*d+m,t[1]=d,t[5]=a*c,t[9]=-s*c,t[2]=-u*c,t[6]=m*d+g,t[10]=h-v*d}else if(e.order==="XZY"){const h=a*l,m=a*u,g=s*l,v=s*u;t[0]=l*c,t[4]=-d,t[8]=u*c,t[1]=h*d+v,t[5]=a*c,t[9]=m*d-g,t[2]=g*d-m,t[6]=s*c,t[10]=v*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Nme,e,Lme)}lookAt(e,t,r){const i=this.elements;return Xi.subVectors(e,t),Xi.lengthSq()===0&&(Xi.z=1),Xi.normalize(),el.crossVectors(r,Xi),el.lengthSq()===0&&(Math.abs(r.z)===1?Xi.x+=1e-4:Xi.z+=1e-4,Xi.normalize(),el.crossVectors(r,Xi)),el.normalize(),bv.crossVectors(Xi,el),i[0]=el.x,i[4]=bv.x,i[8]=Xi.x,i[1]=el.y,i[5]=bv.y,i[9]=Xi.y,i[2]=el.z,i[6]=bv.z,i[10]=Xi.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,a=r[0],s=r[4],l=r[8],u=r[12],c=r[1],d=r[5],h=r[9],m=r[13],g=r[2],v=r[6],y=r[10],x=r[14],_=r[3],b=r[7],S=r[11],C=r[15],E=i[0],T=i[4],P=i[8],L=i[12],I=i[1],O=i[5],F=i[9],U=i[13],k=i[2],H=i[6],$=i[10],V=i[14],N=i[3],W=i[7],ee=i[11],j=i[15];return o[0]=a*E+s*I+l*k+u*N,o[4]=a*T+s*O+l*H+u*W,o[8]=a*P+s*F+l*$+u*ee,o[12]=a*L+s*U+l*V+u*j,o[1]=c*E+d*I+h*k+m*N,o[5]=c*T+d*O+h*H+m*W,o[9]=c*P+d*F+h*$+m*ee,o[13]=c*L+d*U+h*V+m*j,o[2]=g*E+v*I+y*k+x*N,o[6]=g*T+v*O+y*H+x*W,o[10]=g*P+v*F+y*$+x*ee,o[14]=g*L+v*U+y*V+x*j,o[3]=_*E+b*I+S*k+C*N,o[7]=_*T+b*O+S*H+C*W,o[11]=_*P+b*F+S*$+C*ee,o[15]=_*L+b*U+S*V+C*j,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],u=e[13],c=e[2],d=e[6],h=e[10],m=e[14],g=e[3],v=e[7],y=e[11],x=e[15];return g*(+o*l*d-i*u*d-o*s*h+r*u*h+i*s*m-r*l*m)+v*(+t*l*m-t*u*h+o*a*h-i*a*m+i*u*c-o*l*c)+y*(+t*u*d-t*s*m-o*a*d+r*a*m+o*s*c-r*u*c)+x*(-i*s*c-t*l*d+t*s*h+i*a*d-r*a*h+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=e[9],h=e[10],m=e[11],g=e[12],v=e[13],y=e[14],x=e[15],_=d*y*u-v*h*u+v*l*m-s*y*m-d*l*x+s*h*x,b=g*h*u-c*y*u-g*l*m+a*y*m+c*l*x-a*h*x,S=c*v*u-g*d*u+g*s*m-a*v*m-c*s*x+a*d*x,C=g*d*l-c*v*l-g*s*h+a*v*h+c*s*y-a*d*y,E=t*_+r*b+i*S+o*C;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=_*T,e[1]=(v*h*o-d*y*o-v*i*m+r*y*m+d*i*x-r*h*x)*T,e[2]=(s*y*o-v*l*o+v*i*u-r*y*u-s*i*x+r*l*x)*T,e[3]=(d*l*o-s*h*o-d*i*u+r*h*u+s*i*m-r*l*m)*T,e[4]=b*T,e[5]=(c*y*o-g*h*o+g*i*m-t*y*m-c*i*x+t*h*x)*T,e[6]=(g*l*o-a*y*o-g*i*u+t*y*u+a*i*x-t*l*x)*T,e[7]=(a*h*o-c*l*o+c*i*u-t*h*u-a*i*m+t*l*m)*T,e[8]=S*T,e[9]=(g*d*o-c*v*o-g*r*m+t*v*m+c*r*x-t*d*x)*T,e[10]=(a*v*o-g*s*o+g*r*u-t*v*u-a*r*x+t*s*x)*T,e[11]=(c*s*o-a*d*o-c*r*u+t*d*u+a*r*m-t*s*m)*T,e[12]=C*T,e[13]=(c*v*i-g*d*i+g*r*h-t*v*h-c*r*y+t*d*y)*T,e[14]=(g*s*i-a*v*i-g*r*l+t*v*l+a*r*y-t*s*y)*T,e[15]=(a*d*i-c*s*i+c*r*l-t*d*l-a*r*h+t*s*h)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,a=e.x,s=e.y,l=e.z,u=o*a,c=o*s;return this.set(u*a+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*a,0,u*l-i*s,c*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,a=t._y,s=t._z,l=t._w,u=o+o,c=a+a,d=s+s,h=o*u,m=o*c,g=o*d,v=a*c,y=a*d,x=s*d,_=l*u,b=l*c,S=l*d,C=r.x,E=r.y,T=r.z;return i[0]=(1-(v+x))*C,i[1]=(m+S)*C,i[2]=(g-b)*C,i[3]=0,i[4]=(m-S)*E,i[5]=(1-(h+x))*E,i[6]=(y+_)*E,i[7]=0,i[8]=(g+b)*T,i[9]=(y-_)*T,i[10]=(1-(h+v))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=jc.set(i[0],i[1],i[2]).length();const a=jc.set(i[4],i[5],i[6]).length(),s=jc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],ta.copy(this);const u=1/o,c=1/a,d=1/s;return ta.elements[0]*=u,ta.elements[1]*=u,ta.elements[2]*=u,ta.elements[4]*=c,ta.elements[5]*=c,ta.elements[6]*=c,ta.elements[8]*=d,ta.elements[9]*=d,ta.elements[10]*=d,t.setFromRotationMatrix(ta),r.x=o,r.y=a,r.z=s,this}makePerspective(e,t,r,i,o,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,l=2*o/(t-e),u=2*o/(r-i),c=(t+e)/(t-e),d=(r+i)/(r-i),h=-(a+o)/(a-o),m=-2*a*o/(a-o);return s[0]=l,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=u,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=m,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,r,i,o,a){const s=this.elements,l=1/(t-e),u=1/(r-i),c=1/(a-o),d=(t+e)*l,h=(r+i)*u,m=(a+o)*c;return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*u,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-m,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Mt.prototype.isMatrix4=!0;const jc=new J,ta=new Mt,Nme=new J(0,0,0),Lme=new J(1,1,1),el=new J,bv=new J,Xi=new J,sD=new Mt,lD=new wn;class Zl{constructor(e=0,t=0,r=0,i=Zl.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],d=i[2],h=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(hr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-hr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(hr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-hr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(hr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-hr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return sD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sD,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return lD.setFromEuler(this),this.setFromQuaternion(lD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Zl.prototype.isEuler=!0;Zl.DefaultOrder="XYZ";Zl.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class xO{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Dme=0;const uD=new J,Kc=new wn,ls=new Mt,wv=new J,Dh=new J,kme=new J,Fme=new wn,cD=new J(1,0,0),fD=new J(0,1,0),dD=new J(0,0,1),zme={type:"added"},hD={type:"removed"};class Yt extends ql{constructor(){super(),Object.defineProperty(this,"id",{value:Dme++}),this.uuid=Do(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Yt.DefaultUp.clone();const e=new J,t=new Zl,r=new wn,i=new J(1,1,1);function o(){r.setFromEuler(t,!1)}function a(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Mt},normalMatrix:{value:new Nr}}),this.matrix=new Mt,this.matrixWorld=new Mt,this.matrixAutoUpdate=Yt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new xO,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Kc.setFromAxisAngle(e,t),this.quaternion.multiply(Kc),this}rotateOnWorldAxis(e,t){return Kc.setFromAxisAngle(e,t),this.quaternion.premultiply(Kc),this}rotateX(e){return this.rotateOnAxis(cD,e)}rotateY(e){return this.rotateOnAxis(fD,e)}rotateZ(e){return this.rotateOnAxis(dD,e)}translateOnAxis(e,t){return uD.copy(e).applyQuaternion(this.quaternion),this.position.add(uD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(cD,e)}translateY(e){return this.translateOnAxis(fD,e)}translateZ(e){return this.translateOnAxis(dD,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ls.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?wv.copy(e):wv.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Dh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ls.lookAt(Dh,wv,this.up):ls.lookAt(wv,Dh,this.up),this.quaternion.setFromRotationMatrix(ls),i&&(ls.extractRotation(i.matrixWorld),Kc.setFromRotationMatrix(ls),this.quaternion.premultiply(Kc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(zme)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(hD)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(hD)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ls.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ls.multiply(e.parent.matrixWorld)),e.applyMatrix4(ls),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,t);if(a!==void 0)return a}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dh,e,kme),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dh,Fme,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(t){const s=a(e.geometries),l=a(e.materials),u=a(e.textures),c=a(e.images),d=a(e.shapes),h=a(e.skeletons),m=a(e.animations),g=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),d.length>0&&(r.shapes=d),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function a(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Yt.DefaultUp=new J(0,1,0);Yt.DefaultMatrixAutoUpdate=!0;Yt.prototype.isObject3D=!0;const na=new J,us=new J,d1=new J,cs=new J,Xc=new J,Yc=new J,pD=new J,h1=new J,p1=new J,m1=new J;class mr{constructor(e=new J,t=new J,r=new J){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),na.subVectors(e,t),i.cross(na);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){na.subVectors(i,t),us.subVectors(r,t),d1.subVectors(e,t);const a=na.dot(na),s=na.dot(us),l=na.dot(d1),u=us.dot(us),c=us.dot(d1),d=a*u-s*s;if(d===0)return o.set(-2,-1,-1);const h=1/d,m=(u*l-s*c)*h,g=(a*c-s*l)*h;return o.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,cs),cs.x>=0&&cs.y>=0&&cs.x+cs.y<=1}static getUV(e,t,r,i,o,a,s,l){return this.getBarycoord(e,t,r,i,cs),l.set(0,0),l.addScaledVector(o,cs.x),l.addScaledVector(a,cs.y),l.addScaledVector(s,cs.z),l}static isFrontFacing(e,t,r,i){return na.subVectors(r,t),us.subVectors(e,t),na.cross(us).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return na.subVectors(this.c,this.b),us.subVectors(this.a,this.b),na.cross(us).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return mr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return mr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return mr.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return mr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return mr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let a,s;Xc.subVectors(i,r),Yc.subVectors(o,r),h1.subVectors(e,r);const l=Xc.dot(h1),u=Yc.dot(h1);if(l<=0&&u<=0)return t.copy(r);p1.subVectors(e,i);const c=Xc.dot(p1),d=Yc.dot(p1);if(c>=0&&d<=c)return t.copy(i);const h=l*d-c*u;if(h<=0&&l>=0&&c<=0)return a=l/(l-c),t.copy(r).addScaledVector(Xc,a);m1.subVectors(e,o);const m=Xc.dot(m1),g=Yc.dot(m1);if(g>=0&&m<=g)return t.copy(o);const v=m*u-l*g;if(v<=0&&u>=0&&g<=0)return s=u/(u-g),t.copy(r).addScaledVector(Yc,s);const y=c*g-m*d;if(y<=0&&d-c>=0&&m-g>=0)return pD.subVectors(o,i),s=(d-c)/(d-c+(m-g)),t.copy(i).addScaledVector(pD,s);const x=1/(y+v+h);return a=v*x,s=h*x,t.copy(r).addScaledVector(Xc,a).addScaledVector(Yc,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Bme=0;class Zn extends ql{constructor(){super(),Object.defineProperty(this,"id",{value:Bme++}),this.uuid=Do(),this.name="",this.type="Material",this.fog=!0,this.blending=Kf,this.side=md,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=xU,this.blendDst=_U,this.blendEquation=uf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=qC,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fme,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=t1,this.stencilZFail=t1,this.stencilZPass=t1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===yU;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Kf&&(r.blending=this.blending),this.side!==md&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(t){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Zn.prototype.isMaterial=!0;Zn.fromType=function(){return null};class vr extends Zn{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=p_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}vr.prototype.isMeshBasicMaterial=!0;const cr=new J,Sv=new $e;class jn{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=cm,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new pt),t[r++]=a.r,t[r++]=a.g,t[r++]=a.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new $e),t[r++]=a.x,t[r++]=a.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new J),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new vn),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z,t[r++]=a.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Sv.fromBufferAttribute(this,t),Sv.applyMatrix3(e),this.setXY(t,Sv.x,Sv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyMatrix3(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyMatrix4(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyNormalMatrix(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.transformDirection(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==cm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}jn.prototype.isBufferAttribute=!0;class OU extends jn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class PU extends jn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Ume extends jn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}Ume.prototype.isFloat16BufferAttribute=!0;class At extends jn{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Hme=0;const Mo=new Mt,g1=new Yt,qc=new J,Yi=new fo,kh=new fo,Or=new J;class Vt extends ql{constructor(){super(),Object.defineProperty(this,"id",{value:Hme++}),this.uuid=Do(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(EU(e)?PU:OU)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Nr().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mo.makeRotationFromQuaternion(e),this.applyMatrix4(Mo),this}rotateX(e){return Mo.makeRotationX(e),this.applyMatrix4(Mo),this}rotateY(e){return Mo.makeRotationY(e),this.applyMatrix4(Mo),this}rotateZ(e){return Mo.makeRotationZ(e),this.applyMatrix4(Mo),this}translate(e,t,r){return Mo.makeTranslation(e,t,r),this.applyMatrix4(Mo),this}scale(e,t,r){return Mo.makeScale(e,t,r),this.applyMatrix4(Mo),this}lookAt(e){return g1.lookAt(e),g1.updateMatrix(),this.applyMatrix4(g1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(qc).negate(),this.translate(qc.x,qc.y,qc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new At(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const o=t[r];Yi.setFromBufferAttribute(o),this.morphTargetsRelative?(Or.addVectors(this.boundingBox.min,Yi.min),this.boundingBox.expandByPoint(Or),Or.addVectors(this.boundingBox.max,Yi.max),this.boundingBox.expandByPoint(Or)):(this.boundingBox.expandByPoint(Yi.min),this.boundingBox.expandByPoint(Yi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Bs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new J,1/0);return}if(e){const r=this.boundingSphere.center;if(Yi.setFromBufferAttribute(e),t)for(let o=0,a=t.length;o<a;o++){const s=t[o];kh.setFromBufferAttribute(s),this.morphTargetsRelative?(Or.addVectors(Yi.min,kh.min),Yi.expandByPoint(Or),Or.addVectors(Yi.max,kh.max),Yi.expandByPoint(Or)):(Yi.expandByPoint(kh.min),Yi.expandByPoint(kh.max))}Yi.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Or.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Or));if(t)for(let o=0,a=t.length;o<a;o++){const s=t[o],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)Or.fromBufferAttribute(s,u),l&&(qc.fromBufferAttribute(e,u),Or.add(qc)),i=Math.max(i,r.distanceToSquared(Or))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,o=t.normal.array,a=t.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jn(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let I=0;I<s;I++)u[I]=new J,c[I]=new J;const d=new J,h=new J,m=new J,g=new $e,v=new $e,y=new $e,x=new J,_=new J;function b(I,O,F){d.fromArray(i,I*3),h.fromArray(i,O*3),m.fromArray(i,F*3),g.fromArray(a,I*2),v.fromArray(a,O*2),y.fromArray(a,F*2),h.sub(d),m.sub(d),v.sub(g),y.sub(g);const U=1/(v.x*y.y-y.x*v.y);!isFinite(U)||(x.copy(h).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(U),_.copy(m).multiplyScalar(v.x).addScaledVector(h,-y.x).multiplyScalar(U),u[I].add(x),u[O].add(x),u[F].add(x),c[I].add(_),c[O].add(_),c[F].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let I=0,O=S.length;I<O;++I){const F=S[I],U=F.start,k=F.count;for(let H=U,$=U+k;H<$;H+=3)b(r[H+0],r[H+1],r[H+2])}const C=new J,E=new J,T=new J,P=new J;function L(I){T.fromArray(o,I*3),P.copy(T);const O=u[I];C.copy(O),C.sub(T.multiplyScalar(T.dot(O))).normalize(),E.crossVectors(P,O);const U=E.dot(c[I])<0?-1:1;l[I*4]=C.x,l[I*4+1]=C.y,l[I*4+2]=C.z,l[I*4+3]=U}for(let I=0,O=S.length;I<O;++I){const F=S[I],U=F.start,k=F.count;for(let H=U,$=U+k;H<$;H+=3)L(r[H+0]),L(r[H+1]),L(r[H+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new jn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new J,o=new J,a=new J,s=new J,l=new J,u=new J,c=new J,d=new J;if(e)for(let h=0,m=e.count;h<m;h+=3){const g=e.getX(h+0),v=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(t,g),o.fromBufferAttribute(t,v),a.fromBufferAttribute(t,y),c.subVectors(a,o),d.subVectors(i,o),c.cross(d),s.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),s.add(c),l.add(c),u.add(c),r.setXYZ(g,s.x,s.y,s.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,m=t.count;h<m;h+=3)i.fromBufferAttribute(t,h+0),o.fromBufferAttribute(t,h+1),a.fromBufferAttribute(t,h+2),c.subVectors(a,o),d.subVectors(i,o),c.cross(d),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const a=r[i].array,s=e.attributes[i],l=s.array,u=s.itemSize*t,c=Math.min(l.length,a.length-u);for(let d=0,h=u;d<c;d++,h++)a[h]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Or.fromBufferAttribute(e,t),Or.normalize(),e.setXYZ(t,Or.x,Or.y,Or.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,d=s.normalized,h=new u.constructor(l.length*c);let m=0,g=0;for(let v=0,y=l.length;v<y;v++){s.isInterleavedBufferAttribute?m=l[v]*s.data.stride+s.offset:m=l[v]*c;for(let x=0;x<c;x++)h[g++]=u[m++]}return new jn(h,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Vt,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);t.setAttribute(s,u)}const o=this.morphAttributes;for(const s in o){const l=[],u=o[s];for(let c=0,d=u.length;c<d;c++){const h=u[c],m=e(h,r);l.push(m)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const u=a[s];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,h=u.length;d<h;d++){const m=u[d];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const o=e.morphAttributes;for(const u in o){const c=[],d=o[u];for(let h=0,m=d.length;h<m;h++)c.push(d[h].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,c=a.length;u<c;u++){const d=a[u];this.addGroup(d.start,d.count,d.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Vt.prototype.isBufferGeometry=!0;const mD=new Mt,Zc=new gc,v1=new Bs,tl=new J,nl=new J,rl=new J,y1=new J,x1=new J,_1=new J,Cv=new J,Mv=new J,Ev=new J,Tv=new $e,Ov=new $e,Pv=new $e,b1=new J,Av=new J;class ht extends Yt{constructor(e=new Vt,t=new vr){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),v1.copy(r.boundingSphere),v1.applyMatrix4(o),e.ray.intersectsSphere(v1)===!1)||(mD.copy(o).invert(),Zc.copy(e.ray).applyMatrix4(mD),r.boundingBox!==null&&Zc.intersectsBox(r.boundingBox)===!1))return;let a;if(r.isBufferGeometry){const s=r.index,l=r.attributes.position,u=r.morphAttributes.position,c=r.morphTargetsRelative,d=r.attributes.uv,h=r.attributes.uv2,m=r.groups,g=r.drawRange;if(s!==null)if(Array.isArray(i))for(let v=0,y=m.length;v<y;v++){const x=m[v],_=i[x.materialIndex],b=Math.max(x.start,g.start),S=Math.min(s.count,Math.min(x.start+x.count,g.start+g.count));for(let C=b,E=S;C<E;C+=3){const T=s.getX(C),P=s.getX(C+1),L=s.getX(C+2);a=Rv(this,_,e,Zc,l,u,c,d,h,T,P,L),a&&(a.faceIndex=Math.floor(C/3),a.face.materialIndex=x.materialIndex,t.push(a))}}else{const v=Math.max(0,g.start),y=Math.min(s.count,g.start+g.count);for(let x=v,_=y;x<_;x+=3){const b=s.getX(x),S=s.getX(x+1),C=s.getX(x+2);a=Rv(this,i,e,Zc,l,u,c,d,h,b,S,C),a&&(a.faceIndex=Math.floor(x/3),t.push(a))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=m.length;v<y;v++){const x=m[v],_=i[x.materialIndex],b=Math.max(x.start,g.start),S=Math.min(l.count,Math.min(x.start+x.count,g.start+g.count));for(let C=b,E=S;C<E;C+=3){const T=C,P=C+1,L=C+2;a=Rv(this,_,e,Zc,l,u,c,d,h,T,P,L),a&&(a.faceIndex=Math.floor(C/3),a.face.materialIndex=x.materialIndex,t.push(a))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let x=v,_=y;x<_;x+=3){const b=x,S=x+1,C=x+2;a=Rv(this,i,e,Zc,l,u,c,d,h,b,S,C),a&&(a.faceIndex=Math.floor(x/3),t.push(a))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}ht.prototype.isMesh=!0;function Vme(n,e,t,r,i,o,a,s){let l;if(e.side===ro?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side!==Ua,s),l===null)return null;Av.copy(s),Av.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Av);return u<t.near||u>t.far?null:{distance:u,point:Av.clone(),object:n}}function Rv(n,e,t,r,i,o,a,s,l,u,c,d){tl.fromBufferAttribute(i,u),nl.fromBufferAttribute(i,c),rl.fromBufferAttribute(i,d);const h=n.morphTargetInfluences;if(o&&h){Cv.set(0,0,0),Mv.set(0,0,0),Ev.set(0,0,0);for(let g=0,v=o.length;g<v;g++){const y=h[g],x=o[g];y!==0&&(y1.fromBufferAttribute(x,u),x1.fromBufferAttribute(x,c),_1.fromBufferAttribute(x,d),a?(Cv.addScaledVector(y1,y),Mv.addScaledVector(x1,y),Ev.addScaledVector(_1,y)):(Cv.addScaledVector(y1.sub(tl),y),Mv.addScaledVector(x1.sub(nl),y),Ev.addScaledVector(_1.sub(rl),y)))}tl.add(Cv),nl.add(Mv),rl.add(Ev)}n.isSkinnedMesh&&(n.boneTransform(u,tl),n.boneTransform(c,nl),n.boneTransform(d,rl));const m=Vme(n,e,t,r,tl,nl,rl,b1);if(m){s&&(Tv.fromBufferAttribute(s,u),Ov.fromBufferAttribute(s,c),Pv.fromBufferAttribute(s,d),m.uv=mr.getUV(b1,tl,nl,rl,Tv,Ov,Pv,new $e)),l&&(Tv.fromBufferAttribute(l,u),Ov.fromBufferAttribute(l,c),Pv.fromBufferAttribute(l,d),m.uv2=mr.getUV(b1,tl,nl,rl,Tv,Ov,Pv,new $e));const g={a:u,b:c,c:d,normal:new J,materialIndex:0};mr.getNormal(tl,nl,rl,g.normal),m.face=g}return m}class Hn extends Vt{constructor(e=1,t=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],u=[],c=[],d=[];let h=0,m=0;g("z","y","x",-1,-1,r,t,e,a,o,0),g("z","y","x",1,-1,r,t,-e,a,o,1),g("x","z","y",1,1,e,r,t,i,a,2),g("x","z","y",1,-1,e,r,-t,i,a,3),g("x","y","z",1,-1,e,t,r,i,o,4),g("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new At(u,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(d,2));function g(v,y,x,_,b,S,C,E,T,P,L){const I=S/T,O=C/P,F=S/2,U=C/2,k=E/2,H=T+1,$=P+1;let V=0,N=0;const W=new J;for(let ee=0;ee<$;ee++){const j=ee*O-U;for(let G=0;G<H;G++){const ne=G*I-F;W[v]=ne*_,W[y]=j*b,W[x]=k,u.push(W.x,W.y,W.z),W[v]=0,W[y]=0,W[x]=E>0?1:-1,c.push(W.x,W.y,W.z),d.push(G/T),d.push(1-ee/P),V+=1}}for(let ee=0;ee<P;ee++)for(let j=0;j<T;j++){const G=h+j+H*ee,ne=h+j+H*(ee+1),ye=h+(j+1)+H*(ee+1),xe=h+(j+1)+H*ee;l.push(G,ne,xe),l.push(ne,ye,xe),N+=6}s.addGroup(m,N,L),m+=N,h+=V}}static fromJSON(e){return new Hn(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function yd(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Zr(n){const e={};for(let t=0;t<n.length;t++){const r=yd(n[t]);for(const i in r)e[i]=r[i]}return e}const Gme={clone:yd,merge:Zr};var Wme=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$me=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ho extends Zn{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Wme,this.fragmentShader=$me,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yd(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}Ho.prototype.isShaderMaterial=!0;class _O extends Yt{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Mt,this.projectionMatrix=new Mt,this.projectionMatrixInverse=new Mt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}_O.prototype.isCamera=!0;class Vr extends _O{constructor(e=50,t=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=fm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return fm*2*Math.atan(Math.tan(Yf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Yf*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;o+=a.offsetX*i/l,t-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Vr.prototype.isPerspectiveCamera=!0;const Jc=90,Qc=1;class bO extends Yt{constructor(e,t,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Vr(Jc,Qc,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new J(1,0,0)),this.add(i);const o=new Vr(Jc,Qc,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new J(-1,0,0)),this.add(o);const a=new Vr(Jc,Qc,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new J(0,1,0)),this.add(a);const s=new Vr(Jc,Qc,e,t);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new J(0,-1,0)),this.add(s);const l=new Vr(Jc,Qc,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new J(0,0,1)),this.add(l);const u=new Vr(Jc,Qc,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new J(0,0,-1)),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,a,s,l,u]=this.children,c=e.getRenderTarget(),d=e.outputEncoding,h=e.toneMapping,m=e.xr.enabled;e.outputEncoding=ao,e.toneMapping=Os,e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,a),e.setRenderTarget(r,3),e.render(t,s),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=g,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.outputEncoding=d,e.toneMapping=h,e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class $m extends ur{constructor(e,t,r,i,o,a,s,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:nc,super(e,t,r,i,o,a,s,l,u,c),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}$m.prototype.isCubeTexture=!0;class AU extends io{constructor(e,t={}){super(e,e,t);const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new $m(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Sn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Hn(5,5,5),o=new Ho({name:"CubemapFromEquirect",uniforms:yd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ro,blending:Al});o.uniforms.tEquirect.value=t;const a=new ht(i,o),s=t.minFilter;return t.minFilter===Yl&&(t.minFilter=Sn),new bO(1,10,this).update(e,a),t.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,i);e.setRenderTarget(o)}}AU.prototype.isWebGLCubeRenderTarget=!0;const w1=new J,jme=new J,Kme=new Nr;class xs{constructor(e=new J(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=w1.subVectors(r,t).cross(jme.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(w1),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Kme.getNormalMatrix(e),i=this.coplanarPoint(w1).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}xs.prototype.isPlane=!0;const ef=new Bs,Iv=new J;class g_{constructor(e=new xs,t=new xs,r=new xs,i=new xs,o=new xs,a=new xs){this.planes=[e,t,r,i,o,a]}set(e,t,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],h=r[8],m=r[9],g=r[10],v=r[11],y=r[12],x=r[13],_=r[14],b=r[15];return t[0].setComponents(s-i,d-l,v-h,b-y).normalize(),t[1].setComponents(s+i,d+l,v+h,b+y).normalize(),t[2].setComponents(s+o,d+u,v+m,b+x).normalize(),t[3].setComponents(s-o,d-u,v-m,b-x).normalize(),t[4].setComponents(s-a,d-c,v-g,b-_).normalize(),t[5].setComponents(s+a,d+c,v+g,b+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),ef.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ef)}intersectsSprite(e){return ef.center.set(0,0,0),ef.radius=.7071067811865476,ef.applyMatrix4(e.matrixWorld),this.intersectsSphere(ef)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Iv.x=i.normal.x>0?e.max.x:e.min.x,Iv.y=i.normal.y>0?e.max.y:e.min.y,Iv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Iv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function RU(){let n=null,e=!1,t=null,r=null;function i(o,a){t(o,a),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function Xme(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,c){const d=u.array,h=u.usage,m=n.createBuffer();n.bindBuffer(c,m),n.bufferData(c,d,h),u.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function o(u,c,d){const h=c.array,m=c.updateRange;n.bindBuffer(d,u),m.count===-1?n.bufferSubData(d,0,h):(t?n.bufferSubData(d,m.offset*h.BYTES_PER_ELEMENT,h,m.offset,m.count):n.bufferSubData(d,m.offset*h.BYTES_PER_ELEMENT,h.subarray(m.offset,m.offset+m.count)),m.count=-1)}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(n.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const h=r.get(u);(!h||h.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d===void 0?r.set(u,i(u,c)):d.version<u.version&&(o(d.buffer,u,c),d.version=u.version)}return{get:a,remove:s,update:l}}class Ia extends Vt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,a=t/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,d=e/s,h=t/l,m=[],g=[],v=[],y=[];for(let x=0;x<c;x++){const _=x*h-a;for(let b=0;b<u;b++){const S=b*d-o;g.push(S,-_,0),v.push(0,0,1),y.push(b/s),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<s;_++){const b=_+u*x,S=_+u*(x+1),C=_+1+u*(x+1),E=_+1+u*x;m.push(b,S,E),m.push(S,C,E)}this.setIndex(m),this.setAttribute("position",new At(g,3)),this.setAttribute("normal",new At(v,3)),this.setAttribute("uv",new At(y,2))}static fromJSON(e){return new Ia(e.width,e.height,e.widthSegments,e.heightSegments)}}var Yme=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,qme=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zme=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Jme=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Qme=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ege=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tge="vec3 transformed = vec3( position );",nge=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,rge=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,ige=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oge=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,age=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,sge=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,lge=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,uge=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cge=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,fge=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,dge=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,hge=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,pge=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,mge=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,gge=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,vge=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,yge=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,xge=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,_ge="gl_FragColor = linearToOutputTexel( gl_FragColor );",bge=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wge=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Sge=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Cge=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Mge=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ege=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Tge=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Oge=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Pge=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Age=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Rge=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Ige=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Nge=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Lge=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Dge=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,kge=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Fge=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zge=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Bge=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Uge=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Hge=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Vge=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Gge=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Wge=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,$ge=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,jge=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Kge=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Xge=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Yge=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,qge=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Zge=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Jge=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Qge=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eve=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,tve=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nve=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rve=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ive=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,ove=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ave=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,sve=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lve=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uve=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cve=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,fve=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,dve=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,hve=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,pve=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,mve=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,gve=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,vve=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,yve=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xve=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_ve=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bve=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,wve=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Sve=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Cve=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Mve=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Eve=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Tve=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Ove=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Pve=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Ave=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Rve=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ive=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Nve=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Lve=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Dve=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,kve=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Fve=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,zve=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Bve=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Uve=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Hve=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Vve=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Gve=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Wve=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,$ve=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,jve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Kve=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Xve=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Yve=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,qve=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Zve=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Jve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Qve=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,eye=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tye=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nye=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rye=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iye=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oye=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aye=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,sye=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lye=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,uye=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,cye=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fye=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dye=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,hye=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pye=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mye=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gye=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,vye=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yye=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xye=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,_ye=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bye=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Kt={alphamap_fragment:Yme,alphamap_pars_fragment:qme,alphatest_fragment:Zme,alphatest_pars_fragment:Jme,aomap_fragment:Qme,aomap_pars_fragment:ege,begin_vertex:tge,beginnormal_vertex:nge,bsdfs:rge,bumpmap_pars_fragment:ige,clipping_planes_fragment:oge,clipping_planes_pars_fragment:age,clipping_planes_pars_vertex:sge,clipping_planes_vertex:lge,color_fragment:uge,color_pars_fragment:cge,color_pars_vertex:fge,color_vertex:dge,common:hge,cube_uv_reflection_fragment:pge,defaultnormal_vertex:mge,displacementmap_pars_vertex:gge,displacementmap_vertex:vge,emissivemap_fragment:yge,emissivemap_pars_fragment:xge,encodings_fragment:_ge,encodings_pars_fragment:bge,envmap_fragment:wge,envmap_common_pars_fragment:Sge,envmap_pars_fragment:Cge,envmap_pars_vertex:Mge,envmap_physical_pars_fragment:kge,envmap_vertex:Ege,fog_vertex:Tge,fog_pars_vertex:Oge,fog_fragment:Pge,fog_pars_fragment:Age,gradientmap_pars_fragment:Rge,lightmap_fragment:Ige,lightmap_pars_fragment:Nge,lights_lambert_vertex:Lge,lights_pars_begin:Dge,lights_toon_fragment:Fge,lights_toon_pars_fragment:zge,lights_phong_fragment:Bge,lights_phong_pars_fragment:Uge,lights_physical_fragment:Hge,lights_physical_pars_fragment:Vge,lights_fragment_begin:Gge,lights_fragment_maps:Wge,lights_fragment_end:$ge,logdepthbuf_fragment:jge,logdepthbuf_pars_fragment:Kge,logdepthbuf_pars_vertex:Xge,logdepthbuf_vertex:Yge,map_fragment:qge,map_pars_fragment:Zge,map_particle_fragment:Jge,map_particle_pars_fragment:Qge,metalnessmap_fragment:eve,metalnessmap_pars_fragment:tve,morphcolor_vertex:nve,morphnormal_vertex:rve,morphtarget_pars_vertex:ive,morphtarget_vertex:ove,normal_fragment_begin:ave,normal_fragment_maps:sve,normal_pars_fragment:lve,normal_pars_vertex:uve,normal_vertex:cve,normalmap_pars_fragment:fve,clearcoat_normal_fragment_begin:dve,clearcoat_normal_fragment_maps:hve,clearcoat_pars_fragment:pve,output_fragment:mve,packing:gve,premultiplied_alpha_fragment:vve,project_vertex:yve,dithering_fragment:xve,dithering_pars_fragment:_ve,roughnessmap_fragment:bve,roughnessmap_pars_fragment:wve,shadowmap_pars_fragment:Sve,shadowmap_pars_vertex:Cve,shadowmap_vertex:Mve,shadowmask_pars_fragment:Eve,skinbase_vertex:Tve,skinning_pars_vertex:Ove,skinning_vertex:Pve,skinnormal_vertex:Ave,specularmap_fragment:Rve,specularmap_pars_fragment:Ive,tonemapping_fragment:Nve,tonemapping_pars_fragment:Lve,transmission_fragment:Dve,transmission_pars_fragment:kve,uv_pars_fragment:Fve,uv_pars_vertex:zve,uv_vertex:Bve,uv2_pars_fragment:Uve,uv2_pars_vertex:Hve,uv2_vertex:Vve,worldpos_vertex:Gve,background_vert:Wve,background_frag:$ve,cube_vert:jve,cube_frag:Kve,depth_vert:Xve,depth_frag:Yve,distanceRGBA_vert:qve,distanceRGBA_frag:Zve,equirect_vert:Jve,equirect_frag:Qve,linedashed_vert:eye,linedashed_frag:tye,meshbasic_vert:nye,meshbasic_frag:rye,meshlambert_vert:iye,meshlambert_frag:oye,meshmatcap_vert:aye,meshmatcap_frag:sye,meshnormal_vert:lye,meshnormal_frag:uye,meshphong_vert:cye,meshphong_frag:fye,meshphysical_vert:dye,meshphysical_frag:hye,meshtoon_vert:pye,meshtoon_frag:mye,points_vert:gye,points_frag:vye,shadow_vert:yye,shadow_frag:xye,sprite_vert:_ye,sprite_frag:bye},gt={common:{diffuse:{value:new pt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Nr},uv2Transform:{value:new Nr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Nr}},sprite:{diffuse:{value:new pt(16777215)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Nr}}},ca={basic:{uniforms:Zr([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.fog]),vertexShader:Kt.meshbasic_vert,fragmentShader:Kt.meshbasic_frag},lambert:{uniforms:Zr([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.fog,gt.lights,{emissive:{value:new pt(0)}}]),vertexShader:Kt.meshlambert_vert,fragmentShader:Kt.meshlambert_frag},phong:{uniforms:Zr([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,gt.lights,{emissive:{value:new pt(0)},specular:{value:new pt(1118481)},shininess:{value:30}}]),vertexShader:Kt.meshphong_vert,fragmentShader:Kt.meshphong_frag},standard:{uniforms:Zr([gt.common,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.roughnessmap,gt.metalnessmap,gt.fog,gt.lights,{emissive:{value:new pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag},toon:{uniforms:Zr([gt.common,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.gradientmap,gt.fog,gt.lights,{emissive:{value:new pt(0)}}]),vertexShader:Kt.meshtoon_vert,fragmentShader:Kt.meshtoon_frag},matcap:{uniforms:Zr([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,{matcap:{value:null}}]),vertexShader:Kt.meshmatcap_vert,fragmentShader:Kt.meshmatcap_frag},points:{uniforms:Zr([gt.points,gt.fog]),vertexShader:Kt.points_vert,fragmentShader:Kt.points_frag},dashed:{uniforms:Zr([gt.common,gt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Kt.linedashed_vert,fragmentShader:Kt.linedashed_frag},depth:{uniforms:Zr([gt.common,gt.displacementmap]),vertexShader:Kt.depth_vert,fragmentShader:Kt.depth_frag},normal:{uniforms:Zr([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,{opacity:{value:1}}]),vertexShader:Kt.meshnormal_vert,fragmentShader:Kt.meshnormal_frag},sprite:{uniforms:Zr([gt.sprite,gt.fog]),vertexShader:Kt.sprite_vert,fragmentShader:Kt.sprite_frag},background:{uniforms:{uvTransform:{value:new Nr},t2D:{value:null}},vertexShader:Kt.background_vert,fragmentShader:Kt.background_frag},cube:{uniforms:Zr([gt.envmap,{opacity:{value:1}}]),vertexShader:Kt.cube_vert,fragmentShader:Kt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Kt.equirect_vert,fragmentShader:Kt.equirect_frag},distanceRGBA:{uniforms:Zr([gt.common,gt.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Kt.distanceRGBA_vert,fragmentShader:Kt.distanceRGBA_frag},shadow:{uniforms:Zr([gt.lights,gt.fog,{color:{value:new pt(0)},opacity:{value:1}}]),vertexShader:Kt.shadow_vert,fragmentShader:Kt.shadow_frag}};ca.physical={uniforms:Zr([ca.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new $e(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new pt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new $e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new pt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new pt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag};function wye(n,e,t,r,i,o){const a=new pt(0);let s=i===!0?0:1,l,u,c=null,d=0,h=null;function m(v,y){let x=!1,_=y.isScene===!0?y.background:null;_&&_.isTexture&&(_=e.get(_));const b=n.xr,S=b.getSession&&b.getSession();S&&S.environmentBlendMode==="additive"&&(_=null),_===null?g(a,s):_&&_.isColor&&(g(_,1),x=!0),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Wm)?(u===void 0&&(u=new ht(new Hn(1,1,1),new Ho({name:"BackgroundCubeMaterial",uniforms:yd(ca.cube.uniforms),vertexShader:ca.cube.vertexShader,fragmentShader:ca.cube.fragmentShader,side:ro,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,E,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,(c!==_||d!==_.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,c=_,d=_.version,h=n.toneMapping),v.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(l===void 0&&(l=new ht(new Ia(2,2),new Ho({name:"BackgroundMaterial",uniforms:yd(ca.background.uniforms),vertexShader:ca.background.vertexShader,fragmentShader:ca.background.fragmentShader,side:md,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=_,_.matrixAutoUpdate===!0&&_.updateMatrix(),l.material.uniforms.uvTransform.value.copy(_.matrix),(c!==_||d!==_.version||h!==n.toneMapping)&&(l.material.needsUpdate=!0,c=_,d=_.version,h=n.toneMapping),v.unshift(l,l.geometry,l.material,0,0,null))}function g(v,y){t.buffers.color.setClear(v.r,v.g,v.b,y,o)}return{getClearColor:function(){return a},setClearColor:function(v,y=1){a.set(v),s=y,g(a,s)},getClearAlpha:function(){return s},setClearAlpha:function(v){s=v,g(a,s)},render:m}}function Sye(n,e,t,r){const i=n.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=y(null);let u=l,c=!1;function d(k,H,$,V,N){let W=!1;if(a){const ee=v(V,$,H);u!==ee&&(u=ee,m(u.object)),W=x(V,N),W&&_(V,N)}else{const ee=H.wireframe===!0;(u.geometry!==V.id||u.program!==$.id||u.wireframe!==ee)&&(u.geometry=V.id,u.program=$.id,u.wireframe=ee,W=!0)}k.isInstancedMesh===!0&&(W=!0),N!==null&&t.update(N,34963),(W||c)&&(c=!1,P(k,H,$,V),N!==null&&n.bindBuffer(34963,t.get(N).buffer))}function h(){return r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}function m(k){return r.isWebGL2?n.bindVertexArray(k):o.bindVertexArrayOES(k)}function g(k){return r.isWebGL2?n.deleteVertexArray(k):o.deleteVertexArrayOES(k)}function v(k,H,$){const V=$.wireframe===!0;let N=s[k.id];N===void 0&&(N={},s[k.id]=N);let W=N[H.id];W===void 0&&(W={},N[H.id]=W);let ee=W[V];return ee===void 0&&(ee=y(h()),W[V]=ee),ee}function y(k){const H=[],$=[],V=[];for(let N=0;N<i;N++)H[N]=0,$[N]=0,V[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:$,attributeDivisors:V,object:k,attributes:{},index:null}}function x(k,H){const $=u.attributes,V=k.attributes;let N=0;for(const W in V){const ee=$[W],j=V[W];if(ee===void 0||ee.attribute!==j||ee.data!==j.data)return!0;N++}return u.attributesNum!==N||u.index!==H}function _(k,H){const $={},V=k.attributes;let N=0;for(const W in V){const ee=V[W],j={};j.attribute=ee,ee.data&&(j.data=ee.data),$[W]=j,N++}u.attributes=$,u.attributesNum=N,u.index=H}function b(){const k=u.newAttributes;for(let H=0,$=k.length;H<$;H++)k[H]=0}function S(k){C(k,0)}function C(k,H){const $=u.newAttributes,V=u.enabledAttributes,N=u.attributeDivisors;$[k]=1,V[k]===0&&(n.enableVertexAttribArray(k),V[k]=1),N[k]!==H&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,H),N[k]=H)}function E(){const k=u.newAttributes,H=u.enabledAttributes;for(let $=0,V=H.length;$<V;$++)H[$]!==k[$]&&(n.disableVertexAttribArray($),H[$]=0)}function T(k,H,$,V,N,W){r.isWebGL2===!0&&($===5124||$===5125)?n.vertexAttribIPointer(k,H,$,N,W):n.vertexAttribPointer(k,H,$,V,N,W)}function P(k,H,$,V){if(r.isWebGL2===!1&&(k.isInstancedMesh||V.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const N=V.attributes,W=$.getAttributes(),ee=H.defaultAttributeValues;for(const j in W){const G=W[j];if(G.location>=0){let ne=N[j];if(ne===void 0&&(j==="instanceMatrix"&&k.instanceMatrix&&(ne=k.instanceMatrix),j==="instanceColor"&&k.instanceColor&&(ne=k.instanceColor)),ne!==void 0){const ye=ne.normalized,xe=ne.itemSize,oe=t.get(ne);if(oe===void 0)continue;const de=oe.buffer,be=oe.type,ke=oe.bytesPerElement;if(ne.isInterleavedBufferAttribute){const he=ne.data,Le=he.stride,le=ne.offset;if(he.isInstancedInterleavedBuffer){for(let ce=0;ce<G.locationSize;ce++)C(G.location+ce,he.meshPerAttribute);k.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let ce=0;ce<G.locationSize;ce++)S(G.location+ce);n.bindBuffer(34962,de);for(let ce=0;ce<G.locationSize;ce++)T(G.location+ce,xe/G.locationSize,be,ye,Le*ke,(le+xe/G.locationSize*ce)*ke)}else{if(ne.isInstancedBufferAttribute){for(let he=0;he<G.locationSize;he++)C(G.location+he,ne.meshPerAttribute);k.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let he=0;he<G.locationSize;he++)S(G.location+he);n.bindBuffer(34962,de);for(let he=0;he<G.locationSize;he++)T(G.location+he,xe/G.locationSize,be,ye,xe*ke,xe/G.locationSize*he*ke)}}else if(ee!==void 0){const ye=ee[j];if(ye!==void 0)switch(ye.length){case 2:n.vertexAttrib2fv(G.location,ye);break;case 3:n.vertexAttrib3fv(G.location,ye);break;case 4:n.vertexAttrib4fv(G.location,ye);break;default:n.vertexAttrib1fv(G.location,ye)}}}}E()}function L(){F();for(const k in s){const H=s[k];for(const $ in H){const V=H[$];for(const N in V)g(V[N].object),delete V[N];delete H[$]}delete s[k]}}function I(k){if(s[k.id]===void 0)return;const H=s[k.id];for(const $ in H){const V=H[$];for(const N in V)g(V[N].object),delete V[N];delete H[$]}delete s[k.id]}function O(k){for(const H in s){const $=s[H];if($[k.id]===void 0)continue;const V=$[k.id];for(const N in V)g(V[N].object),delete V[N];delete $[k.id]}}function F(){U(),c=!0,u!==l&&(u=l,m(u.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:F,resetDefaultState:U,dispose:L,releaseStatesOfGeometry:I,releaseStatesOfProgram:O,initAttributes:b,enableAttribute:S,disableUnusedAttributes:E}}function Cye(n,e,t,r){const i=r.isWebGL2;let o;function a(u){o=u}function s(u,c){n.drawArrays(o,u,c),t.update(c,o,1)}function l(u,c,d){if(d===0)return;let h,m;if(i)h=n,m="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[m](o,u,c,d),t.update(c,o,d)}this.setMode=a,this.render=s,this.renderInstances=l}function Mye(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let s=t.precision!==void 0?t.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const u=a||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),h=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),b=h>0,S=a||e.has("OES_texture_float"),C=b&&S,E=a?n.getParameter(36183):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:h,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:S,floatVertexTextures:C,maxSamples:E}}function Eye(n){const e=this;let t=null,r=0,i=!1,o=!1;const a=new xs,s=new Nr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h,m){const g=d.length!==0||h||r!==0||i;return i=h,t=c(d,m,0),r=d.length,g},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(d,h,m){const g=d.clippingPlanes,v=d.clipIntersection,y=d.clipShadows,x=n.get(d);if(!i||g===null||g.length===0||o&&!y)o?c(null):u();else{const _=o?0:r,b=_*4;let S=x.clippingState||null;l.value=S,S=c(g,h,b,m);for(let C=0;C!==b;++C)S[C]=t[C];x.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(d,h,m,g){const v=d!==null?d.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const x=m+v*4,_=h.matrixWorldInverse;s.getNormalMatrix(_),(y===null||y.length<x)&&(y=new Float32Array(x));for(let b=0,S=m;b!==v;++b,S+=4)a.copy(d[b]).applyMatrix4(_,s),a.normal.toArray(y,S),y[S+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function Tye(n){let e=new WeakMap;function t(a,s){return s===v0?a.mapping=nc:s===y0&&(a.mapping=rc),a}function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const s=a.mapping;if(s===v0||s===y0)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new AU(l.height/2);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",i),t(u.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class jm extends _O{constructor(e=-1,t=1,r=1,i=-1,o=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,a=o+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}jm.prototype.isOrthographicCamera=!0;const kf=4,gD=[.125,.215,.35,.446,.526,.582],Lu=20,S1=new jm,vD=new pt;let C1=null;const wu=(1+Math.sqrt(5))/2,tf=1/wu,yD=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,wu,tf),new J(0,wu,-tf),new J(tf,0,wu),new J(-tf,0,wu),new J(wu,tf,0),new J(-wu,tf,0)];class xD{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){C1=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=wD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=bD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(C1),e.scissorTest=!1,Nv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===nc||e.mapping===rc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),C1=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,r={magFilter:Sn,minFilter:Sn,generateMipmaps:!1,type:Ni,format:to,encoding:ao,depthBuffer:!1},i=_D(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_D(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Oye(o)),this._blurMaterial=Pye(o,e,t)}return i}_compileMaterial(e){const t=new ht(this._lodPlanes[0],e);this._renderer.compile(t,S1)}_sceneToCubeUV(e,t,r,i){const s=new Vr(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.autoClear,h=c.toneMapping;c.getClearColor(vD),c.toneMapping=Os,c.autoClear=!1;const m=new vr({name:"PMREM.Background",side:ro,depthWrite:!1,depthTest:!1}),g=new ht(new Hn,m);let v=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,v=!0):(m.color.copy(vD),v=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(s.up.set(0,l[x],0),s.lookAt(u[x],0,0)):_===1?(s.up.set(0,0,l[x]),s.lookAt(0,u[x],0)):(s.up.set(0,l[x],0),s.lookAt(0,0,u[x]));const b=this._cubeSize;Nv(i,_*b,x>2?b:0,b,b),c.setRenderTarget(i),v&&c.render(g,s),c.render(e,s)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.autoClear=d,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===nc||e.mapping===rc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=wD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=bD());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new ht(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;Nv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(a,S1)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=yD[(i-1)%yD.length];this._blur(e,i-1,i,o,a)}t.autoClear=r}_blur(e,t,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,a,s){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new ht(this._lodPlanes[i],u),h=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*Lu-1),v=o/g,y=isFinite(o)?1+Math.floor(c*v):Lu;y>Lu&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Lu}`);const x=[];let _=0;for(let T=0;T<Lu;++T){const P=T/v,L=Math.exp(-P*P/2);x.push(L),T===0?_+=L:T<y&&(_+=2*L)}for(let T=0;T<x.length;T++)x[T]=x[T]/_;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=x,h.latitudinal.value=a==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:b}=this;h.dTheta.value=g,h.mipInt.value=b-r;const S=this._sizeLods[i],C=3*S*(i>b-kf?i-b+kf:0),E=4*(this._cubeSize-S);Nv(t,C,E,3*S,2*S),l.setRenderTarget(t),l.render(d,S1)}}function Oye(n){const e=[],t=[],r=[];let i=n;const o=n-kf+1+gD.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);t.push(s);let l=1/s;a>n-kf?l=gD[a-n+kf-1]:a===0&&(l=0),r.push(l);const u=1/(s-1),c=-u/2,d=1+u/2,h=[c,c,d,c,d,d,c,c,d,d,c,d],m=6,g=6,v=3,y=2,x=1,_=new Float32Array(v*g*m),b=new Float32Array(y*g*m),S=new Float32Array(x*g*m);for(let E=0;E<m;E++){const T=E%3*2/3-1,P=E>2?0:-1,L=[T,P,0,T+2/3,P,0,T+2/3,P+1,0,T,P,0,T+2/3,P+1,0,T,P+1,0];_.set(L,v*g*E),b.set(h,y*g*E);const I=[E,E,E,E,E,E];S.set(I,x*g*E)}const C=new Vt;C.setAttribute("position",new jn(_,v)),C.setAttribute("uv",new jn(b,y)),C.setAttribute("faceIndex",new jn(S,x)),e.push(C),i>kf&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function _D(n,e,t){const r=new io(n,e,t);return r.texture.mapping=Wm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Nv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Pye(n,e,t){const r=new Float32Array(Lu),i=new J(0,1,0);return new Ho({name:"SphericalGaussianBlur",defines:{n:Lu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:wO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function bD(){return new Ho({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:wO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function wD(){return new Ho({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:wO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Al,depthTest:!1,depthWrite:!1})}function wO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Aye(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===v0||l===y0,c=l===nc||l===rc;if(u||c)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let d=e.get(s);return t===null&&(t=new xD(n)),d=u?t.fromEquirectangular(s,d):t.fromCubemap(s,d),e.set(s,d),d.texture}else{if(e.has(s))return e.get(s).texture;{const d=s.image;if(u&&d&&d.height>0||c&&d&&i(d)){t===null&&(t=new xD(n));const h=u?t.fromEquirectangular(s):t.fromCubemap(s);return e.set(s,h),s.addEventListener("dispose",o),h.texture}else return null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function o(s){const l=s.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:a}}function Rye(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Iye(n,e,t,r){const i={},o=new WeakMap;function a(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",a),delete i[h.id];const m=o.get(h);m&&(e.remove(m),o.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function s(d,h){return i[h.id]===!0||(h.addEventListener("dispose",a),i[h.id]=!0,t.memory.geometries++),h}function l(d){const h=d.attributes;for(const g in h)e.update(h[g],34962);const m=d.morphAttributes;for(const g in m){const v=m[g];for(let y=0,x=v.length;y<x;y++)e.update(v[y],34962)}}function u(d){const h=[],m=d.index,g=d.attributes.position;let v=0;if(m!==null){const _=m.array;v=m.version;for(let b=0,S=_.length;b<S;b+=3){const C=_[b+0],E=_[b+1],T=_[b+2];h.push(C,E,E,T,T,C)}}else{const _=g.array;v=g.version;for(let b=0,S=_.length/3-1;b<S;b+=3){const C=b+0,E=b+1,T=b+2;h.push(C,E,E,T,T,C)}}const y=new(EU(h)?PU:OU)(h,1);y.version=v;const x=o.get(d);x&&e.remove(x),o.set(d,y)}function c(d){const h=o.get(d);if(h){const m=d.index;m!==null&&h.version<m.version&&u(d)}else u(d);return o.get(d)}return{get:s,update:l,getWireframeAttribute:c}}function Nye(n,e,t,r){const i=r.isWebGL2;let o;function a(h){o=h}let s,l;function u(h){s=h.type,l=h.bytesPerElement}function c(h,m){n.drawElements(o,m,s,h*l),t.update(m,o,1)}function d(h,m,g){if(g===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](o,m,s,h*l,g),t.update(m,o,g)}this.setMode=a,this.setIndex=u,this.render=c,this.renderInstances=d}function Lye(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(t.calls++,a){case 4:t.triangles+=s*(o/3);break;case 1:t.lines+=s*(o/2);break;case 3:t.lines+=s*(o-1);break;case 2:t.lines+=s*o;break;case 0:t.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Dye(n,e){return n[0]-e[0]}function kye(n,e){return Math.abs(e[1])-Math.abs(n[1])}function M1(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function Fye(n,e,t){const r={},i=new Float32Array(8),o=new WeakMap,a=new vn,s=[];for(let u=0;u<8;u++)s[u]=[u,0];function l(u,c,d,h){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,y=v!==void 0?v.length:0;let x=o.get(c);if(x===void 0||x.count!==y){let $=function(){k.dispose(),o.delete(c),c.removeEventListener("dispose",$)};var g=$;x!==void 0&&x.texture.dispose();const S=c.morphAttributes.position!==void 0,C=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,T=c.morphAttributes.position||[],P=c.morphAttributes.normal||[],L=c.morphAttributes.color||[];let I=0;S===!0&&(I=1),C===!0&&(I=2),E===!0&&(I=3);let O=c.attributes.position.count*I,F=1;O>e.maxTextureSize&&(F=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const U=new Float32Array(O*F*4*y),k=new m_(U,O,F,y);k.type=Ii,k.needsUpdate=!0;const H=I*4;for(let V=0;V<y;V++){const N=T[V],W=P[V],ee=L[V],j=O*F*4*V;for(let G=0;G<N.count;G++){const ne=G*H;S===!0&&(a.fromBufferAttribute(N,G),N.normalized===!0&&M1(a,N),U[j+ne+0]=a.x,U[j+ne+1]=a.y,U[j+ne+2]=a.z,U[j+ne+3]=0),C===!0&&(a.fromBufferAttribute(W,G),W.normalized===!0&&M1(a,W),U[j+ne+4]=a.x,U[j+ne+5]=a.y,U[j+ne+6]=a.z,U[j+ne+7]=0),E===!0&&(a.fromBufferAttribute(ee,G),ee.normalized===!0&&M1(a,ee),U[j+ne+8]=a.x,U[j+ne+9]=a.y,U[j+ne+10]=a.z,U[j+ne+11]=ee.itemSize===4?a.w:1)}}x={count:y,texture:k,size:new $e(O,F)},o.set(c,x),c.addEventListener("dispose",$)}let _=0;for(let S=0;S<m.length;S++)_+=m[S];const b=c.morphTargetsRelative?1:1-_;h.getUniforms().setValue(n,"morphTargetBaseInfluence",b),h.getUniforms().setValue(n,"morphTargetInfluences",m),h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const v=m===void 0?0:m.length;let y=r[c.id];if(y===void 0||y.length!==v){y=[];for(let C=0;C<v;C++)y[C]=[C,0];r[c.id]=y}for(let C=0;C<v;C++){const E=y[C];E[0]=C,E[1]=m[C]}y.sort(kye);for(let C=0;C<8;C++)C<v&&y[C][1]?(s[C][0]=y[C][0],s[C][1]=y[C][1]):(s[C][0]=Number.MAX_SAFE_INTEGER,s[C][1]=0);s.sort(Dye);const x=c.morphAttributes.position,_=c.morphAttributes.normal;let b=0;for(let C=0;C<8;C++){const E=s[C],T=E[0],P=E[1];T!==Number.MAX_SAFE_INTEGER&&P?(x&&c.getAttribute("morphTarget"+C)!==x[T]&&c.setAttribute("morphTarget"+C,x[T]),_&&c.getAttribute("morphNormal"+C)!==_[T]&&c.setAttribute("morphNormal"+C,_[T]),i[C]=P,b+=P):(x&&c.hasAttribute("morphTarget"+C)===!0&&c.deleteAttribute("morphTarget"+C),_&&c.hasAttribute("morphNormal"+C)===!0&&c.deleteAttribute("morphNormal"+C),i[C]=0)}const S=c.morphTargetsRelative?1:1-b;h.getUniforms().setValue(n,"morphTargetBaseInfluence",S),h.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function zye(n,e,t,r){let i=new WeakMap;function o(l){const u=r.render.frame,c=l.geometry,d=e.get(l,c);return i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function a(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:o,dispose:a}}const IU=new ur,NU=new m_,LU=new yO,DU=new $m,SD=[],CD=[],MD=new Float32Array(16),ED=new Float32Array(9),TD=new Float32Array(4);function Gd(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=SD[i];if(o===void 0&&(o=new Float32Array(i),SD[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=t,n[a].toArray(o,s)}return o}function yi(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ti(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function v_(n,e){let t=CD[e];t===void 0&&(t=new Int32Array(e),CD[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Bye(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Uye(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(yi(t,e))return;n.uniform2fv(this.addr,e),ti(t,e)}}function Hye(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(yi(t,e))return;n.uniform3fv(this.addr,e),ti(t,e)}}function Vye(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(yi(t,e))return;n.uniform4fv(this.addr,e),ti(t,e)}}function Gye(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(yi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ti(t,e)}else{if(yi(t,r))return;TD.set(r),n.uniformMatrix2fv(this.addr,!1,TD),ti(t,r)}}function Wye(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(yi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ti(t,e)}else{if(yi(t,r))return;ED.set(r),n.uniformMatrix3fv(this.addr,!1,ED),ti(t,r)}}function $ye(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(yi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ti(t,e)}else{if(yi(t,r))return;MD.set(r),n.uniformMatrix4fv(this.addr,!1,MD),ti(t,r)}}function jye(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Kye(n,e){const t=this.cache;yi(t,e)||(n.uniform2iv(this.addr,e),ti(t,e))}function Xye(n,e){const t=this.cache;yi(t,e)||(n.uniform3iv(this.addr,e),ti(t,e))}function Yye(n,e){const t=this.cache;yi(t,e)||(n.uniform4iv(this.addr,e),ti(t,e))}function qye(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Zye(n,e){const t=this.cache;yi(t,e)||(n.uniform2uiv(this.addr,e),ti(t,e))}function Jye(n,e){const t=this.cache;yi(t,e)||(n.uniform3uiv(this.addr,e),ti(t,e))}function Qye(n,e){const t=this.cache;yi(t,e)||(n.uniform4uiv(this.addr,e),ti(t,e))}function e0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||IU,i)}function t0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||LU,i)}function n0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||DU,i)}function r0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||NU,i)}function i0e(n){switch(n){case 5126:return Bye;case 35664:return Uye;case 35665:return Hye;case 35666:return Vye;case 35674:return Gye;case 35675:return Wye;case 35676:return $ye;case 5124:case 35670:return jye;case 35667:case 35671:return Kye;case 35668:case 35672:return Xye;case 35669:case 35673:return Yye;case 5125:return qye;case 36294:return Zye;case 36295:return Jye;case 36296:return Qye;case 35678:case 36198:case 36298:case 36306:case 35682:return e0e;case 35679:case 36299:case 36307:return t0e;case 35680:case 36300:case 36308:case 36293:return n0e;case 36289:case 36303:case 36311:case 36292:return r0e}}function o0e(n,e){n.uniform1fv(this.addr,e)}function a0e(n,e){const t=Gd(e,this.size,2);n.uniform2fv(this.addr,t)}function s0e(n,e){const t=Gd(e,this.size,3);n.uniform3fv(this.addr,t)}function l0e(n,e){const t=Gd(e,this.size,4);n.uniform4fv(this.addr,t)}function u0e(n,e){const t=Gd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function c0e(n,e){const t=Gd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function f0e(n,e){const t=Gd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function d0e(n,e){n.uniform1iv(this.addr,e)}function h0e(n,e){n.uniform2iv(this.addr,e)}function p0e(n,e){n.uniform3iv(this.addr,e)}function m0e(n,e){n.uniform4iv(this.addr,e)}function g0e(n,e){n.uniform1uiv(this.addr,e)}function v0e(n,e){n.uniform2uiv(this.addr,e)}function y0e(n,e){n.uniform3uiv(this.addr,e)}function x0e(n,e){n.uniform4uiv(this.addr,e)}function _0e(n,e,t){const r=e.length,i=v_(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2D(e[o]||IU,i[o])}function b0e(n,e,t){const r=e.length,i=v_(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture3D(e[o]||LU,i[o])}function w0e(n,e,t){const r=e.length,i=v_(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTextureCube(e[o]||DU,i[o])}function S0e(n,e,t){const r=e.length,i=v_(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||NU,i[o])}function C0e(n){switch(n){case 5126:return o0e;case 35664:return a0e;case 35665:return s0e;case 35666:return l0e;case 35674:return u0e;case 35675:return c0e;case 35676:return f0e;case 5124:case 35670:return d0e;case 35667:case 35671:return h0e;case 35668:case 35672:return p0e;case 35669:case 35673:return m0e;case 5125:return g0e;case 36294:return v0e;case 36295:return y0e;case 36296:return x0e;case 35678:case 36198:case 36298:case 36306:case 35682:return _0e;case 35679:case 36299:case 36307:return b0e;case 35680:case 36300:case 36308:case 36293:return w0e;case 36289:case 36303:case 36311:case 36292:return S0e}}function M0e(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=i0e(e.type)}function kU(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=C0e(e.type)}kU.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),ti(e,n)};function FU(n){this.id=n,this.seq=[],this.map={}}FU.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const a=r[i];a.setValue(n,e[a.id],t)}};const E1=/(\w+)(\])?(\[|\.)?/g;function OD(n,e){n.seq.push(e),n.map[e.id]=e}function E0e(n,e,t){const r=n.name,i=r.length;for(E1.lastIndex=0;;){const o=E1.exec(r),a=E1.lastIndex;let s=o[1];const l=o[2]==="]",u=o[3];if(l&&(s=s|0),u===void 0||u==="["&&a+2===i){OD(t,u===void 0?new M0e(s,n,e):new kU(s,n,e));break}else{let d=t.map[s];d===void 0&&(d=new FU(s),OD(t,d)),t=d}}}function Rl(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r),o=n.getUniformLocation(e,i.name);E0e(i,o,this)}}Rl.prototype.setValue=function(n,e,t,r){const i=this.map[e];i!==void 0&&i.setValue(n,t,r)};Rl.prototype.setOptional=function(n,e,t){const r=e[t];r!==void 0&&this.setValue(n,t,r)};Rl.upload=function(n,e,t,r){for(let i=0,o=e.length;i!==o;++i){const a=e[i],s=t[a.id];s.needsUpdate!==!1&&a.setValue(n,s.value,r)}};Rl.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.id in e&&t.push(o)}return t};function PD(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let T0e=0;function O0e(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let a=i;a<o;a++)r.push(a+1+": "+t[a]);return r.join(`
`)}function P0e(n){switch(n){case ao:return["Linear","( value )"];case sn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function AD(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=parseInt(/ERROR: 0:(\d+)/.exec(i)[1]);return t.toUpperCase()+`

`+i+`

`+O0e(n.getShaderSource(e),o)}function A0e(n,e){const t=P0e(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function R0e(n,e){let t;switch(e){case zpe:t="Linear";break;case Bpe:t="Reinhard";break;case Upe:t="OptimizedCineon";break;case Hpe:t="ACESFilmic";break;case Vpe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function I0e(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ep).join(`
`)}function N0e(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function L0e(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),a=o.name;let s=1;o.type===35674&&(s=2),o.type===35675&&(s=3),o.type===35676&&(s=4),t[a]={type:o.type,location:n.getAttribLocation(e,a),locationSize:s}}return t}function ep(n){return n!==""}function RD(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ID(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const D0e=/^[ \t]*#include +<([\w\d./]+)>/gm;function QC(n){return n.replace(D0e,k0e)}function k0e(n,e){const t=Kt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return QC(t)}const F0e=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,z0e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ND(n){return n.replace(z0e,zU).replace(F0e,B0e)}function B0e(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),zU(n,e,t,r)}function zU(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function LD(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function U0e(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===vU?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===gpe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Qh&&(e="SHADOWMAP_TYPE_VSM"),e}function H0e(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case nc:case rc:e="ENVMAP_TYPE_CUBE";break;case Wm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function V0e(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case rc:e="ENVMAP_MODE_REFRACTION";break}return e}function G0e(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case p_:e="ENVMAP_BLENDING_MULTIPLY";break;case kpe:e="ENVMAP_BLENDING_MIX";break;case Fpe:e="ENVMAP_BLENDING_ADD";break}return e}function W0e(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e/32+1)+3,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function $0e(n,e,t,r){const i=n.getContext(),o=t.defines;let a=t.vertexShader,s=t.fragmentShader;const l=U0e(t),u=H0e(t),c=V0e(t),d=G0e(t),h=W0e(t),m=t.isWebGL2?"":I0e(t),g=N0e(o),v=i.createProgram();let y,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[g].filter(ep).join(`
`),y.length>0&&(y+=`
`),x=[m,g].filter(ep).join(`
`),x.length>0&&(x+=`
`)):(y=[LD(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ep).join(`
`),x=[m,LD(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Os?"#define TONE_MAPPING":"",t.toneMapping!==Os?Kt.tonemapping_pars_fragment:"",t.toneMapping!==Os?R0e("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Kt.encodings_pars_fragment,A0e("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ep).join(`
`)),a=QC(a),a=RD(a,t),a=ID(a,t),s=QC(s),s=RD(s,t),s=ID(s,t),a=ND(a),s=ND(s),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===rD?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===rD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const b=_+y+a,S=_+x+s,C=PD(i,35633,b),E=PD(i,35632,S);if(i.attachShader(v,C),i.attachShader(v,E),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const L=i.getProgramInfoLog(v).trim(),I=i.getShaderInfoLog(C).trim(),O=i.getShaderInfoLog(E).trim();let F=!0,U=!0;if(i.getProgramParameter(v,35714)===!1){F=!1;const k=AD(i,C,"vertex"),H=AD(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+L+`
`+k+`
`+H)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(I===""||O==="")&&(U=!1);U&&(this.diagnostics={runnable:F,programLog:L,vertexShader:{log:I,prefix:y},fragmentShader:{log:O,prefix:x}})}i.deleteShader(C),i.deleteShader(E);let T;this.getUniforms=function(){return T===void 0&&(T=new Rl(i,v)),T};let P;return this.getAttributes=function(){return P===void 0&&(P=L0e(i,v)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=T0e++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=C,this.fragmentShader=E,this}let j0e=0;class K0e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new X0e(e);t.set(e,r)}return t.get(e)}}class X0e{constructor(e){this.id=j0e++,this.code=e,this.usedTimes=0}}function Y0e(n,e,t,r,i,o,a){const s=new xO,l=new K0e,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.floatVertexTextures,m=i.maxVertexUniforms,g=i.vertexTextures;let v=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(O){const U=O.skeleton.bones;if(h)return 1024;{const H=Math.floor((m-20)/4),$=Math.min(H,U.length);return $<U.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+U.length+" bones. This GPU supports "+$+"."),0):$}}function _(O,F,U,k,H){const $=k.fog,V=H.geometry,N=O.isMeshStandardMaterial?k.environment:null,W=(O.isMeshStandardMaterial?t:e).get(O.envMap||N),ee=!!W&&W.mapping===Wm?W.image.height:null,j=y[O.type],G=H.isSkinnedMesh?x(H):0;O.precision!==null&&(v=i.getMaxPrecision(O.precision),v!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",v,"instead."));const ne=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,ye=ne!==void 0?ne.length:0;let xe=0;V.morphAttributes.position!==void 0&&(xe=1),V.morphAttributes.normal!==void 0&&(xe=2),V.morphAttributes.color!==void 0&&(xe=3);let oe,de,be,ke;if(j){const we=ca[j];oe=we.vertexShader,de=we.fragmentShader}else oe=O.vertexShader,de=O.fragmentShader,l.update(O),be=l.getVertexShaderID(O),ke=l.getFragmentShaderID(O);const he=n.getRenderTarget(),Le=O.alphaTest>0,le=O.clearcoat>0;return{isWebGL2:c,shaderID:j,shaderName:O.type,vertexShader:oe,fragmentShader:de,defines:O.defines,customVertexShaderID:be,customFragmentShaderID:ke,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:v,instancing:H.isInstancedMesh===!0,instancingColor:H.isInstancedMesh===!0&&H.instanceColor!==null,supportsVertexTextures:g,outputEncoding:he===null?n.outputEncoding:he.isXRRenderTarget===!0?he.texture.encoding:ao,map:!!O.map,matcap:!!O.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:ee,lightMap:!!O.lightMap,aoMap:!!O.aoMap,emissiveMap:!!O.emissiveMap,bumpMap:!!O.bumpMap,normalMap:!!O.normalMap,objectSpaceNormalMap:O.normalMapType===cme,tangentSpaceNormalMap:O.normalMapType===pc,decodeVideoTexture:!!O.map&&O.map.isVideoTexture===!0&&O.map.encoding===sn,clearcoat:le,clearcoatMap:le&&!!O.clearcoatMap,clearcoatRoughnessMap:le&&!!O.clearcoatRoughnessMap,clearcoatNormalMap:le&&!!O.clearcoatNormalMap,displacementMap:!!O.displacementMap,roughnessMap:!!O.roughnessMap,metalnessMap:!!O.metalnessMap,specularMap:!!O.specularMap,specularIntensityMap:!!O.specularIntensityMap,specularColorMap:!!O.specularColorMap,opaque:O.transparent===!1&&O.blending===Kf,alphaMap:!!O.alphaMap,alphaTest:Le,gradientMap:!!O.gradientMap,sheen:O.sheen>0,sheenColorMap:!!O.sheenColorMap,sheenRoughnessMap:!!O.sheenRoughnessMap,transmission:O.transmission>0,transmissionMap:!!O.transmissionMap,thicknessMap:!!O.thicknessMap,combine:O.combine,vertexTangents:!!O.normalMap&&!!V.attributes.tangent,vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,vertexUvs:!!O.map||!!O.bumpMap||!!O.normalMap||!!O.specularMap||!!O.alphaMap||!!O.emissiveMap||!!O.roughnessMap||!!O.metalnessMap||!!O.clearcoatMap||!!O.clearcoatRoughnessMap||!!O.clearcoatNormalMap||!!O.displacementMap||!!O.transmissionMap||!!O.thicknessMap||!!O.specularIntensityMap||!!O.specularColorMap||!!O.sheenColorMap||!!O.sheenRoughnessMap,uvsVertexOnly:!(!!O.map||!!O.bumpMap||!!O.normalMap||!!O.specularMap||!!O.alphaMap||!!O.emissiveMap||!!O.roughnessMap||!!O.metalnessMap||!!O.clearcoatNormalMap||O.transmission>0||!!O.transmissionMap||!!O.thicknessMap||!!O.specularIntensityMap||!!O.specularColorMap||O.sheen>0||!!O.sheenColorMap||!!O.sheenRoughnessMap)&&!!O.displacementMap,fog:!!$,useFog:O.fog,fogExp2:$&&$.isFogExp2,flatShading:!!O.flatShading,sizeAttenuation:O.sizeAttenuation,logarithmicDepthBuffer:d,skinning:H.isSkinnedMesh===!0&&G>0,maxBones:G,useVertexTexture:h,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:ye,morphTextureStride:xe,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:O.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:O.toneMapped?n.toneMapping:Os,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===Ua,flipSided:O.side===ro,depthPacking:O.depthPacking!==void 0?O.depthPacking:!1,index0AttributeName:O.index0AttributeName,extensionDerivatives:O.extensions&&O.extensions.derivatives,extensionFragDepth:O.extensions&&O.extensions.fragDepth,extensionDrawBuffers:O.extensions&&O.extensions.drawBuffers,extensionShaderTextureLOD:O.extensions&&O.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:O.customProgramCacheKey()}}function b(O){const F=[];if(O.shaderID?F.push(O.shaderID):(F.push(O.customVertexShaderID),F.push(O.customFragmentShaderID)),O.defines!==void 0)for(const U in O.defines)F.push(U),F.push(O.defines[U]);return O.isRawShaderMaterial===!1&&(S(F,O),C(F,O),F.push(n.outputEncoding)),F.push(O.customProgramCacheKey),F.join()}function S(O,F){O.push(F.precision),O.push(F.outputEncoding),O.push(F.envMapMode),O.push(F.envMapCubeUVHeight),O.push(F.combine),O.push(F.vertexUvs),O.push(F.fogExp2),O.push(F.sizeAttenuation),O.push(F.maxBones),O.push(F.morphTargetsCount),O.push(F.morphAttributeCount),O.push(F.numDirLights),O.push(F.numPointLights),O.push(F.numSpotLights),O.push(F.numHemiLights),O.push(F.numRectAreaLights),O.push(F.numDirLightShadows),O.push(F.numPointLightShadows),O.push(F.numSpotLightShadows),O.push(F.shadowMapType),O.push(F.toneMapping),O.push(F.numClippingPlanes),O.push(F.numClipIntersection)}function C(O,F){s.disableAll(),F.isWebGL2&&s.enable(0),F.supportsVertexTextures&&s.enable(1),F.instancing&&s.enable(2),F.instancingColor&&s.enable(3),F.map&&s.enable(4),F.matcap&&s.enable(5),F.envMap&&s.enable(6),F.lightMap&&s.enable(7),F.aoMap&&s.enable(8),F.emissiveMap&&s.enable(9),F.bumpMap&&s.enable(10),F.normalMap&&s.enable(11),F.objectSpaceNormalMap&&s.enable(12),F.tangentSpaceNormalMap&&s.enable(13),F.clearcoat&&s.enable(14),F.clearcoatMap&&s.enable(15),F.clearcoatRoughnessMap&&s.enable(16),F.clearcoatNormalMap&&s.enable(17),F.displacementMap&&s.enable(18),F.specularMap&&s.enable(19),F.roughnessMap&&s.enable(20),F.metalnessMap&&s.enable(21),F.gradientMap&&s.enable(22),F.alphaMap&&s.enable(23),F.alphaTest&&s.enable(24),F.vertexColors&&s.enable(25),F.vertexAlphas&&s.enable(26),F.vertexUvs&&s.enable(27),F.vertexTangents&&s.enable(28),F.uvsVertexOnly&&s.enable(29),F.fog&&s.enable(30),O.push(s.mask),s.disableAll(),F.useFog&&s.enable(0),F.flatShading&&s.enable(1),F.logarithmicDepthBuffer&&s.enable(2),F.skinning&&s.enable(3),F.useVertexTexture&&s.enable(4),F.morphTargets&&s.enable(5),F.morphNormals&&s.enable(6),F.morphColors&&s.enable(7),F.premultipliedAlpha&&s.enable(8),F.shadowMapEnabled&&s.enable(9),F.physicallyCorrectLights&&s.enable(10),F.doubleSided&&s.enable(11),F.flipSided&&s.enable(12),F.depthPacking&&s.enable(13),F.dithering&&s.enable(14),F.specularIntensityMap&&s.enable(15),F.specularColorMap&&s.enable(16),F.transmission&&s.enable(17),F.transmissionMap&&s.enable(18),F.thicknessMap&&s.enable(19),F.sheen&&s.enable(20),F.sheenColorMap&&s.enable(21),F.sheenRoughnessMap&&s.enable(22),F.decodeVideoTexture&&s.enable(23),F.opaque&&s.enable(24),O.push(s.mask)}function E(O){const F=y[O.type];let U;if(F){const k=ca[F];U=Gme.clone(k.uniforms)}else U=O.uniforms;return U}function T(O,F){let U;for(let k=0,H=u.length;k<H;k++){const $=u[k];if($.cacheKey===F){U=$,++U.usedTimes;break}}return U===void 0&&(U=new $0e(n,F,O,o),u.push(U)),U}function P(O){if(--O.usedTimes===0){const F=u.indexOf(O);u[F]=u[u.length-1],u.pop(),O.destroy()}}function L(O){l.remove(O)}function I(){l.dispose()}return{getParameters:_,getProgramCacheKey:b,getUniforms:E,acquireProgram:T,releaseProgram:P,releaseShaderCache:L,programs:u,dispose:I}}function q0e(){let n=new WeakMap;function e(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function t(o){n.delete(o)}function r(o,a,s){n.get(o)[a]=s}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Z0e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function DD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function kD(){const n=[];let e=0;const t=[],r=[],i=[];function o(){e=0,t.length=0,r.length=0,i.length=0}function a(d,h,m,g,v,y){let x=n[e];return x===void 0?(x={id:d.id,object:d,geometry:h,material:m,groupOrder:g,renderOrder:d.renderOrder,z:v,group:y},n[e]=x):(x.id=d.id,x.object=d,x.geometry=h,x.material=m,x.groupOrder=g,x.renderOrder=d.renderOrder,x.z=v,x.group=y),e++,x}function s(d,h,m,g,v,y){const x=a(d,h,m,g,v,y);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):t.push(x)}function l(d,h,m,g,v,y){const x=a(d,h,m,g,v,y);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):t.unshift(x)}function u(d,h){t.length>1&&t.sort(d||Z0e),r.length>1&&r.sort(h||DD),i.length>1&&i.sort(h||DD)}function c(){for(let d=e,h=n.length;d<h;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:c,sort:u}}function J0e(){let n=new WeakMap;function e(r,i){let o;return n.has(r)===!1?(o=new kD,n.set(r,[o])):i>=n.get(r).length?(o=new kD,n.get(r).push(o)):o=n.get(r)[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Q0e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new J,color:new pt};break;case"SpotLight":t={position:new J,direction:new J,color:new pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new J,color:new pt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new J,skyColor:new pt,groundColor:new pt};break;case"RectAreaLight":t={color:new pt,position:new J,halfWidth:new J,halfHeight:new J};break}return n[e.id]=t,t}}}function exe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let txe=0;function nxe(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function rxe(n,e){const t=new Q0e,r=exe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)i.probe.push(new J);const o=new J,a=new Mt,s=new Mt;function l(c,d){let h=0,m=0,g=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let v=0,y=0,x=0,_=0,b=0,S=0,C=0,E=0;c.sort(nxe);const T=d!==!0?Math.PI:1;for(let L=0,I=c.length;L<I;L++){const O=c[L],F=O.color,U=O.intensity,k=O.distance,H=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)h+=F.r*U*T,m+=F.g*U*T,g+=F.b*U*T;else if(O.isLightProbe)for(let $=0;$<9;$++)i.probe[$].addScaledVector(O.sh.coefficients[$],U);else if(O.isDirectionalLight){const $=t.get(O);if($.color.copy(O.color).multiplyScalar(O.intensity*T),O.castShadow){const V=O.shadow,N=r.get(O);N.shadowBias=V.bias,N.shadowNormalBias=V.normalBias,N.shadowRadius=V.radius,N.shadowMapSize=V.mapSize,i.directionalShadow[v]=N,i.directionalShadowMap[v]=H,i.directionalShadowMatrix[v]=O.shadow.matrix,S++}i.directional[v]=$,v++}else if(O.isSpotLight){const $=t.get(O);if($.position.setFromMatrixPosition(O.matrixWorld),$.color.copy(F).multiplyScalar(U*T),$.distance=k,$.coneCos=Math.cos(O.angle),$.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),$.decay=O.decay,O.castShadow){const V=O.shadow,N=r.get(O);N.shadowBias=V.bias,N.shadowNormalBias=V.normalBias,N.shadowRadius=V.radius,N.shadowMapSize=V.mapSize,i.spotShadow[x]=N,i.spotShadowMap[x]=H,i.spotShadowMatrix[x]=O.shadow.matrix,E++}i.spot[x]=$,x++}else if(O.isRectAreaLight){const $=t.get(O);$.color.copy(F).multiplyScalar(U),$.halfWidth.set(O.width*.5,0,0),$.halfHeight.set(0,O.height*.5,0),i.rectArea[_]=$,_++}else if(O.isPointLight){const $=t.get(O);if($.color.copy(O.color).multiplyScalar(O.intensity*T),$.distance=O.distance,$.decay=O.decay,O.castShadow){const V=O.shadow,N=r.get(O);N.shadowBias=V.bias,N.shadowNormalBias=V.normalBias,N.shadowRadius=V.radius,N.shadowMapSize=V.mapSize,N.shadowCameraNear=V.camera.near,N.shadowCameraFar=V.camera.far,i.pointShadow[y]=N,i.pointShadowMap[y]=H,i.pointShadowMatrix[y]=O.shadow.matrix,C++}i.point[y]=$,y++}else if(O.isHemisphereLight){const $=t.get(O);$.skyColor.copy(O.color).multiplyScalar(U*T),$.groundColor.copy(O.groundColor).multiplyScalar(U*T),i.hemi[b]=$,b++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=gt.LTC_FLOAT_1,i.rectAreaLTC2=gt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=gt.LTC_HALF_1,i.rectAreaLTC2=gt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=m,i.ambient[2]=g;const P=i.hash;(P.directionalLength!==v||P.pointLength!==y||P.spotLength!==x||P.rectAreaLength!==_||P.hemiLength!==b||P.numDirectionalShadows!==S||P.numPointShadows!==C||P.numSpotShadows!==E)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=_,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=C,i.spotShadowMatrix.length=E,P.directionalLength=v,P.pointLength=y,P.spotLength=x,P.rectAreaLength=_,P.hemiLength=b,P.numDirectionalShadows=S,P.numPointShadows=C,P.numSpotShadows=E,i.version=txe++)}function u(c,d){let h=0,m=0,g=0,v=0,y=0;const x=d.matrixWorldInverse;for(let _=0,b=c.length;_<b;_++){const S=c[_];if(S.isDirectionalLight){const C=i.directional[h];C.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(o),C.direction.transformDirection(x),h++}else if(S.isSpotLight){const C=i.spot[g];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(x),C.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(o),C.direction.transformDirection(x),g++}else if(S.isRectAreaLight){const C=i.rectArea[v];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(x),s.identity(),a.copy(S.matrixWorld),a.premultiply(x),s.extractRotation(a),C.halfWidth.set(S.width*.5,0,0),C.halfHeight.set(0,S.height*.5,0),C.halfWidth.applyMatrix4(s),C.halfHeight.applyMatrix4(s),v++}else if(S.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(x),m++}else if(S.isHemisphereLight){const C=i.hemi[y];C.direction.setFromMatrixPosition(S.matrixWorld),C.direction.transformDirection(x),C.direction.normalize(),y++}}}return{setup:l,setupView:u,state:i}}function FD(n,e){const t=new rxe(n,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(d){r.push(d)}function s(d){i.push(d)}function l(d){t.setup(r,d)}function u(d){t.setupView(r,d)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function ixe(n,e){let t=new WeakMap;function r(o,a=0){let s;return t.has(o)===!1?(s=new FD(n,e),t.set(o,[s])):a>=t.get(o).length?(s=new FD(n,e),t.get(o).push(s)):s=t.get(o)[a],s}function i(){t=new WeakMap}return{get:r,dispose:i}}class SO extends Zn{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=lme,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}SO.prototype.isMeshDepthMaterial=!0;class CO extends Zn{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new J,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}CO.prototype.isMeshDistanceMaterial=!0;const oxe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,axe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function BU(n,e,t){let r=new g_;const i=new $e,o=new $e,a=new vn,s=new SO({depthPacking:ume}),l=new CO,u={},c=t.maxTextureSize,d={0:ro,1:md,2:Ua},h=new Ho({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4}},vertexShader:oxe,fragmentShader:axe}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const g=new Vt;g.setAttribute("position",new jn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new ht(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vU,this.render=function(S,C,E){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||S.length===0)return;const T=n.getRenderTarget(),P=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Al),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let O=0,F=S.length;O<F;O++){const U=S[O],k=U.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;i.copy(k.mapSize);const H=k.getFrameExtents();if(i.multiply(H),o.copy(k.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/H.x),i.x=o.x*H.x,k.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/H.y),i.y=o.y*H.y,k.mapSize.y=o.y)),k.map===null&&!k.isPointLightShadow&&this.type===Qh&&(k.map=new io(i.x,i.y),k.map.texture.name=U.name+".shadowMap",k.mapPass=new io(i.x,i.y),k.camera.updateProjectionMatrix()),k.map===null){const V={minFilter:dr,magFilter:dr,format:to};k.map=new io(i.x,i.y,V),k.map.texture.name=U.name+".shadowMap",k.camera.updateProjectionMatrix()}n.setRenderTarget(k.map),n.clear();const $=k.getViewportCount();for(let V=0;V<$;V++){const N=k.getViewport(V);a.set(o.x*N.x,o.y*N.y,o.x*N.z,o.y*N.w),I.viewport(a),k.updateMatrices(U,V),r=k.getFrustum(),b(C,E,k.camera,U,this.type)}!k.isPointLightShadow&&this.type===Qh&&x(k,E),k.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(T,P,L)};function x(S,C){const E=e.update(v);h.defines.VSM_SAMPLES!==S.blurSamples&&(h.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),h.uniforms.shadow_pass.value=S.map.texture,h.uniforms.resolution.value=S.mapSize,h.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(C,null,E,h,v,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(C,null,E,m,v,null)}function _(S,C,E,T,P,L){let I=null;const O=E.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(O!==void 0?I=O:I=E.isPointLight===!0?l:s,n.localClippingEnabled&&C.clipShadows===!0&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0){const F=I.uuid,U=C.uuid;let k=u[F];k===void 0&&(k={},u[F]=k);let H=k[U];H===void 0&&(H=I.clone(),k[U]=H),I=H}return I.visible=C.visible,I.wireframe=C.wireframe,L===Qh?I.side=C.shadowSide!==null?C.shadowSide:C.side:I.side=C.shadowSide!==null?C.shadowSide:d[C.side],I.alphaMap=C.alphaMap,I.alphaTest=C.alphaTest,I.clipShadows=C.clipShadows,I.clippingPlanes=C.clippingPlanes,I.clipIntersection=C.clipIntersection,I.displacementMap=C.displacementMap,I.displacementScale=C.displacementScale,I.displacementBias=C.displacementBias,I.wireframeLinewidth=C.wireframeLinewidth,I.linewidth=C.linewidth,E.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(E.matrixWorld),I.nearDistance=T,I.farDistance=P),I}function b(S,C,E,T,P){if(S.visible===!1)return;if(S.layers.test(C.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&P===Qh)&&(!S.frustumCulled||r.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,S.matrixWorld);const O=e.update(S),F=S.material;if(Array.isArray(F)){const U=O.groups;for(let k=0,H=U.length;k<H;k++){const $=U[k],V=F[$.materialIndex];if(V&&V.visible){const N=_(S,V,T,E.near,E.far,P);n.renderBufferDirect(E,null,O,N,S,$)}}}else if(F.visible){const U=_(S,F,T,E.near,E.far,P);n.renderBufferDirect(E,null,O,U,S,null)}}const I=S.children;for(let O=0,F=I.length;O<F;O++)b(I[O],C,E,T,P)}}function sxe(n,e,t){const r=t.isWebGL2;function i(){let Z=!1;const ve=new vn;let Ae=null;const qe=new vn(0,0,0,0);return{setMask:function(ze){Ae!==ze&&!Z&&(n.colorMask(ze,ze,ze,ze),Ae=ze)},setLocked:function(ze){Z=ze},setClear:function(ze,Ve,Ze,Fe,Ct){Ct===!0&&(ze*=Fe,Ve*=Fe,Ze*=Fe),ve.set(ze,Ve,Ze,Fe),qe.equals(ve)===!1&&(n.clearColor(ze,Ve,Ze,Fe),qe.copy(ve))},reset:function(){Z=!1,Ae=null,qe.set(-1,0,0,0)}}}function o(){let Z=!1,ve=null,Ae=null,qe=null;return{setTest:function(ze){ze?xe(2929):oe(2929)},setMask:function(ze){ve!==ze&&!Z&&(n.depthMask(ze),ve=ze)},setFunc:function(ze){if(Ae!==ze){if(ze)switch(ze){case Ppe:n.depthFunc(512);break;case Ape:n.depthFunc(519);break;case Rpe:n.depthFunc(513);break;case qC:n.depthFunc(515);break;case Ipe:n.depthFunc(514);break;case Npe:n.depthFunc(518);break;case Lpe:n.depthFunc(516);break;case Dpe:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Ae=ze}},setLocked:function(ze){Z=ze},setClear:function(ze){qe!==ze&&(n.clearDepth(ze),qe=ze)},reset:function(){Z=!1,ve=null,Ae=null,qe=null}}}function a(){let Z=!1,ve=null,Ae=null,qe=null,ze=null,Ve=null,Ze=null,Fe=null,Ct=null;return{setTest:function(xt){Z||(xt?xe(2960):oe(2960))},setMask:function(xt){ve!==xt&&!Z&&(n.stencilMask(xt),ve=xt)},setFunc:function(xt,zt,an){(Ae!==xt||qe!==zt||ze!==an)&&(n.stencilFunc(xt,zt,an),Ae=xt,qe=zt,ze=an)},setOp:function(xt,zt,an){(Ve!==xt||Ze!==zt||Fe!==an)&&(n.stencilOp(xt,zt,an),Ve=xt,Ze=zt,Fe=an)},setLocked:function(xt){Z=xt},setClear:function(xt){Ct!==xt&&(n.clearStencil(xt),Ct=xt)},reset:function(){Z=!1,ve=null,Ae=null,qe=null,ze=null,Ve=null,Ze=null,Fe=null,Ct=null}}}const s=new i,l=new o,u=new a;let c={},d={},h=new WeakMap,m=[],g=null,v=!1,y=null,x=null,_=null,b=null,S=null,C=null,E=null,T=!1,P=null,L=null,I=null,O=null,F=null;const U=n.getParameter(35661);let k=!1,H=0;const $=n.getParameter(7938);$.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec($)[1]),k=H>=1):$.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),k=H>=2);let V=null,N={};const W=n.getParameter(3088),ee=n.getParameter(2978),j=new vn().fromArray(W),G=new vn().fromArray(ee);function ne(Z,ve,Ae){const qe=new Uint8Array(4),ze=n.createTexture();n.bindTexture(Z,ze),n.texParameteri(Z,10241,9728),n.texParameteri(Z,10240,9728);for(let Ve=0;Ve<Ae;Ve++)n.texImage2D(ve+Ve,0,6408,1,1,0,6408,5121,qe);return ze}const ye={};ye[3553]=ne(3553,3553,1),ye[34067]=ne(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),xe(2929),l.setFunc(qC),we(!1),De(R3),xe(2884),le(Al);function xe(Z){c[Z]!==!0&&(n.enable(Z),c[Z]=!0)}function oe(Z){c[Z]!==!1&&(n.disable(Z),c[Z]=!1)}function de(Z,ve){return d[Z]!==ve?(n.bindFramebuffer(Z,ve),d[Z]=ve,r&&(Z===36009&&(d[36160]=ve),Z===36160&&(d[36009]=ve)),!0):!1}function be(Z,ve){let Ae=m,qe=!1;if(Z)if(Ae=h.get(ve),Ae===void 0&&(Ae=[],h.set(ve,Ae)),Z.isWebGLMultipleRenderTargets){const ze=Z.texture;if(Ae.length!==ze.length||Ae[0]!==36064){for(let Ve=0,Ze=ze.length;Ve<Ze;Ve++)Ae[Ve]=36064+Ve;Ae.length=ze.length,qe=!0}}else Ae[0]!==36064&&(Ae[0]=36064,qe=!0);else Ae[0]!==1029&&(Ae[0]=1029,qe=!0);qe&&(t.isWebGL2?n.drawBuffers(Ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ae))}function ke(Z){return g!==Z?(n.useProgram(Z),g=Z,!0):!1}const he={[uf]:32774,[ype]:32778,[xpe]:32779};if(r)he[L3]=32775,he[D3]=32776;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(he[L3]=Z.MIN_EXT,he[D3]=Z.MAX_EXT)}const Le={[_pe]:0,[bpe]:1,[wpe]:768,[xU]:770,[Ope]:776,[Epe]:774,[Cpe]:772,[Spe]:769,[_U]:771,[Tpe]:775,[Mpe]:773};function le(Z,ve,Ae,qe,ze,Ve,Ze,Fe){if(Z===Al){v===!0&&(oe(3042),v=!1);return}if(v===!1&&(xe(3042),v=!0),Z!==vpe){if(Z!==y||Fe!==T){if((x!==uf||S!==uf)&&(n.blendEquation(32774),x=uf,S=uf),Fe)switch(Z){case Kf:n.blendFuncSeparate(1,771,1,771);break;case YC:n.blendFunc(1,1);break;case I3:n.blendFuncSeparate(0,769,0,1);break;case N3:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case Kf:n.blendFuncSeparate(770,771,1,771);break;case YC:n.blendFunc(770,1);break;case I3:n.blendFuncSeparate(0,769,0,1);break;case N3:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}_=null,b=null,C=null,E=null,y=Z,T=Fe}return}ze=ze||ve,Ve=Ve||Ae,Ze=Ze||qe,(ve!==x||ze!==S)&&(n.blendEquationSeparate(he[ve],he[ze]),x=ve,S=ze),(Ae!==_||qe!==b||Ve!==C||Ze!==E)&&(n.blendFuncSeparate(Le[Ae],Le[qe],Le[Ve],Le[Ze]),_=Ae,b=qe,C=Ve,E=Ze),y=Z,T=null}function ce(Z,ve){Z.side===Ua?oe(2884):xe(2884);let Ae=Z.side===ro;ve&&(Ae=!Ae),we(Ae),Z.blending===Kf&&Z.transparent===!1?le(Al):le(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),s.setMask(Z.colorWrite);const qe=Z.stencilWrite;u.setTest(qe),qe&&(u.setMask(Z.stencilWriteMask),u.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),u.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),Oe(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?xe(32926):oe(32926)}function we(Z){P!==Z&&(Z?n.frontFace(2304):n.frontFace(2305),P=Z)}function De(Z){Z!==ppe?(xe(2884),Z!==L&&(Z===R3?n.cullFace(1029):Z===mpe?n.cullFace(1028):n.cullFace(1032))):oe(2884),L=Z}function pe(Z){Z!==I&&(k&&n.lineWidth(Z),I=Z)}function Oe(Z,ve,Ae){Z?(xe(32823),(O!==ve||F!==Ae)&&(n.polygonOffset(ve,Ae),O=ve,F=Ae)):oe(32823)}function Te(Z){Z?xe(3089):oe(3089)}function je(Z){Z===void 0&&(Z=33984+U-1),V!==Z&&(n.activeTexture(Z),V=Z)}function it(Z,ve){V===null&&je();let Ae=N[V];Ae===void 0&&(Ae={type:void 0,texture:void 0},N[V]=Ae),(Ae.type!==Z||Ae.texture!==ve)&&(n.bindTexture(Z,ve||ye[Z]),Ae.type=Z,Ae.texture=ve)}function nt(){const Z=N[V];Z!==void 0&&Z.type!==void 0&&(n.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function q(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function z(){try{n.texSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function re(){try{n.texSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function _e(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ue(){try{n.texStorage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Me(){try{n.texStorage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ue(){try{n.texImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function K(){try{n.texImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ne(Z){j.equals(Z)===!1&&(n.scissor(Z.x,Z.y,Z.z,Z.w),j.copy(Z))}function at(Z){G.equals(Z)===!1&&(n.viewport(Z.x,Z.y,Z.z,Z.w),G.copy(Z))}function Ke(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},V=null,N={},d={},h=new WeakMap,m=[],g=null,v=!1,y=null,x=null,_=null,b=null,S=null,C=null,E=null,T=!1,P=null,L=null,I=null,O=null,F=null,j.set(0,0,n.canvas.width,n.canvas.height),G.set(0,0,n.canvas.width,n.canvas.height),s.reset(),l.reset(),u.reset()}return{buffers:{color:s,depth:l,stencil:u},enable:xe,disable:oe,bindFramebuffer:de,drawBuffers:be,useProgram:ke,setBlending:le,setMaterial:ce,setFlipSided:we,setCullFace:De,setLineWidth:pe,setPolygonOffset:Oe,setScissorTest:Te,activeTexture:je,bindTexture:it,unbindTexture:nt,compressedTexImage2D:q,texImage2D:Ue,texImage3D:K,texStorage2D:ue,texStorage3D:Me,texSubImage2D:z,texSubImage3D:re,compressedTexSubImage2D:_e,scissor:Ne,viewport:at,reset:Ke}}function lxe(n,e,t,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,d=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(q,z){return x?new OffscreenCanvas(q,z):dm("canvas")}function b(q,z,re,_e){let ue=1;if((q.width>_e||q.height>_e)&&(ue=_e/Math.max(q.width,q.height)),ue<1||z===!0)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap){const Me=z?S0:Math.floor,Ue=Me(ue*q.width),K=Me(ue*q.height);v===void 0&&(v=_(Ue,K));const Ne=re?_(Ue,K):v;return Ne.width=Ue,Ne.height=K,Ne.getContext("2d").drawImage(q,0,0,Ue,K),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+Ue+"x"+K+")."),Ne}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+")."),q;return q}function S(q){return JC(q.width)&&JC(q.height)}function C(q){return s?!1:q.wrapS!==pi||q.wrapT!==pi||q.minFilter!==dr&&q.minFilter!==Sn}function E(q,z){return q.generateMipmaps&&z&&q.minFilter!==dr&&q.minFilter!==Sn}function T(q){n.generateMipmap(q)}function P(q,z,re,_e,ue=!1){if(s===!1)return z;if(q!==null){if(n[q]!==void 0)return n[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let Me=z;return z===6403&&(re===5126&&(Me=33326),re===5131&&(Me=33325),re===5121&&(Me=33321)),z===33319&&(re===5126&&(Me=33328),re===5131&&(Me=33327),re===5121&&(Me=33323)),z===6408&&(re===5126&&(Me=34836),re===5131&&(Me=34842),re===5121&&(Me=_e===sn&&ue===!1?35907:32856),re===32819&&(Me=32854),re===32820&&(Me=32855)),(Me===33325||Me===33326||Me===33327||Me===33328||Me===34842||Me===34836)&&e.get("EXT_color_buffer_float"),Me}function L(q,z,re){return E(q,re)===!0||q.isFramebufferTexture&&q.minFilter!==dr&&q.minFilter!==Sn?Math.log2(Math.max(z.width,z.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?z.mipmaps.length:1}function I(q){return q===dr||q===x0||q===_0?9728:9729}function O(q){const z=q.target;z.removeEventListener("dispose",O),U(z),z.isVideoTexture&&g.delete(z)}function F(q){const z=q.target;z.removeEventListener("dispose",F),H(z)}function U(q){const z=r.get(q);if(z.__webglInit===void 0)return;const re=q.source,_e=y.get(re);if(_e){const ue=_e[z.__cacheKey];ue.usedTimes--,ue.usedTimes===0&&k(q),Object.keys(_e).length===0&&y.delete(re)}r.remove(q)}function k(q){const z=r.get(q);n.deleteTexture(z.__webglTexture);const re=q.source,_e=y.get(re);delete _e[z.__cacheKey],a.memory.textures--}function H(q){const z=q.texture,re=r.get(q),_e=r.get(z);if(_e.__webglTexture!==void 0&&(n.deleteTexture(_e.__webglTexture),a.memory.textures--),q.depthTexture&&q.depthTexture.dispose(),q.isWebGLCubeRenderTarget)for(let ue=0;ue<6;ue++)n.deleteFramebuffer(re.__webglFramebuffer[ue]),re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer[ue]);else n.deleteFramebuffer(re.__webglFramebuffer),re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer),re.__webglMultisampledFramebuffer&&n.deleteFramebuffer(re.__webglMultisampledFramebuffer),re.__webglColorRenderbuffer&&n.deleteRenderbuffer(re.__webglColorRenderbuffer),re.__webglDepthRenderbuffer&&n.deleteRenderbuffer(re.__webglDepthRenderbuffer);if(q.isWebGLMultipleRenderTargets)for(let ue=0,Me=z.length;ue<Me;ue++){const Ue=r.get(z[ue]);Ue.__webglTexture&&(n.deleteTexture(Ue.__webglTexture),a.memory.textures--),r.remove(z[ue])}r.remove(z),r.remove(q)}let $=0;function V(){$=0}function N(){const q=$;return q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+l),$+=1,q}function W(q){const z=[];return z.push(q.wrapS),z.push(q.wrapT),z.push(q.magFilter),z.push(q.minFilter),z.push(q.anisotropy),z.push(q.internalFormat),z.push(q.format),z.push(q.type),z.push(q.generateMipmaps),z.push(q.premultiplyAlpha),z.push(q.flipY),z.push(q.unpackAlignment),z.push(q.encoding),z.join()}function ee(q,z){const re=r.get(q);if(q.isVideoTexture&&it(q),q.isRenderTargetTexture===!1&&q.version>0&&re.__version!==q.version){const _e=q.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{be(re,q,z);return}}t.activeTexture(33984+z),t.bindTexture(3553,re.__webglTexture)}function j(q,z){const re=r.get(q);if(q.version>0&&re.__version!==q.version){be(re,q,z);return}t.activeTexture(33984+z),t.bindTexture(35866,re.__webglTexture)}function G(q,z){const re=r.get(q);if(q.version>0&&re.__version!==q.version){be(re,q,z);return}t.activeTexture(33984+z),t.bindTexture(32879,re.__webglTexture)}function ne(q,z){const re=r.get(q);if(q.version>0&&re.__version!==q.version){ke(re,q,z);return}t.activeTexture(33984+z),t.bindTexture(34067,re.__webglTexture)}const ye={[ic]:10497,[pi]:33071,[sm]:33648},xe={[dr]:9728,[x0]:9984,[_0]:9986,[Sn]:9729,[mO]:9985,[Yl]:9987};function oe(q,z,re){if(re?(n.texParameteri(q,10242,ye[z.wrapS]),n.texParameteri(q,10243,ye[z.wrapT]),(q===32879||q===35866)&&n.texParameteri(q,32882,ye[z.wrapR]),n.texParameteri(q,10240,xe[z.magFilter]),n.texParameteri(q,10241,xe[z.minFilter])):(n.texParameteri(q,10242,33071),n.texParameteri(q,10243,33071),(q===32879||q===35866)&&n.texParameteri(q,32882,33071),(z.wrapS!==pi||z.wrapT!==pi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(q,10240,I(z.magFilter)),n.texParameteri(q,10241,I(z.minFilter)),z.minFilter!==dr&&z.minFilter!==Sn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const _e=e.get("EXT_texture_filter_anisotropic");if(z.type===Ii&&e.has("OES_texture_float_linear")===!1||s===!1&&z.type===Ni&&e.has("OES_texture_half_float_linear")===!1)return;(z.anisotropy>1||r.get(z).__currentAnisotropy)&&(n.texParameterf(q,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,i.getMaxAnisotropy())),r.get(z).__currentAnisotropy=z.anisotropy)}}function de(q,z){let re=!1;q.__webglInit===void 0&&(q.__webglInit=!0,z.addEventListener("dispose",O));const _e=z.source;let ue=y.get(_e);ue===void 0&&(ue={},y.set(_e,ue));const Me=W(z);if(Me!==q.__cacheKey){ue[Me]===void 0&&(ue[Me]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,re=!0),ue[Me].usedTimes++;const Ue=ue[q.__cacheKey];Ue!==void 0&&(ue[q.__cacheKey].usedTimes--,Ue.usedTimes===0&&k(z)),q.__cacheKey=Me,q.__webglTexture=ue[Me].texture}return re}function be(q,z,re){let _e=3553;z.isDataArrayTexture&&(_e=35866),z.isData3DTexture&&(_e=32879);const ue=de(q,z),Me=z.source;if(t.activeTexture(33984+re),t.bindTexture(_e,q.__webglTexture),Me.version!==Me.__currentVersion||ue===!0){n.pixelStorei(37440,z.flipY),n.pixelStorei(37441,z.premultiplyAlpha),n.pixelStorei(3317,z.unpackAlignment),n.pixelStorei(37443,0);const Ue=C(z)&&S(z.image)===!1;let K=b(z.image,Ue,!1,c);K=nt(z,K);const Ne=S(K)||s,at=o.convert(z.format,z.encoding);let Ke=o.convert(z.type),Z=P(z.internalFormat,at,Ke,z.encoding,z.isVideoTexture);oe(_e,z,Ne);let ve;const Ae=z.mipmaps,qe=s&&z.isVideoTexture!==!0,ze=q.__version===void 0,Ve=L(z,K,Ne);if(z.isDepthTexture)Z=6402,s?z.type===Ii?Z=36012:z.type===py?Z=33190:z.type===Xf?Z=35056:Z=33189:z.type===Ii&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===Yu&&Z===6402&&z.type!==lm&&z.type!==py&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=lm,Ke=o.convert(z.type)),z.format===gd&&Z===6402&&(Z=34041,z.type!==Xf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=Xf,Ke=o.convert(z.type))),qe&&ze?t.texStorage2D(3553,1,Z,K.width,K.height):t.texImage2D(3553,0,Z,K.width,K.height,0,at,Ke,null);else if(z.isDataTexture)if(Ae.length>0&&Ne){qe&&ze&&t.texStorage2D(3553,Ve,Z,Ae[0].width,Ae[0].height);for(let Ze=0,Fe=Ae.length;Ze<Fe;Ze++)ve=Ae[Ze],qe?t.texSubImage2D(3553,Ze,0,0,ve.width,ve.height,at,Ke,ve.data):t.texImage2D(3553,Ze,Z,ve.width,ve.height,0,at,Ke,ve.data);z.generateMipmaps=!1}else qe?(ze&&t.texStorage2D(3553,Ve,Z,K.width,K.height),t.texSubImage2D(3553,0,0,0,K.width,K.height,at,Ke,K.data)):t.texImage2D(3553,0,Z,K.width,K.height,0,at,Ke,K.data);else if(z.isCompressedTexture){qe&&ze&&t.texStorage2D(3553,Ve,Z,Ae[0].width,Ae[0].height);for(let Ze=0,Fe=Ae.length;Ze<Fe;Ze++)ve=Ae[Ze],z.format!==to?at!==null?qe?t.compressedTexSubImage2D(3553,Ze,0,0,ve.width,ve.height,at,ve.data):t.compressedTexImage2D(3553,Ze,Z,ve.width,ve.height,0,ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qe?t.texSubImage2D(3553,Ze,0,0,ve.width,ve.height,at,Ke,ve.data):t.texImage2D(3553,Ze,Z,ve.width,ve.height,0,at,Ke,ve.data)}else if(z.isDataArrayTexture)qe?(ze&&t.texStorage3D(35866,Ve,Z,K.width,K.height,K.depth),t.texSubImage3D(35866,0,0,0,0,K.width,K.height,K.depth,at,Ke,K.data)):t.texImage3D(35866,0,Z,K.width,K.height,K.depth,0,at,Ke,K.data);else if(z.isData3DTexture)qe?(ze&&t.texStorage3D(32879,Ve,Z,K.width,K.height,K.depth),t.texSubImage3D(32879,0,0,0,0,K.width,K.height,K.depth,at,Ke,K.data)):t.texImage3D(32879,0,Z,K.width,K.height,K.depth,0,at,Ke,K.data);else if(z.isFramebufferTexture)qe&&ze?t.texStorage2D(3553,Ve,Z,K.width,K.height):t.texImage2D(3553,0,Z,K.width,K.height,0,at,Ke,null);else if(Ae.length>0&&Ne){qe&&ze&&t.texStorage2D(3553,Ve,Z,Ae[0].width,Ae[0].height);for(let Ze=0,Fe=Ae.length;Ze<Fe;Ze++)ve=Ae[Ze],qe?t.texSubImage2D(3553,Ze,0,0,at,Ke,ve):t.texImage2D(3553,Ze,Z,at,Ke,ve);z.generateMipmaps=!1}else qe?(ze&&t.texStorage2D(3553,Ve,Z,K.width,K.height),t.texSubImage2D(3553,0,0,0,at,Ke,K)):t.texImage2D(3553,0,Z,at,Ke,K);E(z,Ne)&&T(_e),Me.__currentVersion=Me.version,z.onUpdate&&z.onUpdate(z)}q.__version=z.version}function ke(q,z,re){if(z.image.length!==6)return;const _e=de(q,z),ue=z.source;if(t.activeTexture(33984+re),t.bindTexture(34067,q.__webglTexture),ue.version!==ue.__currentVersion||_e===!0){n.pixelStorei(37440,z.flipY),n.pixelStorei(37441,z.premultiplyAlpha),n.pixelStorei(3317,z.unpackAlignment),n.pixelStorei(37443,0);const Me=z.isCompressedTexture||z.image[0].isCompressedTexture,Ue=z.image[0]&&z.image[0].isDataTexture,K=[];for(let Ze=0;Ze<6;Ze++)!Me&&!Ue?K[Ze]=b(z.image[Ze],!1,!0,u):K[Ze]=Ue?z.image[Ze].image:z.image[Ze],K[Ze]=nt(z,K[Ze]);const Ne=K[0],at=S(Ne)||s,Ke=o.convert(z.format,z.encoding),Z=o.convert(z.type),ve=P(z.internalFormat,Ke,Z,z.encoding),Ae=s&&z.isVideoTexture!==!0,qe=q.__version===void 0;let ze=L(z,Ne,at);oe(34067,z,at);let Ve;if(Me){Ae&&qe&&t.texStorage2D(34067,ze,ve,Ne.width,Ne.height);for(let Ze=0;Ze<6;Ze++){Ve=K[Ze].mipmaps;for(let Fe=0;Fe<Ve.length;Fe++){const Ct=Ve[Fe];z.format!==to?Ke!==null?Ae?t.compressedTexSubImage2D(34069+Ze,Fe,0,0,Ct.width,Ct.height,Ke,Ct.data):t.compressedTexImage2D(34069+Ze,Fe,ve,Ct.width,Ct.height,0,Ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ae?t.texSubImage2D(34069+Ze,Fe,0,0,Ct.width,Ct.height,Ke,Z,Ct.data):t.texImage2D(34069+Ze,Fe,ve,Ct.width,Ct.height,0,Ke,Z,Ct.data)}}}else{Ve=z.mipmaps,Ae&&qe&&(Ve.length>0&&ze++,t.texStorage2D(34067,ze,ve,K[0].width,K[0].height));for(let Ze=0;Ze<6;Ze++)if(Ue){Ae?t.texSubImage2D(34069+Ze,0,0,0,K[Ze].width,K[Ze].height,Ke,Z,K[Ze].data):t.texImage2D(34069+Ze,0,ve,K[Ze].width,K[Ze].height,0,Ke,Z,K[Ze].data);for(let Fe=0;Fe<Ve.length;Fe++){const xt=Ve[Fe].image[Ze].image;Ae?t.texSubImage2D(34069+Ze,Fe+1,0,0,xt.width,xt.height,Ke,Z,xt.data):t.texImage2D(34069+Ze,Fe+1,ve,xt.width,xt.height,0,Ke,Z,xt.data)}}else{Ae?t.texSubImage2D(34069+Ze,0,0,0,Ke,Z,K[Ze]):t.texImage2D(34069+Ze,0,ve,Ke,Z,K[Ze]);for(let Fe=0;Fe<Ve.length;Fe++){const Ct=Ve[Fe];Ae?t.texSubImage2D(34069+Ze,Fe+1,0,0,Ke,Z,Ct.image[Ze]):t.texImage2D(34069+Ze,Fe+1,ve,Ke,Z,Ct.image[Ze])}}}E(z,at)&&T(34067),ue.__currentVersion=ue.version,z.onUpdate&&z.onUpdate(z)}q.__version=z.version}function he(q,z,re,_e,ue){const Me=o.convert(re.format,re.encoding),Ue=o.convert(re.type),K=P(re.internalFormat,Me,Ue,re.encoding);r.get(z).__hasExternalTextures||(ue===32879||ue===35866?t.texImage3D(ue,0,K,z.width,z.height,z.depth,0,Me,Ue,null):t.texImage2D(ue,0,K,z.width,z.height,0,Me,Ue,null)),t.bindFramebuffer(36160,q),je(z)?h.framebufferTexture2DMultisampleEXT(36160,_e,ue,r.get(re).__webglTexture,0,Te(z)):n.framebufferTexture2D(36160,_e,ue,r.get(re).__webglTexture,0),t.bindFramebuffer(36160,null)}function Le(q,z,re){if(n.bindRenderbuffer(36161,q),z.depthBuffer&&!z.stencilBuffer){let _e=33189;if(re||je(z)){const ue=z.depthTexture;ue&&ue.isDepthTexture&&(ue.type===Ii?_e=36012:ue.type===py&&(_e=33190));const Me=Te(z);je(z)?h.renderbufferStorageMultisampleEXT(36161,Me,_e,z.width,z.height):n.renderbufferStorageMultisample(36161,Me,_e,z.width,z.height)}else n.renderbufferStorage(36161,_e,z.width,z.height);n.framebufferRenderbuffer(36160,36096,36161,q)}else if(z.depthBuffer&&z.stencilBuffer){const _e=Te(z);re&&je(z)===!1?n.renderbufferStorageMultisample(36161,_e,35056,z.width,z.height):je(z)?h.renderbufferStorageMultisampleEXT(36161,_e,35056,z.width,z.height):n.renderbufferStorage(36161,34041,z.width,z.height),n.framebufferRenderbuffer(36160,33306,36161,q)}else{const _e=z.isWebGLMultipleRenderTargets===!0?z.texture[0]:z.texture,ue=o.convert(_e.format,_e.encoding),Me=o.convert(_e.type),Ue=P(_e.internalFormat,ue,Me,_e.encoding),K=Te(z);re&&je(z)===!1?n.renderbufferStorageMultisample(36161,K,Ue,z.width,z.height):je(z)?h.renderbufferStorageMultisampleEXT(36161,K,Ue,z.width,z.height):n.renderbufferStorage(36161,Ue,z.width,z.height)}n.bindRenderbuffer(36161,null)}function le(q,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,q),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),ee(z.depthTexture,0);const _e=r.get(z.depthTexture).__webglTexture,ue=Te(z);if(z.depthTexture.format===Yu)je(z)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,_e,0,ue):n.framebufferTexture2D(36160,36096,3553,_e,0);else if(z.depthTexture.format===gd)je(z)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,_e,0,ue):n.framebufferTexture2D(36160,33306,3553,_e,0);else throw new Error("Unknown depthTexture format")}function ce(q){const z=r.get(q),re=q.isWebGLCubeRenderTarget===!0;if(q.depthTexture&&!z.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");le(z.__webglFramebuffer,q)}else if(re){z.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)t.bindFramebuffer(36160,z.__webglFramebuffer[_e]),z.__webglDepthbuffer[_e]=n.createRenderbuffer(),Le(z.__webglDepthbuffer[_e],q,!1)}else t.bindFramebuffer(36160,z.__webglFramebuffer),z.__webglDepthbuffer=n.createRenderbuffer(),Le(z.__webglDepthbuffer,q,!1);t.bindFramebuffer(36160,null)}function we(q,z,re){const _e=r.get(q);z!==void 0&&he(_e.__webglFramebuffer,q,q.texture,36064,3553),re!==void 0&&ce(q)}function De(q){const z=q.texture,re=r.get(q),_e=r.get(z);q.addEventListener("dispose",F),q.isWebGLMultipleRenderTargets!==!0&&(_e.__webglTexture===void 0&&(_e.__webglTexture=n.createTexture()),_e.__version=z.version,a.memory.textures++);const ue=q.isWebGLCubeRenderTarget===!0,Me=q.isWebGLMultipleRenderTargets===!0,Ue=S(q)||s;if(ue){re.__webglFramebuffer=[];for(let K=0;K<6;K++)re.__webglFramebuffer[K]=n.createFramebuffer()}else if(re.__webglFramebuffer=n.createFramebuffer(),Me)if(i.drawBuffers){const K=q.texture;for(let Ne=0,at=K.length;Ne<at;Ne++){const Ke=r.get(K[Ne]);Ke.__webglTexture===void 0&&(Ke.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(s&&q.samples>0&&je(q)===!1){re.__webglMultisampledFramebuffer=n.createFramebuffer(),re.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,re.__webglColorRenderbuffer);const K=o.convert(z.format,z.encoding),Ne=o.convert(z.type),at=P(z.internalFormat,K,Ne,z.encoding),Ke=Te(q);n.renderbufferStorageMultisample(36161,Ke,at,q.width,q.height),t.bindFramebuffer(36160,re.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,re.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),q.depthBuffer&&(re.__webglDepthRenderbuffer=n.createRenderbuffer(),Le(re.__webglDepthRenderbuffer,q,!0)),t.bindFramebuffer(36160,null)}if(ue){t.bindTexture(34067,_e.__webglTexture),oe(34067,z,Ue);for(let K=0;K<6;K++)he(re.__webglFramebuffer[K],q,z,36064,34069+K);E(z,Ue)&&T(34067),t.unbindTexture()}else if(Me){const K=q.texture;for(let Ne=0,at=K.length;Ne<at;Ne++){const Ke=K[Ne],Z=r.get(Ke);t.bindTexture(3553,Z.__webglTexture),oe(3553,Ke,Ue),he(re.__webglFramebuffer,q,Ke,36064+Ne,3553),E(Ke,Ue)&&T(3553)}t.unbindTexture()}else{let K=3553;(q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(s?K=q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(K,_e.__webglTexture),oe(K,z,Ue),he(re.__webglFramebuffer,q,z,36064,K),E(z,Ue)&&T(K),t.unbindTexture()}q.depthBuffer&&ce(q)}function pe(q){const z=S(q)||s,re=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let _e=0,ue=re.length;_e<ue;_e++){const Me=re[_e];if(E(Me,z)){const Ue=q.isWebGLCubeRenderTarget?34067:3553,K=r.get(Me).__webglTexture;t.bindTexture(Ue,K),T(Ue),t.unbindTexture()}}}function Oe(q){if(s&&q.samples>0&&je(q)===!1){const z=q.width,re=q.height;let _e=16384;const ue=[36064],Me=q.stencilBuffer?33306:36096;q.depthBuffer&&ue.push(Me);const Ue=r.get(q),K=Ue.__ignoreDepthValues!==void 0?Ue.__ignoreDepthValues:!1;K===!1&&(q.depthBuffer&&(_e|=256),q.stencilBuffer&&(_e|=1024)),t.bindFramebuffer(36008,Ue.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ue.__webglFramebuffer),K===!0&&(n.invalidateFramebuffer(36008,[Me]),n.invalidateFramebuffer(36009,[Me])),n.blitFramebuffer(0,0,z,re,0,0,z,re,_e,9728),m&&n.invalidateFramebuffer(36008,ue),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Ue.__webglMultisampledFramebuffer)}}function Te(q){return Math.min(d,q.samples)}function je(q){const z=r.get(q);return s&&q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function it(q){const z=a.render.frame;g.get(q)!==z&&(g.set(q,z),q.update())}function nt(q,z){const re=q.encoding,_e=q.format,ue=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||q.format===ZC||re!==ao&&(re===sn?s===!1?e.has("EXT_sRGB")===!0&&_e===to?(q.format=ZC,q.minFilter=Sn,q.generateMipmaps=!1):z=mc.sRGBToLinear(z):(_e!==to||ue!==oc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",re)),z}this.allocateTextureUnit=N,this.resetTextureUnits=V,this.setTexture2D=ee,this.setTexture2DArray=j,this.setTexture3D=G,this.setTextureCube=ne,this.rebindTextures=we,this.setupRenderTarget=De,this.updateRenderTargetMipmap=pe,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=ce,this.setupFrameBufferTexture=he,this.useMultisampledRTT=je}function uxe(n,e,t){const r=t.isWebGL2;function i(o,a=null){let s;if(o===oc)return 5121;if(o===jpe)return 32819;if(o===Kpe)return 32820;if(o===Gpe)return 5120;if(o===Wpe)return 5122;if(o===lm)return 5123;if(o===$pe)return 5124;if(o===py)return 5125;if(o===Ii)return 5126;if(o===Ni)return r?5131:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===Xpe)return 6406;if(o===to)return 6408;if(o===qpe)return 6409;if(o===Zpe)return 6410;if(o===Yu)return 6402;if(o===gd)return 34041;if(o===bU)return 6403;if(o===Ype)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(o===ZC)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===Jpe)return 36244;if(o===Qpe)return 33319;if(o===eme)return 33320;if(o===tme)return 36249;if(o===qw||o===Zw||o===Jw||o===Qw)if(a===sn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===qw)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Zw)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Jw)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===Qw)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===qw)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Zw)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Jw)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Qw)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===k3||o===F3||o===z3||o===B3)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===k3)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===F3)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===z3)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===B3)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===nme)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===U3||o===H3)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===U3)return a===sn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===H3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===V3||o===G3||o===W3||o===$3||o===j3||o===K3||o===X3||o===Y3||o===q3||o===Z3||o===J3||o===Q3||o===eD||o===tD)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===V3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===G3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===W3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===$3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===j3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===K3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===X3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Y3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===q3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===Z3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===J3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===Q3)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===eD)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===tD)return a===sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===nD)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===nD)return a===sn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===Xf)return r?34042:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class UU extends Vr{constructor(e=[]){super(),this.cameras=e}}UU.prototype.isArrayCamera=!0;class Oa extends Yt{constructor(){super(),this.type="Group"}}Oa.prototype.isGroup=!0;const cxe={type:"move"};class T1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Oa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Oa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Oa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(s!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(cxe))),u&&e.hand){a=!0;for(const v of e.hand.values()){const y=t.getJointPose(v,r);if(u.joints[v.jointName]===void 0){const _=new Oa;_.matrixAutoUpdate=!1,_.visible=!1,u.joints[v.jointName]=_,u.add(_)}const x=u.joints[v.jointName];y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],h=c.position.distanceTo(d.position),m=.02,g=.005;u.inputState.pinching&&h>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=a!==null),this}}class HU extends ur{constructor(e,t,r,i,o,a,s,l,u,c){if(c=c!==void 0?c:Yu,c!==Yu&&c!==gd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Yu&&(r=lm),r===void 0&&c===gd&&(r=Xf),super(null,i,o,a,s,l,c,r,u),this.image={width:e,height:t},this.magFilter=s!==void 0?s:dr,this.minFilter=l!==void 0?l:dr,this.flipY=!1,this.generateMipmaps=!1}}HU.prototype.isDepthTexture=!0;class fxe extends ql{constructor(e,t){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=null,u=null,c=null,d=null,h=null;const m=t.getContextAttributes();let g=null,v=null;const y=[],x=new Map,_=new Vr;_.layers.enable(1),_.viewport=new vn;const b=new Vr;b.layers.enable(2),b.viewport=new vn;const S=[_,b],C=new UU;C.layers.enable(1),C.layers.enable(2);let E=null,T=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(N){let W=y[N];return W===void 0&&(W=new T1,y[N]=W),W.getTargetRaySpace()},this.getControllerGrip=function(N){let W=y[N];return W===void 0&&(W=new T1,y[N]=W),W.getGripSpace()},this.getHand=function(N){let W=y[N];return W===void 0&&(W=new T1,y[N]=W),W.getHandSpace()};function P(N){const W=x.get(N.inputSource);W&&W.dispatchEvent({type:N.type,data:N.inputSource})}function L(){x.forEach(function(N,W){N.disconnect(W)}),x.clear(),E=null,T=null,e.setRenderTarget(g),d=null,c=null,u=null,i=null,v=null,V.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(N){o=N,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(N){s=N,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return c!==null?c:d},this.getBinding=function(){return u},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(N){if(i=N,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",P),i.addEventListener("selectstart",P),i.addEventListener("selectend",P),i.addEventListener("squeeze",P),i.addEventListener("squeezestart",P),i.addEventListener("squeezeend",P),i.addEventListener("end",L),i.addEventListener("inputsourceschange",I),m.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const W={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(i,t,W),i.updateRenderState({baseLayer:d}),v=new io(d.framebufferWidth,d.framebufferHeight,{format:to,type:oc,encoding:e.outputEncoding})}else{let W=null,ee=null,j=null;m.depth&&(j=m.stencil?35056:33190,W=m.stencil?gd:Yu,ee=m.stencil?Xf:lm);const G={colorFormat:e.outputEncoding===sn?35907:32856,depthFormat:j,scaleFactor:o};u=new XRWebGLBinding(i,t),c=u.createProjectionLayer(G),i.updateRenderState({layers:[c]}),v=new io(c.textureWidth,c.textureHeight,{format:to,type:oc,depthTexture:new HU(c.textureWidth,c.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});const ne=e.properties.get(v);ne.__ignoreDepthValues=c.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),a=await i.requestReferenceSpace(s),V.setContext(i),V.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function I(N){const W=i.inputSources;for(let ee=0;ee<y.length;ee++)x.set(W[ee],y[ee]);for(let ee=0;ee<N.removed.length;ee++){const j=N.removed[ee],G=x.get(j);G&&(G.dispatchEvent({type:"disconnected",data:j}),x.delete(j))}for(let ee=0;ee<N.added.length;ee++){const j=N.added[ee],G=x.get(j);G&&G.dispatchEvent({type:"connected",data:j})}}const O=new J,F=new J;function U(N,W,ee){O.setFromMatrixPosition(W.matrixWorld),F.setFromMatrixPosition(ee.matrixWorld);const j=O.distanceTo(F),G=W.projectionMatrix.elements,ne=ee.projectionMatrix.elements,ye=G[14]/(G[10]-1),xe=G[14]/(G[10]+1),oe=(G[9]+1)/G[5],de=(G[9]-1)/G[5],be=(G[8]-1)/G[0],ke=(ne[8]+1)/ne[0],he=ye*be,Le=ye*ke,le=j/(-be+ke),ce=le*-be;W.matrixWorld.decompose(N.position,N.quaternion,N.scale),N.translateX(ce),N.translateZ(le),N.matrixWorld.compose(N.position,N.quaternion,N.scale),N.matrixWorldInverse.copy(N.matrixWorld).invert();const we=ye+le,De=xe+le,pe=he-ce,Oe=Le+(j-ce),Te=oe*xe/De*we,je=de*xe/De*we;N.projectionMatrix.makePerspective(pe,Oe,Te,je,we,De)}function k(N,W){W===null?N.matrixWorld.copy(N.matrix):N.matrixWorld.multiplyMatrices(W.matrixWorld,N.matrix),N.matrixWorldInverse.copy(N.matrixWorld).invert()}this.updateCamera=function(N){if(i===null)return;C.near=b.near=_.near=N.near,C.far=b.far=_.far=N.far,(E!==C.near||T!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),E=C.near,T=C.far);const W=N.parent,ee=C.cameras;k(C,W);for(let G=0;G<ee.length;G++)k(ee[G],W);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),N.position.copy(C.position),N.quaternion.copy(C.quaternion),N.scale.copy(C.scale),N.matrix.copy(C.matrix),N.matrixWorld.copy(C.matrixWorld);const j=N.children;for(let G=0,ne=j.length;G<ne;G++)j[G].updateMatrixWorld(!0);ee.length===2?U(C,_,b):C.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(c!==null)return c.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(N){c!==null&&(c.fixedFoveation=N),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=N)};let H=null;function $(N,W){if(l=W.getViewerPose(a),h=W,l!==null){const j=l.views;d!==null&&(e.setRenderTargetFramebuffer(v,d.framebuffer),e.setRenderTarget(v));let G=!1;j.length!==C.cameras.length&&(C.cameras.length=0,G=!0);for(let ne=0;ne<j.length;ne++){const ye=j[ne];let xe=null;if(d!==null)xe=d.getViewport(ye);else{const de=u.getViewSubImage(c,ye);xe=de.viewport,ne===0&&(e.setRenderTargetTextures(v,de.colorTexture,c.ignoreDepthValues?void 0:de.depthStencilTexture),e.setRenderTarget(v))}const oe=S[ne];oe.matrix.fromArray(ye.transform.matrix),oe.projectionMatrix.fromArray(ye.projectionMatrix),oe.viewport.set(xe.x,xe.y,xe.width,xe.height),ne===0&&C.matrix.copy(oe.matrix),G===!0&&C.cameras.push(oe)}}const ee=i.inputSources;for(let j=0;j<y.length;j++){const G=y[j],ne=ee[j];G.update(ne,W,a)}H&&H(N,W),h=null}const V=new RU;V.setAnimationLoop($),this.setAnimationLoop=function(N){H=N},this.dispose=function(){}}}function dxe(n,e){function t(v,y){v.fogColor.value.copy(y.color),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,x,_,b){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),c(v,y)):y.isMeshPhongMaterial?(i(v,y),u(v,y)):y.isMeshStandardMaterial?(i(v,y),d(v,y),y.isMeshPhysicalMaterial&&h(v,y,b)):y.isMeshMatcapMaterial?(i(v,y),m(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(o(v,y),y.isLineDashedMaterial&&a(v,y)):y.isPointsMaterial?s(v,y,x,_):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===ro&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===ro&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const S=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*S}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let _;y.map?_=y.map:y.specularMap?_=y.specularMap:y.displacementMap?_=y.displacementMap:y.normalMap?_=y.normalMap:y.bumpMap?_=y.bumpMap:y.roughnessMap?_=y.roughnessMap:y.metalnessMap?_=y.metalnessMap:y.alphaMap?_=y.alphaMap:y.emissiveMap?_=y.emissiveMap:y.clearcoatMap?_=y.clearcoatMap:y.clearcoatNormalMap?_=y.clearcoatNormalMap:y.clearcoatRoughnessMap?_=y.clearcoatRoughnessMap:y.specularIntensityMap?_=y.specularIntensityMap:y.specularColorMap?_=y.specularColorMap:y.transmissionMap?_=y.transmissionMap:y.thicknessMap?_=y.thicknessMap:y.sheenColorMap?_=y.sheenColorMap:y.sheenRoughnessMap&&(_=y.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let b;y.aoMap?b=y.aoMap:y.lightMap&&(b=y.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uv2Transform.value.copy(b.matrix))}function o(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function a(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function s(v,y,x,_){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*x,v.scale.value=_*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let b;y.map?b=y.map:y.alphaMap&&(b=y.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uvTransform.value.copy(b.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function u(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function c(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function d(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function h(v,y,x){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===ro&&v.clearcoatNormalScale.value.negate())),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function hxe(){const n=dm("canvas");return n.style.display="block",n}function bn(n={}){const e=n.canvas!==void 0?n.canvas:hxe(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,o=n.antialias!==void 0?n.antialias:!1,a=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,s=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let c;n.context!==void 0?c=t.getContextAttributes().alpha:c=n.alpha!==void 0?n.alpha:!1;let d=null,h=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ao,this.physicallyCorrectLights=!1,this.toneMapping=Os,this.toneMappingExposure=1;const v=this;let y=!1,x=0,_=0,b=null,S=-1,C=null;const E=new vn,T=new vn;let P=null,L=e.width,I=e.height,O=1,F=null,U=null;const k=new vn(0,0,L,I),H=new vn(0,0,L,I);let $=!1;const V=new g_;let N=!1,W=!1,ee=null;const j=new Mt,G=new $e,ne=new J,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return b===null?O:1}let oe=t;function de(ie,Ie){for(let Ge=0;Ge<ie.length;Ge++){const ae=ie[Ge],me=e.getContext(ae,Ie);if(me!==null)return me}return null}try{const ie={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${hO}`),e.addEventListener("webglcontextlost",Z,!1),e.addEventListener("webglcontextrestored",ve,!1),oe===null){const Ie=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Ie.shift(),oe=de(Ie,ie),oe===null)throw de(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}oe.getShaderPrecisionFormat===void 0&&(oe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ie){throw console.error("THREE.WebGLRenderer: "+ie.message),ie}let be,ke,he,Le,le,ce,we,De,pe,Oe,Te,je,it,nt,q,z,re,_e,ue,Me,Ue,K,Ne;function at(){be=new Rye(oe),ke=new Mye(oe,be,n),be.init(ke),K=new uxe(oe,be,ke),he=new sxe(oe,be,ke),Le=new Lye(oe),le=new q0e,ce=new lxe(oe,be,he,le,ke,K,Le),we=new Tye(v),De=new Aye(v),pe=new Xme(oe,ke),Ne=new Sye(oe,be,pe,ke),Oe=new Iye(oe,pe,Le,Ne),Te=new zye(oe,Oe,pe,Le),ue=new Fye(oe,ke,ce),z=new Eye(le),je=new Y0e(v,we,De,be,ke,Ne,z),it=new dxe(v,le),nt=new J0e,q=new ixe(be,ke),_e=new wye(v,we,he,Te,c,a),re=new BU(v,Te,ke),Me=new Cye(oe,be,Le,ke),Ue=new Nye(oe,be,Le,ke),Le.programs=je.programs,v.capabilities=ke,v.extensions=be,v.properties=le,v.renderLists=nt,v.shadowMap=re,v.state=he,v.info=Le}at();const Ke=new fxe(v,oe);this.xr=Ke,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const ie=be.get("WEBGL_lose_context");ie&&ie.loseContext()},this.forceContextRestore=function(){const ie=be.get("WEBGL_lose_context");ie&&ie.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(ie){ie!==void 0&&(O=ie,this.setSize(L,I,!1))},this.getSize=function(ie){return ie.set(L,I)},this.setSize=function(ie,Ie,Ge){if(Ke.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}L=ie,I=Ie,e.width=Math.floor(ie*O),e.height=Math.floor(Ie*O),Ge!==!1&&(e.style.width=ie+"px",e.style.height=Ie+"px"),this.setViewport(0,0,ie,Ie)},this.getDrawingBufferSize=function(ie){return ie.set(L*O,I*O).floor()},this.setDrawingBufferSize=function(ie,Ie,Ge){L=ie,I=Ie,O=Ge,e.width=Math.floor(ie*Ge),e.height=Math.floor(Ie*Ge),this.setViewport(0,0,ie,Ie)},this.getCurrentViewport=function(ie){return ie.copy(E)},this.getViewport=function(ie){return ie.copy(k)},this.setViewport=function(ie,Ie,Ge,ae){ie.isVector4?k.set(ie.x,ie.y,ie.z,ie.w):k.set(ie,Ie,Ge,ae),he.viewport(E.copy(k).multiplyScalar(O).floor())},this.getScissor=function(ie){return ie.copy(H)},this.setScissor=function(ie,Ie,Ge,ae){ie.isVector4?H.set(ie.x,ie.y,ie.z,ie.w):H.set(ie,Ie,Ge,ae),he.scissor(T.copy(H).multiplyScalar(O).floor())},this.getScissorTest=function(){return $},this.setScissorTest=function(ie){he.setScissorTest($=ie)},this.setOpaqueSort=function(ie){F=ie},this.setTransparentSort=function(ie){U=ie},this.getClearColor=function(ie){return ie.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor.apply(_e,arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha.apply(_e,arguments)},this.clear=function(ie=!0,Ie=!0,Ge=!0){let ae=0;ie&&(ae|=16384),Ie&&(ae|=256),Ge&&(ae|=1024),oe.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Z,!1),e.removeEventListener("webglcontextrestored",ve,!1),nt.dispose(),q.dispose(),le.dispose(),we.dispose(),De.dispose(),Te.dispose(),Ne.dispose(),je.dispose(),Ke.dispose(),Ke.removeEventListener("sessionstart",Fe),Ke.removeEventListener("sessionend",Ct),ee&&(ee.dispose(),ee=null),xt.stop()};function Z(ie){ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const ie=Le.autoReset,Ie=re.enabled,Ge=re.autoUpdate,ae=re.needsUpdate,me=re.type;at(),Le.autoReset=ie,re.enabled=Ie,re.autoUpdate=Ge,re.needsUpdate=ae,re.type=me}function Ae(ie){const Ie=ie.target;Ie.removeEventListener("dispose",Ae),qe(Ie)}function qe(ie){ze(ie),le.remove(ie)}function ze(ie){const Ie=le.get(ie).programs;Ie!==void 0&&(Ie.forEach(function(Ge){je.releaseProgram(Ge)}),ie.isShaderMaterial&&je.releaseShaderCache(ie))}this.renderBufferDirect=function(ie,Ie,Ge,ae,me,ct){Ie===null&&(Ie=ye);const vt=me.isMesh&&me.matrixWorld.determinant()<0,D=ya(ie,Ie,Ge,ae,me);he.setMaterial(ae,vt);let X=Ge.index;const te=Ge.attributes.position;if(X===null){if(te===void 0||te.count===0)return}else if(X.count===0)return;let ge=1;ae.wireframe===!0&&(X=Oe.getWireframeAttribute(Ge),ge=2),Ne.setup(me,ae,D,Ge,X);let Re,Pe=Me;X!==null&&(Re=pe.get(X),Pe=Ue,Pe.setIndex(Re));const rt=X!==null?X.count:te.count,st=Ge.drawRange.start*ge,ft=Ge.drawRange.count*ge,Qe=ct!==null?ct.start*ge:0,Je=ct!==null?ct.count*ge:1/0,yt=Math.max(st,Qe),dt=Math.min(rt,st+ft,Qe+Je)-1,Et=Math.max(0,dt-yt+1);if(Et!==0){if(me.isMesh)ae.wireframe===!0?(he.setLineWidth(ae.wireframeLinewidth*xe()),Pe.setMode(1)):Pe.setMode(4);else if(me.isLine){let Rt=ae.linewidth;Rt===void 0&&(Rt=1),he.setLineWidth(Rt*xe()),me.isLineSegments?Pe.setMode(1):me.isLineLoop?Pe.setMode(2):Pe.setMode(3)}else me.isPoints?Pe.setMode(0):me.isSprite&&Pe.setMode(4);if(me.isInstancedMesh)Pe.renderInstances(yt,Et,me.count);else if(Ge.isInstancedBufferGeometry){const Rt=Math.min(Ge.instanceCount,Ge._maxInstanceCount);Pe.renderInstances(yt,Et,Rt)}else Pe.render(yt,Et)}},this.compile=function(ie,Ie){h=q.get(ie),h.init(),g.push(h),ie.traverseVisible(function(Ge){Ge.isLight&&Ge.layers.test(Ie.layers)&&(h.pushLight(Ge),Ge.castShadow&&h.pushShadow(Ge))}),h.setupLights(v.physicallyCorrectLights),ie.traverse(function(Ge){const ae=Ge.material;if(ae)if(Array.isArray(ae))for(let me=0;me<ae.length;me++){const ct=ae[me];Fr(ct,ie,Ge)}else Fr(ae,ie,Ge)}),g.pop(),h=null};let Ve=null;function Ze(ie){Ve&&Ve(ie)}function Fe(){xt.stop()}function Ct(){xt.start()}const xt=new RU;xt.setAnimationLoop(Ze),typeof self<"u"&&xt.setContext(self),this.setAnimationLoop=function(ie){Ve=ie,Ke.setAnimationLoop(ie),ie===null?xt.stop():xt.start()},Ke.addEventListener("sessionstart",Fe),Ke.addEventListener("sessionend",Ct),this.render=function(ie,Ie){if(Ie!==void 0&&Ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;ie.autoUpdate===!0&&ie.updateMatrixWorld(),Ie.parent===null&&Ie.updateMatrixWorld(),Ke.enabled===!0&&Ke.isPresenting===!0&&(Ke.cameraAutoUpdate===!0&&Ke.updateCamera(Ie),Ie=Ke.getCamera()),ie.isScene===!0&&ie.onBeforeRender(v,ie,Ie,b),h=q.get(ie,g.length),h.init(),g.push(h),j.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),V.setFromProjectionMatrix(j),W=this.localClippingEnabled,N=z.init(this.clippingPlanes,W,Ie),d=nt.get(ie,m.length),d.init(),m.push(d),zt(ie,Ie,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(F,U),N===!0&&z.beginShadows();const Ge=h.state.shadowsArray;if(re.render(Ge,ie,Ie),N===!0&&z.endShadows(),this.info.autoReset===!0&&this.info.reset(),_e.render(d,ie),h.setupLights(v.physicallyCorrectLights),Ie.isArrayCamera){const ae=Ie.cameras;for(let me=0,ct=ae.length;me<ct;me++){const vt=ae[me];an(d,ie,vt,vt.viewport)}}else an(d,ie,Ie);b!==null&&(ce.updateMultisampleRenderTarget(b),ce.updateRenderTargetMipmap(b)),ie.isScene===!0&&ie.onAfterRender(v,ie,Ie),Ne.resetDefaultState(),S=-1,C=null,g.pop(),g.length>0?h=g[g.length-1]:h=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function zt(ie,Ie,Ge,ae){if(ie.visible===!1)return;if(ie.layers.test(Ie.layers)){if(ie.isGroup)Ge=ie.renderOrder;else if(ie.isLOD)ie.autoUpdate===!0&&ie.update(Ie);else if(ie.isLight)h.pushLight(ie),ie.castShadow&&h.pushShadow(ie);else if(ie.isSprite){if(!ie.frustumCulled||V.intersectsSprite(ie)){ae&&ne.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(j);const vt=Te.update(ie),D=ie.material;D.visible&&d.push(ie,vt,D,Ge,ne.z,null)}}else if((ie.isMesh||ie.isLine||ie.isPoints)&&(ie.isSkinnedMesh&&ie.skeleton.frame!==Le.render.frame&&(ie.skeleton.update(),ie.skeleton.frame=Le.render.frame),!ie.frustumCulled||V.intersectsObject(ie))){ae&&ne.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(j);const vt=Te.update(ie),D=ie.material;if(Array.isArray(D)){const X=vt.groups;for(let te=0,ge=X.length;te<ge;te++){const Re=X[te],Pe=D[Re.materialIndex];Pe&&Pe.visible&&d.push(ie,vt,Pe,Ge,ne.z,Re)}}else D.visible&&d.push(ie,vt,D,Ge,ne.z,null)}}const ct=ie.children;for(let vt=0,D=ct.length;vt<D;vt++)zt(ct[vt],Ie,Ge,ae)}function an(ie,Ie,Ge,ae){const me=ie.opaque,ct=ie.transmissive,vt=ie.transparent;h.setupLightsView(Ge),ct.length>0&&Er(me,Ie,Ge),ae&&he.viewport(E.copy(ae)),me.length>0&&bi(me,Ie,Ge),ct.length>0&&bi(ct,Ie,Ge),vt.length>0&&bi(vt,Ie,Ge),he.buffers.depth.setTest(!0),he.buffers.depth.setMask(!0),he.buffers.color.setMask(!0),he.setPolygonOffset(!1)}function Er(ie,Ie,Ge){const ae=ke.isWebGL2;ee===null&&(ee=new io(1,1,{generateMipmaps:!0,type:K.convert(Ni)!==null?Ni:oc,minFilter:Yl,samples:ae&&o===!0?4:0})),v.getDrawingBufferSize(G),ae?ee.setSize(G.x,G.y):ee.setSize(S0(G.x),S0(G.y));const me=v.getRenderTarget();v.setRenderTarget(ee),v.clear();const ct=v.toneMapping;v.toneMapping=Os,bi(ie,Ie,Ge),v.toneMapping=ct,ce.updateMultisampleRenderTarget(ee),ce.updateRenderTargetMipmap(ee),v.setRenderTarget(me)}function bi(ie,Ie,Ge){const ae=Ie.isScene===!0?Ie.overrideMaterial:null;for(let me=0,ct=ie.length;me<ct;me++){const vt=ie[me],D=vt.object,X=vt.geometry,te=ae===null?vt.material:ae,ge=vt.group;D.layers.test(Ge.layers)&&Ui(D,Ie,Ge,X,te,ge)}}function Ui(ie,Ie,Ge,ae,me,ct){ie.onBeforeRender(v,Ie,Ge,ae,me,ct),ie.modelViewMatrix.multiplyMatrices(Ge.matrixWorldInverse,ie.matrixWorld),ie.normalMatrix.getNormalMatrix(ie.modelViewMatrix),me.onBeforeRender(v,Ie,Ge,ae,ie,ct),me.transparent===!0&&me.side===Ua?(me.side=ro,me.needsUpdate=!0,v.renderBufferDirect(Ge,Ie,ae,me,ie,ct),me.side=md,me.needsUpdate=!0,v.renderBufferDirect(Ge,Ie,ae,me,ie,ct),me.side=Ua):v.renderBufferDirect(Ge,Ie,ae,me,ie,ct),ie.onAfterRender(v,Ie,Ge,ae,me,ct)}function Fr(ie,Ie,Ge){Ie.isScene!==!0&&(Ie=ye);const ae=le.get(ie),me=h.state.lights,ct=h.state.shadowsArray,vt=me.state.version,D=je.getParameters(ie,me.state,ct,Ie,Ge),X=je.getProgramCacheKey(D);let te=ae.programs;ae.environment=ie.isMeshStandardMaterial?Ie.environment:null,ae.fog=Ie.fog,ae.envMap=(ie.isMeshStandardMaterial?De:we).get(ie.envMap||ae.environment),te===void 0&&(ie.addEventListener("dispose",Ae),te=new Map,ae.programs=te);let ge=te.get(X);if(ge!==void 0){if(ae.currentProgram===ge&&ae.lightsStateVersion===vt)return va(ie,D),ge}else D.uniforms=je.getUniforms(ie),ie.onBuild(Ge,D,v),ie.onBeforeCompile(D,v),ge=je.acquireProgram(D,X),te.set(X,ge),ae.uniforms=D.uniforms;const Re=ae.uniforms;(!ie.isShaderMaterial&&!ie.isRawShaderMaterial||ie.clipping===!0)&&(Re.clippingPlanes=z.uniform),va(ie,D),ae.needsLights=$o(ie),ae.lightsStateVersion=vt,ae.needsLights&&(Re.ambientLightColor.value=me.state.ambient,Re.lightProbe.value=me.state.probe,Re.directionalLights.value=me.state.directional,Re.directionalLightShadows.value=me.state.directionalShadow,Re.spotLights.value=me.state.spot,Re.spotLightShadows.value=me.state.spotShadow,Re.rectAreaLights.value=me.state.rectArea,Re.ltc_1.value=me.state.rectAreaLTC1,Re.ltc_2.value=me.state.rectAreaLTC2,Re.pointLights.value=me.state.point,Re.pointLightShadows.value=me.state.pointShadow,Re.hemisphereLights.value=me.state.hemi,Re.directionalShadowMap.value=me.state.directionalShadowMap,Re.directionalShadowMatrix.value=me.state.directionalShadowMatrix,Re.spotShadowMap.value=me.state.spotShadowMap,Re.spotShadowMatrix.value=me.state.spotShadowMatrix,Re.pointShadowMap.value=me.state.pointShadowMap,Re.pointShadowMatrix.value=me.state.pointShadowMatrix);const Pe=ge.getUniforms(),rt=Rl.seqWithValue(Pe.seq,Re);return ae.currentProgram=ge,ae.uniformsList=rt,ge}function va(ie,Ie){const Ge=le.get(ie);Ge.outputEncoding=Ie.outputEncoding,Ge.instancing=Ie.instancing,Ge.skinning=Ie.skinning,Ge.morphTargets=Ie.morphTargets,Ge.morphNormals=Ie.morphNormals,Ge.morphColors=Ie.morphColors,Ge.morphTargetsCount=Ie.morphTargetsCount,Ge.numClippingPlanes=Ie.numClippingPlanes,Ge.numIntersection=Ie.numClipIntersection,Ge.vertexAlphas=Ie.vertexAlphas,Ge.vertexTangents=Ie.vertexTangents,Ge.toneMapping=Ie.toneMapping}function ya(ie,Ie,Ge,ae,me){Ie.isScene!==!0&&(Ie=ye),ce.resetTextureUnits();const ct=Ie.fog,vt=ae.isMeshStandardMaterial?Ie.environment:null,D=b===null?v.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:ao,X=(ae.isMeshStandardMaterial?De:we).get(ae.envMap||vt),te=ae.vertexColors===!0&&!!Ge.attributes.color&&Ge.attributes.color.itemSize===4,ge=!!ae.normalMap&&!!Ge.attributes.tangent,Re=!!Ge.morphAttributes.position,Pe=!!Ge.morphAttributes.normal,rt=!!Ge.morphAttributes.color,st=ae.toneMapped?v.toneMapping:Os,ft=Ge.morphAttributes.position||Ge.morphAttributes.normal||Ge.morphAttributes.color,Qe=ft!==void 0?ft.length:0,Je=le.get(ae),yt=h.state.lights;if(N===!0&&(W===!0||ie!==C)){const En=ie===C&&ae.id===S;z.setState(ae,ie,En)}let dt=!1;ae.version===Je.__version?(Je.needsLights&&Je.lightsStateVersion!==yt.state.version||Je.outputEncoding!==D||me.isInstancedMesh&&Je.instancing===!1||!me.isInstancedMesh&&Je.instancing===!0||me.isSkinnedMesh&&Je.skinning===!1||!me.isSkinnedMesh&&Je.skinning===!0||Je.envMap!==X||ae.fog&&Je.fog!==ct||Je.numClippingPlanes!==void 0&&(Je.numClippingPlanes!==z.numPlanes||Je.numIntersection!==z.numIntersection)||Je.vertexAlphas!==te||Je.vertexTangents!==ge||Je.morphTargets!==Re||Je.morphNormals!==Pe||Je.morphColors!==rt||Je.toneMapping!==st||ke.isWebGL2===!0&&Je.morphTargetsCount!==Qe)&&(dt=!0):(dt=!0,Je.__version=ae.version);let Et=Je.currentProgram;dt===!0&&(Et=Fr(ae,Ie,me));let Rt=!1,_t=!1,Tt=!1;const Pt=Et.getUniforms(),fn=Je.uniforms;if(he.useProgram(Et.program)&&(Rt=!0,_t=!0,Tt=!0),ae.id!==S&&(S=ae.id,_t=!0),Rt||C!==ie){if(Pt.setValue(oe,"projectionMatrix",ie.projectionMatrix),ke.logarithmicDepthBuffer&&Pt.setValue(oe,"logDepthBufFC",2/(Math.log(ie.far+1)/Math.LN2)),C!==ie&&(C=ie,_t=!0,Tt=!0),ae.isShaderMaterial||ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshStandardMaterial||ae.envMap){const En=Pt.map.cameraPosition;En!==void 0&&En.setValue(oe,ne.setFromMatrixPosition(ie.matrixWorld))}(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&Pt.setValue(oe,"isOrthographic",ie.isOrthographicCamera===!0),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial||ae.isShadowMaterial||me.isSkinnedMesh)&&Pt.setValue(oe,"viewMatrix",ie.matrixWorldInverse)}if(me.isSkinnedMesh){Pt.setOptional(oe,me,"bindMatrix"),Pt.setOptional(oe,me,"bindMatrixInverse");const En=me.skeleton;En&&(ke.floatVertexTextures?(En.boneTexture===null&&En.computeBoneTexture(),Pt.setValue(oe,"boneTexture",En.boneTexture,ce),Pt.setValue(oe,"boneTextureSize",En.boneTextureSize)):Pt.setOptional(oe,En,"boneMatrices"))}const Mn=Ge.morphAttributes;return(Mn.position!==void 0||Mn.normal!==void 0||Mn.color!==void 0&&ke.isWebGL2===!0)&&ue.update(me,Ge,ae,Et),(_t||Je.receiveShadow!==me.receiveShadow)&&(Je.receiveShadow=me.receiveShadow,Pt.setValue(oe,"receiveShadow",me.receiveShadow)),_t&&(Pt.setValue(oe,"toneMappingExposure",v.toneMappingExposure),Je.needsLights&&po(fn,Tt),ct&&ae.fog&&it.refreshFogUniforms(fn,ct),it.refreshMaterialUniforms(fn,ae,O,I,ee),Rl.upload(oe,Je.uniformsList,fn,ce)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(Rl.upload(oe,Je.uniformsList,fn,ce),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&Pt.setValue(oe,"center",me.center),Pt.setValue(oe,"modelViewMatrix",me.modelViewMatrix),Pt.setValue(oe,"normalMatrix",me.normalMatrix),Pt.setValue(oe,"modelMatrix",me.matrixWorld),Et}function po(ie,Ie){ie.ambientLightColor.needsUpdate=Ie,ie.lightProbe.needsUpdate=Ie,ie.directionalLights.needsUpdate=Ie,ie.directionalLightShadows.needsUpdate=Ie,ie.pointLights.needsUpdate=Ie,ie.pointLightShadows.needsUpdate=Ie,ie.spotLights.needsUpdate=Ie,ie.spotLightShadows.needsUpdate=Ie,ie.rectAreaLights.needsUpdate=Ie,ie.hemisphereLights.needsUpdate=Ie}function $o(ie){return ie.isMeshLambertMaterial||ie.isMeshToonMaterial||ie.isMeshPhongMaterial||ie.isMeshStandardMaterial||ie.isShadowMaterial||ie.isShaderMaterial&&ie.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(ie,Ie,Ge){le.get(ie.texture).__webglTexture=Ie,le.get(ie.depthTexture).__webglTexture=Ge;const ae=le.get(ie);ae.__hasExternalTextures=!0,ae.__hasExternalTextures&&(ae.__autoAllocateDepthBuffer=Ge===void 0,ae.__autoAllocateDepthBuffer||be.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ie,Ie){const Ge=le.get(ie);Ge.__webglFramebuffer=Ie,Ge.__useDefaultFramebuffer=Ie===void 0},this.setRenderTarget=function(ie,Ie=0,Ge=0){b=ie,x=Ie,_=Ge;let ae=!0;if(ie){const X=le.get(ie);X.__useDefaultFramebuffer!==void 0?(he.bindFramebuffer(36160,null),ae=!1):X.__webglFramebuffer===void 0?ce.setupRenderTarget(ie):X.__hasExternalTextures&&ce.rebindTextures(ie,le.get(ie.texture).__webglTexture,le.get(ie.depthTexture).__webglTexture)}let me=null,ct=!1,vt=!1;if(ie){const X=ie.texture;(X.isData3DTexture||X.isDataArrayTexture)&&(vt=!0);const te=le.get(ie).__webglFramebuffer;ie.isWebGLCubeRenderTarget?(me=te[Ie],ct=!0):ke.isWebGL2&&ie.samples>0&&ce.useMultisampledRTT(ie)===!1?me=le.get(ie).__webglMultisampledFramebuffer:me=te,E.copy(ie.viewport),T.copy(ie.scissor),P=ie.scissorTest}else E.copy(k).multiplyScalar(O).floor(),T.copy(H).multiplyScalar(O).floor(),P=$;if(he.bindFramebuffer(36160,me)&&ke.drawBuffers&&ae&&he.drawBuffers(ie,me),he.viewport(E),he.scissor(T),he.setScissorTest(P),ct){const X=le.get(ie.texture);oe.framebufferTexture2D(36160,36064,34069+Ie,X.__webglTexture,Ge)}else if(vt){const X=le.get(ie.texture),te=Ie||0;oe.framebufferTextureLayer(36160,36064,X.__webglTexture,Ge||0,te)}S=-1},this.readRenderTargetPixels=function(ie,Ie,Ge,ae,me,ct,vt){if(!(ie&&ie.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let D=le.get(ie).__webglFramebuffer;if(ie.isWebGLCubeRenderTarget&&vt!==void 0&&(D=D[vt]),D){he.bindFramebuffer(36160,D);try{const X=ie.texture,te=X.format,ge=X.type;if(te!==to&&K.convert(te)!==oe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Re=ge===Ni&&(be.has("EXT_color_buffer_half_float")||ke.isWebGL2&&be.has("EXT_color_buffer_float"));if(ge!==oc&&K.convert(ge)!==oe.getParameter(35738)&&!(ge===Ii&&(ke.isWebGL2||be.has("OES_texture_float")||be.has("WEBGL_color_buffer_float")))&&!Re){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ie>=0&&Ie<=ie.width-ae&&Ge>=0&&Ge<=ie.height-me&&oe.readPixels(Ie,Ge,ae,me,K.convert(te),K.convert(ge),ct)}finally{const X=b!==null?le.get(b).__webglFramebuffer:null;he.bindFramebuffer(36160,X)}}},this.copyFramebufferToTexture=function(ie,Ie,Ge=0){if(Ie.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const ae=Math.pow(2,-Ge),me=Math.floor(Ie.image.width*ae),ct=Math.floor(Ie.image.height*ae);ce.setTexture2D(Ie,0),oe.copyTexSubImage2D(3553,Ge,0,0,ie.x,ie.y,me,ct),he.unbindTexture()},this.copyTextureToTexture=function(ie,Ie,Ge,ae=0){const me=Ie.image.width,ct=Ie.image.height,vt=K.convert(Ge.format),D=K.convert(Ge.type);ce.setTexture2D(Ge,0),oe.pixelStorei(37440,Ge.flipY),oe.pixelStorei(37441,Ge.premultiplyAlpha),oe.pixelStorei(3317,Ge.unpackAlignment),Ie.isDataTexture?oe.texSubImage2D(3553,ae,ie.x,ie.y,me,ct,vt,D,Ie.image.data):Ie.isCompressedTexture?oe.compressedTexSubImage2D(3553,ae,ie.x,ie.y,Ie.mipmaps[0].width,Ie.mipmaps[0].height,vt,Ie.mipmaps[0].data):oe.texSubImage2D(3553,ae,ie.x,ie.y,vt,D,Ie.image),ae===0&&Ge.generateMipmaps&&oe.generateMipmap(3553),he.unbindTexture()},this.copyTextureToTexture3D=function(ie,Ie,Ge,ae,me=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ct=ie.max.x-ie.min.x+1,vt=ie.max.y-ie.min.y+1,D=ie.max.z-ie.min.z+1,X=K.convert(ae.format),te=K.convert(ae.type);let ge;if(ae.isData3DTexture)ce.setTexture3D(ae,0),ge=32879;else if(ae.isDataArrayTexture)ce.setTexture2DArray(ae,0),ge=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}oe.pixelStorei(37440,ae.flipY),oe.pixelStorei(37441,ae.premultiplyAlpha),oe.pixelStorei(3317,ae.unpackAlignment);const Re=oe.getParameter(3314),Pe=oe.getParameter(32878),rt=oe.getParameter(3316),st=oe.getParameter(3315),ft=oe.getParameter(32877),Qe=Ge.isCompressedTexture?Ge.mipmaps[0]:Ge.image;oe.pixelStorei(3314,Qe.width),oe.pixelStorei(32878,Qe.height),oe.pixelStorei(3316,ie.min.x),oe.pixelStorei(3315,ie.min.y),oe.pixelStorei(32877,ie.min.z),Ge.isDataTexture||Ge.isData3DTexture?oe.texSubImage3D(ge,me,Ie.x,Ie.y,Ie.z,ct,vt,D,X,te,Qe.data):Ge.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),oe.compressedTexSubImage3D(ge,me,Ie.x,Ie.y,Ie.z,ct,vt,D,X,Qe.data)):oe.texSubImage3D(ge,me,Ie.x,Ie.y,Ie.z,ct,vt,D,X,te,Qe),oe.pixelStorei(3314,Re),oe.pixelStorei(32878,Pe),oe.pixelStorei(3316,rt),oe.pixelStorei(3315,st),oe.pixelStorei(32877,ft),me===0&&ae.generateMipmaps&&oe.generateMipmap(ge),he.unbindTexture()},this.initTexture=function(ie){ce.setTexture2D(ie,0),he.unbindTexture()},this.resetState=function(){x=0,_=0,b=null,he.reset(),Ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}bn.prototype.isWebGLRenderer=!0;class pxe extends bn{}pxe.prototype.isWebGL1Renderer=!0;class y_{constructor(e,t=25e-5){this.name="",this.color=new pt(e),this.density=t}clone(){return new y_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}y_.prototype.isFogExp2=!0;class x_{constructor(e,t=1,r=1e3){this.name="",this.color=new pt(e),this.near=t,this.far=r}clone(){return new x_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}x_.prototype.isFog=!0;class __ extends Yt{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}__.prototype.isScene=!0;class vc{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=cm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Do()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Do()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Do()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}vc.prototype.isInterleavedBuffer=!0;const li=new J;class Bl{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)li.fromBufferAttribute(this,t),li.applyMatrix4(e),this.setXYZ(t,li.x,li.y,li.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)li.fromBufferAttribute(this,t),li.applyNormalMatrix(e),this.setXYZ(t,li.x,li.y,li.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)li.fromBufferAttribute(this,t),li.transformDirection(e),this.setXYZ(t,li.x,li.y,li.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new jn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Bl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Bl.prototype.isInterleavedBufferAttribute=!0;class MO extends Zn{constructor(e){super(),this.type="SpriteMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}MO.prototype.isSpriteMaterial=!0;let nf;const Fh=new J,rf=new J,of=new J,af=new $e,zh=new $e,VU=new Mt,Lv=new J,Bh=new J,Dv=new J,zD=new $e,O1=new $e,BD=new $e;class GU extends Yt{constructor(e){if(super(),this.type="Sprite",nf===void 0){nf=new Vt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new vc(t,5);nf.setIndex([0,1,2,0,2,3]),nf.setAttribute("position",new Bl(r,3,0,!1)),nf.setAttribute("uv",new Bl(r,2,3,!1))}this.geometry=nf,this.material=e!==void 0?e:new MO,this.center=new $e(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rf.setFromMatrixScale(this.matrixWorld),VU.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),of.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&rf.multiplyScalar(-of.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;kv(Lv.set(-.5,-.5,0),of,a,rf,i,o),kv(Bh.set(.5,-.5,0),of,a,rf,i,o),kv(Dv.set(.5,.5,0),of,a,rf,i,o),zD.set(0,0),O1.set(1,0),BD.set(1,1);let s=e.ray.intersectTriangle(Lv,Bh,Dv,!1,Fh);if(s===null&&(kv(Bh.set(-.5,.5,0),of,a,rf,i,o),O1.set(0,1),s=e.ray.intersectTriangle(Lv,Dv,Bh,!1,Fh),s===null))return;const l=e.ray.origin.distanceTo(Fh);l<e.near||l>e.far||t.push({distance:l,point:Fh.clone(),uv:mr.getUV(Fh,Lv,Bh,Dv,zD,O1,BD,new $e),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}GU.prototype.isSprite=!0;function kv(n,e,t,r,i,o){af.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(zh.x=o*af.x-i*af.y,zh.y=i*af.x+o*af.y):zh.copy(af),n.copy(e),n.x+=zh.x,n.y+=zh.y,n.applyMatrix4(VU)}const Fv=new J,UD=new J;class mxe extends Yt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Fv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Fv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Fv.setFromMatrixPosition(e.matrixWorld),UD.setFromMatrixPosition(this.matrixWorld);const r=Fv.distanceTo(UD)/e.zoom;t[0].object.visible=!0;let i,o;for(i=1,o=t.length;i<o&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<o;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}const HD=new J,VD=new vn,GD=new vn,gxe=new J,WD=new Mt;class b_ extends ht{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Mt,this.bindMatrixInverse=new Mt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new vn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;VD.fromBufferAttribute(i.attributes.skinIndex,e),GD.fromBufferAttribute(i.attributes.skinWeight,e),HD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const a=GD.getComponent(o);if(a!==0){const s=VD.getComponent(o);WD.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector(gxe.copy(HD).applyMatrix4(WD),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}b_.prototype.isSkinnedMesh=!0;class w_ extends Yt{constructor(){super(),this.type="Bone"}}w_.prototype.isBone=!0;class qf extends ur{constructor(e=null,t=1,r=1,i,o,a,s,l,u=dr,c=dr,d,h){super(null,a,s,l,u,c,i,o,d,h),this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}qf.prototype.isDataTexture=!0;const $D=new Mt,vxe=new Mt;class S_{constructor(e=[],t=[]){this.uuid=Do(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Mt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Mt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:vxe;$D.multiplyMatrices(s,t[o]),$D.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new S_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=CU(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new qf(t,e,e,to,Ii);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=t[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new w_),this.bones.push(a),this.boneInverses.push(new Mt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,o=t.length;i<o;i++){const a=t[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class xd extends jn{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}xd.prototype.isInstancedBufferAttribute=!0;const jD=new Mt,KD=new Mt,zv=[],Uh=new ht;class WU extends ht{constructor(e,t,r){super(e,t),this.instanceMatrix=new xd(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Uh.geometry=this.geometry,Uh.material=this.material,Uh.material!==void 0)for(let o=0;o<i;o++){this.getMatrixAt(o,jD),KD.multiplyMatrices(r,jD),Uh.matrixWorld=KD,Uh.raycast(e,zv);for(let a=0,s=zv.length;a<s;a++){const l=zv[a];l.instanceId=o,l.object=this,t.push(l)}zv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new xd(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}WU.prototype.isInstancedMesh=!0;class ja extends Zn{constructor(e){super(),this.type="LineBasicMaterial",this.color=new pt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}ja.prototype.isLineBasicMaterial=!0;const XD=new J,YD=new J,qD=new Mt,P1=new gc,Bv=new Bs;class di extends Yt{constructor(e=new Vt,t=new ja){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)XD.fromBufferAttribute(t,i-1),YD.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=XD.distanceTo(YD);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Bv.copy(r.boundingSphere),Bv.applyMatrix4(i),Bv.radius+=o,e.ray.intersectsSphere(Bv)===!1)return;qD.copy(i).invert(),P1.copy(e.ray).applyMatrix4(qD);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=new J,c=new J,d=new J,h=new J,m=this.isLineSegments?2:1;if(r.isBufferGeometry){const g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,a.start),_=Math.min(g.count,a.start+a.count);for(let b=x,S=_-1;b<S;b+=m){const C=g.getX(b),E=g.getX(b+1);if(u.fromBufferAttribute(y,C),c.fromBufferAttribute(y,E),P1.distanceSqToSegment(u,c,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(h);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,a.start),_=Math.min(y.count,a.start+a.count);for(let b=x,S=_-1;b<S;b+=m){if(u.fromBufferAttribute(y,b),c.fromBufferAttribute(y,b+1),P1.distanceSqToSegment(u,c,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(h);E<e.near||E>e.far||t.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}di.prototype.isLine=!0;const ZD=new J,JD=new J;class Wd extends di{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)ZD.fromBufferAttribute(t,i),JD.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+ZD.distanceTo(JD);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Wd.prototype.isLineSegments=!0;class EO extends di{constructor(e,t){super(e,t),this.type="LineLoop"}}EO.prototype.isLineLoop=!0;class C_ extends Zn{constructor(e){super(),this.type="PointsMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}C_.prototype.isPointsMaterial=!0;const QD=new Mt,eM=new gc,Uv=new Bs,Hv=new J;class TO extends Yt{constructor(e=new Vt,t=new C_){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Uv.copy(r.boundingSphere),Uv.applyMatrix4(i),Uv.radius+=o,e.ray.intersectsSphere(Uv)===!1)return;QD.copy(i).invert(),eM.copy(e.ray).applyMatrix4(QD);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s;if(r.isBufferGeometry){const u=r.index,d=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let g=h,v=m;g<v;g++){const y=u.getX(g);Hv.fromBufferAttribute(d,y),ek(Hv,y,l,i,e,t,this)}}else{const h=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count);for(let g=h,v=m;g<v;g++)Hv.fromBufferAttribute(d,g),ek(Hv,g,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}TO.prototype.isPoints=!0;function ek(n,e,t,r,i,o,a){const s=eM.distanceSqToPoint(n);if(s<t){const l=new J;eM.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class C0 extends ur{constructor(e,t,r,i,o,a,s,l,u){super(e,t,r,i,o,a,s,l,u),this.minFilter=a!==void 0?a:Sn,this.magFilter=o!==void 0?o:Sn,this.generateMipmaps=!1;const c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}C0.prototype.isVideoTexture=!0;class yxe extends ur{constructor(e,t,r){super({width:e,height:t}),this.format=r,this.magFilter=dr,this.minFilter=dr,this.generateMipmaps=!1,this.needsUpdate=!0}}yxe.prototype.isFramebufferTexture=!0;class xxe extends ur{constructor(e,t,r,i,o,a,s,l,u,c,d,h){super(null,a,s,l,u,c,i,o,d,h),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}xxe.prototype.isCompressedTexture=!0;class $U extends ur{constructor(e,t,r,i,o,a,s,l,u){super(e,t,r,i,o,a,s,l,u),this.needsUpdate=!0}}$U.prototype.isCanvasTexture=!0;class Vo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),o=0;t.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),t.push(o),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const o=r.length;let a;t?a=t:a=e*r[o-1];let s=0,l=o-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-a,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const c=r[i],h=r[i+1]-c,m=(a-c)/h;return(i+m)/(o-1)}getTangent(e,t){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=t||(a.isVector2?new $e:new J);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new J,i=[],o=[],a=[],s=new J,l=new Mt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new J)}o[0]=new J,a[0]=new J;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),d=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),h<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let m=1;m<=e;m++){if(o[m]=o[m-1].clone(),a[m]=a[m-1].clone(),s.crossVectors(i[m-1],i[m]),s.length()>Number.EPSILON){s.normalize();const g=Math.acos(hr(i[m-1].dot(i[m]),-1,1));o[m].applyMatrix4(l.makeRotationAxis(s,g))}a[m].crossVectors(i[m],o[m])}if(t===!0){let m=Math.acos(hr(o[0].dot(o[e]),-1,1));m/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(m=-m);for(let g=1;g<=e;g++)o[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),a[g].crossVectors(i[g],o[g])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class M_ extends Vo{constructor(e=0,t=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,t){const r=t||new $e,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,m=u-this.aY;l=h*c-m*d+this.aX,u=h*d+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}M_.prototype.isEllipseCurve=!0;class jU extends M_{constructor(e,t,r,i,o,a){super(e,t,r,r,i,o,a),this.type="ArcCurve"}}jU.prototype.isArcCurve=!0;function OO(){let n=0,e=0,t=0,r=0;function i(o,a,s,l){n=o,e=s,t=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,u){i(a,s,u*(s-o),u*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,u,c,d){let h=(a-o)/u-(s-o)/(u+c)+(s-a)/c,m=(s-a)/c-(l-a)/(c+d)+(l-s)/d;h*=c,m*=c,i(a,s,h,m)},calc:function(o){const a=o*o,s=a*o;return n+e*o+t*a+r*s}}}const Vv=new J,A1=new OO,R1=new OO,I1=new OO;class KU extends Vo{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new J){const r=t,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%o]:(Vv.subVectors(i[0],i[1]).add(i[0]),u=Vv);const d=i[s%o],h=i[(s+1)%o];if(this.closed||s+2<o?c=i[(s+2)%o]:(Vv.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=Vv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(d),m),v=Math.pow(d.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(c),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),A1.initNonuniformCatmullRom(u.x,d.x,h.x,c.x,g,v,y),R1.initNonuniformCatmullRom(u.y,d.y,h.y,c.y,g,v,y),I1.initNonuniformCatmullRom(u.z,d.z,h.z,c.z,g,v,y)}else this.curveType==="catmullrom"&&(A1.initCatmullRom(u.x,d.x,h.x,c.x,this.tension),R1.initCatmullRom(u.y,d.y,h.y,c.y,this.tension),I1.initCatmullRom(u.z,d.z,h.z,c.z,this.tension));return r.set(A1.calc(l),R1.calc(l),I1.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new J().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}KU.prototype.isCatmullRomCurve3=!0;function tk(n,e,t,r,i){const o=(r-e)*.5,a=(i-t)*.5,s=n*n,l=n*s;return(2*t-2*r+o+a)*l+(-3*t+3*r-2*o-a)*s+o*n+t}function _xe(n,e){const t=1-n;return t*t*e}function bxe(n,e){return 2*(1-n)*n*e}function wxe(n,e){return n*n*e}function Op(n,e,t,r){return _xe(n,e)+bxe(n,t)+wxe(n,r)}function Sxe(n,e){const t=1-n;return t*t*t*e}function Cxe(n,e){const t=1-n;return 3*t*t*n*e}function Mxe(n,e){return 3*(1-n)*n*n*e}function Exe(n,e){return n*n*n*e}function Pp(n,e,t,r,i){return Sxe(n,e)+Cxe(n,t)+Mxe(n,r)+Exe(n,i)}class PO extends Vo{constructor(e=new $e,t=new $e,r=new $e,i=new $e){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new $e){const r=t,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Pp(e,i.x,o.x,a.x,s.x),Pp(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}PO.prototype.isCubicBezierCurve=!0;class XU extends Vo{constructor(e=new J,t=new J,r=new J,i=new J){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new J){const r=t,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Pp(e,i.x,o.x,a.x,s.x),Pp(e,i.y,o.y,a.y,s.y),Pp(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}XU.prototype.isCubicBezierCurve3=!0;class E_ extends Vo{constructor(e=new $e,t=new $e){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new $e){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new $e;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}E_.prototype.isLineCurve=!0;class Txe extends Vo{constructor(e=new J,t=new J){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new J){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AO extends Vo{constructor(e=new $e,t=new $e,r=new $e){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new $e){const r=t,i=this.v0,o=this.v1,a=this.v2;return r.set(Op(e,i.x,o.x,a.x),Op(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}AO.prototype.isQuadraticBezierCurve=!0;class RO extends Vo{constructor(e=new J,t=new J,r=new J){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new J){const r=t,i=this.v0,o=this.v1,a=this.v2;return r.set(Op(e,i.x,o.x,a.x),Op(e,i.y,o.y,a.y),Op(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}RO.prototype.isQuadraticBezierCurve3=!0;class IO extends Vo{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new $e){const r=t,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],u=i[a],c=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return r.set(tk(s,l.x,u.x,c.x,d.x),tk(s,l.y,u.y,c.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new $e().fromArray(i))}return this}}IO.prototype.isSplineCurve=!0;var NO=Object.freeze({__proto__:null,ArcCurve:jU,CatmullRomCurve3:KU,CubicBezierCurve:PO,CubicBezierCurve3:XU,EllipseCurve:M_,LineCurve:E_,LineCurve3:Txe,QuadraticBezierCurve:AO,QuadraticBezierCurve3:RO,SplineCurve:IO});class Oxe extends Vo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new E_(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),u=l===0?0:1-a/l;return s.getPointAt(u,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new NO[i.type]().fromJSON(i))}return this}}class M0 extends Oxe{constructor(e){super(),this.type="Path",this.currentPoint=new $e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new E_(this.currentPoint.clone(),new $e(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const o=new AO(this.currentPoint.clone(),new $e(e,t),new $e(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,o,a){const s=new PO(this.currentPoint.clone(),new $e(e,t),new $e(r,i),new $e(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new IO(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,t+l,r,i,o,a),this}absarc(e,t,r,i,o,a){return this.absellipse(e,t,r,r,i,o,a),this}ellipse(e,t,r,i,o,a,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,o,a,s,l),this}absellipse(e,t,r,i,o,a,s,l){const u=new M_(e,t,r,i,o,a,s,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hm extends Vt{constructor(e=[new $e(0,.5),new $e(.5,0),new $e(0,-.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=hr(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],u=[],c=1/t,d=new J,h=new $e,m=new J,g=new J,v=new J;let y=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let _=0;_<=t;_++){const b=r+_*c*i,S=Math.sin(b),C=Math.cos(b);for(let E=0;E<=e.length-1;E++){d.x=e[E].x*S,d.y=e[E].y,d.z=e[E].x*C,a.push(d.x,d.y,d.z),h.x=_/t,h.y=E/(e.length-1),s.push(h.x,h.y);const T=l[3*E+0]*S,P=l[3*E+1],L=l[3*E+0]*C;u.push(T,P,L)}}for(let _=0;_<t;_++)for(let b=0;b<e.length-1;b++){const S=b+_*e.length,C=S,E=S+e.length,T=S+e.length+1,P=S+1;o.push(C,E,P),o.push(T,P,E)}this.setIndex(o),this.setAttribute("position",new At(a,3)),this.setAttribute("uv",new At(s,2)),this.setAttribute("normal",new At(u,3))}static fromJSON(e){return new hm(e.points,e.segments,e.phiStart,e.phiLength)}}class E0 extends hm{constructor(e=1,t=1,r=4,i=8){const o=new M0;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new E0(e.radius,e.length,e.capSegments,e.radialSegments)}}class T0 extends Vt{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const o=[],a=[],s=[],l=[],u=new J,c=new $e;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=t;d++,h+=3){const m=r+d/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),a.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(a[h]/e+1)/2,c.y=(a[h+1]/e+1)/2,l.push(c.x,c.y)}for(let d=1;d<=t;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(s,3)),this.setAttribute("uv",new At(l,2))}static fromJSON(e){return new T0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class br extends Vt{constructor(e=1,t=1,r=1,i=8,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),o=Math.floor(o);const c=[],d=[],h=[],m=[];let g=0;const v=[],y=r/2;let x=0;_(),a===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(c),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(m,2));function _(){const S=new J,C=new J;let E=0;const T=(t-e)/r;for(let P=0;P<=o;P++){const L=[],I=P/o,O=I*(t-e)+e;for(let F=0;F<=i;F++){const U=F/i,k=U*l+s,H=Math.sin(k),$=Math.cos(k);C.x=O*H,C.y=-I*r+y,C.z=O*$,d.push(C.x,C.y,C.z),S.set(H,T,$).normalize(),h.push(S.x,S.y,S.z),m.push(U,1-I),L.push(g++)}v.push(L)}for(let P=0;P<i;P++)for(let L=0;L<o;L++){const I=v[L][P],O=v[L+1][P],F=v[L+1][P+1],U=v[L][P+1];c.push(I,O,U),c.push(O,F,U),E+=6}u.addGroup(x,E,0),x+=E}function b(S){const C=g,E=new $e,T=new J;let P=0;const L=S===!0?e:t,I=S===!0?1:-1;for(let F=1;F<=i;F++)d.push(0,y*I,0),h.push(0,I,0),m.push(.5,.5),g++;const O=g;for(let F=0;F<=i;F++){const k=F/i*l+s,H=Math.cos(k),$=Math.sin(k);T.x=L*$,T.y=y*I,T.z=L*H,d.push(T.x,T.y,T.z),h.push(0,I,0),E.x=H*.5+.5,E.y=$*.5*I+.5,m.push(E.x,E.y),g++}for(let F=0;F<i;F++){const U=C+F,k=O+F;S===!0?c.push(k,k+1,U):c.push(k+1,k,U),P+=3}u.addGroup(x,P,S===!0?1:2),x+=P}}static fromJSON(e){return new br(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class O0 extends br{constructor(e=1,t=1,r=8,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,t,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new O0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ul extends Vt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const o=[],a=[];s(i),u(r),c(),this.setAttribute("position",new At(o,3)),this.setAttribute("normal",new At(o.slice(),3)),this.setAttribute("uv",new At(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(_){const b=new J,S=new J,C=new J;for(let E=0;E<t.length;E+=3)m(t[E+0],b),m(t[E+1],S),m(t[E+2],C),l(b,S,C,_)}function l(_,b,S,C){const E=C+1,T=[];for(let P=0;P<=E;P++){T[P]=[];const L=_.clone().lerp(S,P/E),I=b.clone().lerp(S,P/E),O=E-P;for(let F=0;F<=O;F++)F===0&&P===E?T[P][F]=L:T[P][F]=L.clone().lerp(I,F/O)}for(let P=0;P<E;P++)for(let L=0;L<2*(E-P)-1;L++){const I=Math.floor(L/2);L%2===0?(h(T[P][I+1]),h(T[P+1][I]),h(T[P][I])):(h(T[P][I+1]),h(T[P+1][I+1]),h(T[P+1][I]))}}function u(_){const b=new J;for(let S=0;S<o.length;S+=3)b.x=o[S+0],b.y=o[S+1],b.z=o[S+2],b.normalize().multiplyScalar(_),o[S+0]=b.x,o[S+1]=b.y,o[S+2]=b.z}function c(){const _=new J;for(let b=0;b<o.length;b+=3){_.x=o[b+0],_.y=o[b+1],_.z=o[b+2];const S=y(_)/2/Math.PI+.5,C=x(_)/Math.PI+.5;a.push(S,1-C)}g(),d()}function d(){for(let _=0;_<a.length;_+=6){const b=a[_+0],S=a[_+2],C=a[_+4],E=Math.max(b,S,C),T=Math.min(b,S,C);E>.9&&T<.1&&(b<.2&&(a[_+0]+=1),S<.2&&(a[_+2]+=1),C<.2&&(a[_+4]+=1))}}function h(_){o.push(_.x,_.y,_.z)}function m(_,b){const S=_*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function g(){const _=new J,b=new J,S=new J,C=new J,E=new $e,T=new $e,P=new $e;for(let L=0,I=0;L<o.length;L+=9,I+=6){_.set(o[L+0],o[L+1],o[L+2]),b.set(o[L+3],o[L+4],o[L+5]),S.set(o[L+6],o[L+7],o[L+8]),E.set(a[I+0],a[I+1]),T.set(a[I+2],a[I+3]),P.set(a[I+4],a[I+5]),C.copy(_).add(b).add(S).divideScalar(3);const O=y(C);v(E,I+0,_,O),v(T,I+2,b,O),v(P,I+4,S,O)}}function v(_,b,S,C){C<0&&_.x===1&&(a[b]=_.x-1),S.x===0&&S.z===0&&(a[b]=C/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new Ul(e.vertices,e.indices,e.radius,e.details)}}class P0 extends Ul{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new P0(e.radius,e.detail)}}const Gv=new J,Wv=new J,N1=new J,$v=new mr;class Pxe extends Vt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),o=Math.cos(Yf*t),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,u=[0,0,0],c=["a","b","c"],d=new Array(3),h={},m=[];for(let g=0;g<l;g+=3){a?(u[0]=a.getX(g),u[1]=a.getX(g+1),u[2]=a.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:y,c:x}=$v;if(v.fromBufferAttribute(s,u[0]),y.fromBufferAttribute(s,u[1]),x.fromBufferAttribute(s,u[2]),$v.getNormal(N1),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const b=(_+1)%3,S=d[_],C=d[b],E=$v[c[_]],T=$v[c[b]],P=`${S}_${C}`,L=`${C}_${S}`;L in h&&h[L]?(N1.dot(h[L].normal)<=o&&(m.push(E.x,E.y,E.z),m.push(T.x,T.y,T.z)),h[L]=null):P in h||(h[P]={index0:u[_],index1:u[b],normal:N1.clone()})}}for(const g in h)if(h[g]){const{index0:v,index1:y}=h[g];Gv.fromBufferAttribute(s,v),Wv.fromBufferAttribute(s,y),m.push(Gv.x,Gv.y,Gv.z),m.push(Wv.x,Wv.y,Wv.z)}this.setAttribute("position",new At(m,3))}}}class $d extends M0{constructor(e){super(e),this.uuid=Do(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new M0().fromJSON(i))}return this}}const Axe={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let o=YU(n,0,i,t,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,u,c,d,h,m;if(r&&(o=Dxe(n,e,o,t)),n.length>80*t){s=u=n[0],l=c=n[1];for(let g=t;g<i;g+=t)d=n[g],h=n[g+1],d<s&&(s=d),h<l&&(l=h),d>u&&(u=d),h>c&&(c=h);m=Math.max(u-s,c-l),m=m!==0?1/m:0}return pm(o,a,t,s,l,m),a}};function YU(n,e,t,r,i){let o,a;if(i===jxe(n,e,t,r)>0)for(o=e;o<t;o+=r)a=nk(o,n[o],n[o+1],a);else for(o=t-r;o>=e;o-=r)a=nk(o,n[o],n[o+1],a);return a&&T_(a,a.next)&&(gm(a),a=a.next),a}function Hl(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(T_(t,t.next)||Yn(t.prev,t,t.next)===0)){if(gm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function pm(n,e,t,r,i,o,a){if(!n)return;!a&&o&&Uxe(n,r,i,o);let s=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,o?Ixe(n,r,i,o):Rxe(n)){e.push(l.i/t),e.push(n.i/t),e.push(u.i/t),gm(n),n=u.next,s=u.next;continue}if(n=u,n===s){a?a===1?(n=Nxe(Hl(n),e,t),pm(n,e,t,r,i,o,2)):a===2&&Lxe(n,e,t,r,i,o):pm(Hl(n),e,t,r,i,o,1);break}}}function Rxe(n){const e=n.prev,t=n,r=n.next;if(Yn(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Ff(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Yn(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ixe(n,e,t,r){const i=n.prev,o=n,a=n.next;if(Yn(i,o,a)>=0)return!1;const s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=tM(s,l,e,t,r),h=tM(u,c,e,t,r);let m=n.prevZ,g=n.nextZ;for(;m&&m.z>=d&&g&&g.z<=h;){if(m!==n.prev&&m!==n.next&&Ff(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&Yn(m.prev,m,m.next)>=0||(m=m.prevZ,g!==n.prev&&g!==n.next&&Ff(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&Yn(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;m&&m.z>=d;){if(m!==n.prev&&m!==n.next&&Ff(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&Yn(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;g&&g.z<=h;){if(g!==n.prev&&g!==n.next&&Ff(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&Yn(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function Nxe(n,e,t){let r=n;do{const i=r.prev,o=r.next.next;!T_(i,o)&&qU(i,r,r.next,o)&&mm(i,o)&&mm(o,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(o.i/t),gm(r),gm(r.next),r=n=o),r=r.next}while(r!==n);return Hl(r)}function Lxe(n,e,t,r,i,o){let a=n;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&Gxe(a,s)){let l=ZU(a,s);a=Hl(a,a.next),l=Hl(l,l.next),pm(a,e,t,r,i,o),pm(l,e,t,r,i,o);return}s=s.next}a=a.next}while(a!==n)}function Dxe(n,e,t,r){const i=[];let o,a,s,l,u;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:n.length,u=YU(n,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Vxe(u));for(i.sort(kxe),o=0;o<i.length;o++)Fxe(i[o],t),t=Hl(t,t.next);return t}function kxe(n,e){return n.x-e.x}function Fxe(n,e){if(e=zxe(n,e),e){const t=ZU(e,n);Hl(e,e.next),Hl(t,t.next)}}function zxe(n,e){let t=e;const r=n.x,i=n.y;let o=-1/0,a;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const h=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=r&&h>o){if(o=h,h===r){if(i===t.y)return t;if(i===t.next.y)return t.next}a=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!a)return null;if(r===o)return a;const s=a,l=a.x,u=a.y;let c=1/0,d;t=a;do r>=t.x&&t.x>=l&&r!==t.x&&Ff(i<u?r:o,i,l,u,i<u?o:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),mm(t,n)&&(d<c||d===c&&(t.x>a.x||t.x===a.x&&Bxe(a,t)))&&(a=t,c=d)),t=t.next;while(t!==s);return a}function Bxe(n,e){return Yn(n.prev,n,e.prev)<0&&Yn(e.next,n,n.next)<0}function Uxe(n,e,t,r){let i=n;do i.z===null&&(i.z=tM(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Hxe(i)}function Hxe(n){let e,t,r,i,o,a,s,l,u=1;do{for(t=n,n=null,o=null,a=0;t;){for(a++,r=t,s=0,e=0;e<u&&(s++,r=r.nextZ,!!r);e++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,u*=2}while(a>1);return n}function tM(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Vxe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Ff(n,e,t,r,i,o,a,s){return(i-a)*(e-s)-(n-a)*(o-s)>=0&&(n-a)*(r-s)-(t-a)*(e-s)>=0&&(t-a)*(o-s)-(i-a)*(r-s)>=0}function Gxe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Wxe(n,e)&&(mm(n,e)&&mm(e,n)&&$xe(n,e)&&(Yn(n.prev,n,e.prev)||Yn(n,e.prev,e))||T_(n,e)&&Yn(n.prev,n,n.next)>0&&Yn(e.prev,e,e.next)>0)}function Yn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function T_(n,e){return n.x===e.x&&n.y===e.y}function qU(n,e,t,r){const i=Kv(Yn(n,e,t)),o=Kv(Yn(n,e,r)),a=Kv(Yn(t,r,n)),s=Kv(Yn(t,r,e));return!!(i!==o&&a!==s||i===0&&jv(n,t,e)||o===0&&jv(n,r,e)||a===0&&jv(t,n,r)||s===0&&jv(t,e,r))}function jv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Kv(n){return n>0?1:n<0?-1:0}function Wxe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&qU(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function mm(n,e){return Yn(n.prev,n,n.next)<0?Yn(n,e,n.next)>=0&&Yn(n,n.prev,e)>=0:Yn(n,e,n.prev)<0||Yn(n,n.next,e)<0}function $xe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function ZU(n,e){const t=new nM(n.i,n.x,n.y),r=new nM(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function nk(n,e,t,r){const i=new nM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function gm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function nM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jxe(n,e,t,r){let i=0;for(let o=e,a=t-r;o<t;o+=r)i+=(n[a]-n[o])*(n[o+1]+n[a+1]),a=o;return i}class Il{static area(e){const t=e.length;let r=0;for(let i=t-1,o=0;o<t;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Il.area(e)<0}static triangulateShape(e,t){const r=[],i=[],o=[];rk(e),ik(r,e);let a=e.length;t.forEach(rk);for(let l=0;l<t.length;l++)i.push(a),a+=t[l].length,ik(r,t[l]);const s=Axe.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function rk(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function ik(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Vl extends Vt{constructor(e=new $d([new $e(.5,.5),new $e(-.5,.5),new $e(-.5,-.5),new $e(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];a(u)}this.setAttribute("position",new At(i,3)),this.setAttribute("uv",new At(o,2)),this.computeVertexNormals();function a(s){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1;let d=t.depth!==void 0?t.depth:1,h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:Kxe;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let b,S=!1,C,E,T,P;x&&(b=x.getSpacedPoints(c),S=!0,h=!1,C=x.computeFrenetFrames(c,!1),E=new J,T=new J,P=new J),h||(y=0,m=0,g=0,v=0);const L=s.extractPoints(u);let I=L.shape;const O=L.holes;if(!Il.isClockWise(I)){I=I.reverse();for(let le=0,ce=O.length;le<ce;le++){const we=O[le];Il.isClockWise(we)&&(O[le]=we.reverse())}}const U=Il.triangulateShape(I,O),k=I;for(let le=0,ce=O.length;le<ce;le++){const we=O[le];I=I.concat(we)}function H(le,ce,we){return ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().multiplyScalar(we).add(le)}const $=I.length,V=U.length;function N(le,ce,we){let De,pe,Oe;const Te=le.x-ce.x,je=le.y-ce.y,it=we.x-le.x,nt=we.y-le.y,q=Te*Te+je*je,z=Te*nt-je*it;if(Math.abs(z)>Number.EPSILON){const re=Math.sqrt(q),_e=Math.sqrt(it*it+nt*nt),ue=ce.x-je/re,Me=ce.y+Te/re,Ue=we.x-nt/_e,K=we.y+it/_e,Ne=((Ue-ue)*nt-(K-Me)*it)/(Te*nt-je*it);De=ue+Te*Ne-le.x,pe=Me+je*Ne-le.y;const at=De*De+pe*pe;if(at<=2)return new $e(De,pe);Oe=Math.sqrt(at/2)}else{let re=!1;Te>Number.EPSILON?it>Number.EPSILON&&(re=!0):Te<-Number.EPSILON?it<-Number.EPSILON&&(re=!0):Math.sign(je)===Math.sign(nt)&&(re=!0),re?(De=-je,pe=Te,Oe=Math.sqrt(q)):(De=Te,pe=je,Oe=Math.sqrt(q/2))}return new $e(De/Oe,pe/Oe)}const W=[];for(let le=0,ce=k.length,we=ce-1,De=le+1;le<ce;le++,we++,De++)we===ce&&(we=0),De===ce&&(De=0),W[le]=N(k[le],k[we],k[De]);const ee=[];let j,G=W.concat();for(let le=0,ce=O.length;le<ce;le++){const we=O[le];j=[];for(let De=0,pe=we.length,Oe=pe-1,Te=De+1;De<pe;De++,Oe++,Te++)Oe===pe&&(Oe=0),Te===pe&&(Te=0),j[De]=N(we[De],we[Oe],we[Te]);ee.push(j),G=G.concat(j)}for(let le=0;le<y;le++){const ce=le/y,we=m*Math.cos(ce*Math.PI/2),De=g*Math.sin(ce*Math.PI/2)+v;for(let pe=0,Oe=k.length;pe<Oe;pe++){const Te=H(k[pe],W[pe],De);de(Te.x,Te.y,-we)}for(let pe=0,Oe=O.length;pe<Oe;pe++){const Te=O[pe];j=ee[pe];for(let je=0,it=Te.length;je<it;je++){const nt=H(Te[je],j[je],De);de(nt.x,nt.y,-we)}}}const ne=g+v;for(let le=0;le<$;le++){const ce=h?H(I[le],G[le],ne):I[le];S?(T.copy(C.normals[0]).multiplyScalar(ce.x),E.copy(C.binormals[0]).multiplyScalar(ce.y),P.copy(b[0]).add(T).add(E),de(P.x,P.y,P.z)):de(ce.x,ce.y,0)}for(let le=1;le<=c;le++)for(let ce=0;ce<$;ce++){const we=h?H(I[ce],G[ce],ne):I[ce];S?(T.copy(C.normals[le]).multiplyScalar(we.x),E.copy(C.binormals[le]).multiplyScalar(we.y),P.copy(b[le]).add(T).add(E),de(P.x,P.y,P.z)):de(we.x,we.y,d/c*le)}for(let le=y-1;le>=0;le--){const ce=le/y,we=m*Math.cos(ce*Math.PI/2),De=g*Math.sin(ce*Math.PI/2)+v;for(let pe=0,Oe=k.length;pe<Oe;pe++){const Te=H(k[pe],W[pe],De);de(Te.x,Te.y,d+we)}for(let pe=0,Oe=O.length;pe<Oe;pe++){const Te=O[pe];j=ee[pe];for(let je=0,it=Te.length;je<it;je++){const nt=H(Te[je],j[je],De);S?de(nt.x,nt.y+b[c-1].y,b[c-1].x+we):de(nt.x,nt.y,d+we)}}}ye(),xe();function ye(){const le=i.length/3;if(h){let ce=0,we=$*ce;for(let De=0;De<V;De++){const pe=U[De];be(pe[2]+we,pe[1]+we,pe[0]+we)}ce=c+y*2,we=$*ce;for(let De=0;De<V;De++){const pe=U[De];be(pe[0]+we,pe[1]+we,pe[2]+we)}}else{for(let ce=0;ce<V;ce++){const we=U[ce];be(we[2],we[1],we[0])}for(let ce=0;ce<V;ce++){const we=U[ce];be(we[0]+$*c,we[1]+$*c,we[2]+$*c)}}r.addGroup(le,i.length/3-le,0)}function xe(){const le=i.length/3;let ce=0;oe(k,ce),ce+=k.length;for(let we=0,De=O.length;we<De;we++){const pe=O[we];oe(pe,ce),ce+=pe.length}r.addGroup(le,i.length/3-le,1)}function oe(le,ce){let we=le.length;for(;--we>=0;){const De=we;let pe=we-1;pe<0&&(pe=le.length-1);for(let Oe=0,Te=c+y*2;Oe<Te;Oe++){const je=$*Oe,it=$*(Oe+1),nt=ce+De+je,q=ce+pe+je,z=ce+pe+it,re=ce+De+it;ke(nt,q,z,re)}}}function de(le,ce,we){l.push(le),l.push(ce),l.push(we)}function be(le,ce,we){he(le),he(ce),he(we);const De=i.length/3,pe=_.generateTopUV(r,i,De-3,De-2,De-1);Le(pe[0]),Le(pe[1]),Le(pe[2])}function ke(le,ce,we,De){he(le),he(ce),he(De),he(ce),he(we),he(De);const pe=i.length/3,Oe=_.generateSideWallUV(r,i,pe-6,pe-3,pe-2,pe-1);Le(Oe[0]),Le(Oe[1]),Le(Oe[3]),Le(Oe[1]),Le(Oe[2]),Le(Oe[3])}function he(le){i.push(l[le*3+0]),i.push(l[le*3+1]),i.push(l[le*3+2])}function Le(le){o.push(le.x),o.push(le.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Xxe(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=t[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new NO[i.type]().fromJSON(i)),new Vl(r,e.options)}}const Kxe={generateTopUV:function(n,e,t,r,i){const o=e[t*3],a=e[t*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new $e(o,a),new $e(s,l),new $e(u,c)]},generateSideWallUV:function(n,e,t,r,i,o){const a=e[t*3],s=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],d=e[r*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[o*3],y=e[o*3+1],x=e[o*3+2];return Math.abs(s-c)<Math.abs(a-u)?[new $e(a,1-l),new $e(u,1-d),new $e(h,1-g),new $e(v,1-x)]:[new $e(s,1-l),new $e(c,1-d),new $e(m,1-g),new $e(y,1-x)]}};function Xxe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class A0 extends Ul{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new A0(e.radius,e.detail)}}class bl extends Ul{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bl(e.radius,e.detail)}}class vm extends Vt{constructor(e=.5,t=1,r=8,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let d=e;const h=(t-e)/i,m=new J,g=new $e;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const x=o+y/r*a;m.x=d*Math.cos(x),m.y=d*Math.sin(x),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,c.push(g.x,g.y)}d+=h}for(let v=0;v<i;v++){const y=v*(r+1);for(let x=0;x<r;x++){const _=x+y,b=_,S=_+r+1,C=_+r+2,E=_+1;s.push(b,S,E),s.push(S,C,E)}}this.setIndex(s),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(u,3)),this.setAttribute("uv",new At(c,2))}static fromJSON(e){return new vm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ym extends Vt{constructor(e=new $d([new $e(0,.5),new $e(-.5,-.5),new $e(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new At(i,3)),this.setAttribute("normal",new At(o,3)),this.setAttribute("uv",new At(a,2));function u(c){const d=i.length/3,h=c.extractPoints(t);let m=h.shape;const g=h.holes;Il.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,x=g.length;y<x;y++){const _=g[y];Il.isClockWise(_)===!0&&(g[y]=_.reverse())}const v=Il.triangulateShape(m,g);for(let y=0,x=g.length;y<x;y++){const _=g[y];m=m.concat(_)}for(let y=0,x=m.length;y<x;y++){const _=m[y];i.push(_.x,_.y,0),o.push(0,0,1),a.push(_.x,_.y)}for(let y=0,x=v.length;y<x;y++){const _=v[y],b=_[0]+d,S=_[1]+d,C=_[2]+d;r.push(b,S,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Yxe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=t[e.shapes[i]];r.push(a)}return new ym(r,e.curveSegments)}}function Yxe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class _d extends Vt{constructor(e=1,t=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let u=0;const c=[],d=new J,h=new J,m=[],g=[],v=[],y=[];for(let x=0;x<=r;x++){const _=[],b=x/r;let S=0;x==0&&a==0?S=.5/t:x==r&&l==Math.PI&&(S=-.5/t);for(let C=0;C<=t;C++){const E=C/t;d.x=-e*Math.cos(i+E*o)*Math.sin(a+b*s),d.y=e*Math.cos(a+b*s),d.z=e*Math.sin(i+E*o)*Math.sin(a+b*s),g.push(d.x,d.y,d.z),h.copy(d).normalize(),v.push(h.x,h.y,h.z),y.push(E+S,1-b),_.push(u++)}c.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const b=c[x][_+1],S=c[x][_],C=c[x+1][_],E=c[x+1][_+1];(x!==0||a>0)&&m.push(b,S,E),(x!==r-1||l<Math.PI)&&m.push(S,C,E)}this.setIndex(m),this.setAttribute("position",new At(g,3)),this.setAttribute("normal",new At(v,3)),this.setAttribute("uv",new At(y,2))}static fromJSON(e){return new _d(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class R0 extends Ul{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new R0(e.radius,e.detail)}}class bs extends Vt{constructor(e=1,t=.4,r=8,i=6,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],u=[],c=new J,d=new J,h=new J;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*o,y=m/r*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(v),d.y=(e+t*Math.cos(y))*Math.sin(v),d.z=t*Math.sin(y),s.push(d.x,d.y,d.z),c.x=e*Math.cos(v),c.y=e*Math.sin(v),h.subVectors(d,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,x=(i+1)*(m-1)+g,_=(i+1)*m+g;a.push(v,y,_),a.push(y,x,_)}this.setIndex(a),this.setAttribute("position",new At(s,3)),this.setAttribute("normal",new At(l,3)),this.setAttribute("uv",new At(u,2))}static fromJSON(e){return new bs(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class I0 extends Vt{constructor(e=1,t=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],d=new J,h=new J,m=new J,g=new J,v=new J,y=new J,x=new J;for(let b=0;b<=r;++b){const S=b/r*o*Math.PI*2;_(S,o,a,e,m),_(S+.01,o,a,e,g),y.subVectors(g,m),x.addVectors(g,m),v.crossVectors(y,x),x.crossVectors(v,y),v.normalize(),x.normalize();for(let C=0;C<=i;++C){const E=C/i*Math.PI*2,T=-t*Math.cos(E),P=t*Math.sin(E);d.x=m.x+(T*x.x+P*v.x),d.y=m.y+(T*x.y+P*v.y),d.z=m.z+(T*x.z+P*v.z),l.push(d.x,d.y,d.z),h.subVectors(d,m).normalize(),u.push(h.x,h.y,h.z),c.push(b/r),c.push(C/i)}}for(let b=1;b<=r;b++)for(let S=1;S<=i;S++){const C=(i+1)*(b-1)+(S-1),E=(i+1)*b+(S-1),T=(i+1)*b+S,P=(i+1)*(b-1)+S;s.push(C,E,P),s.push(E,T,P)}this.setIndex(s),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(u,3)),this.setAttribute("uv",new At(c,2));function _(b,S,C,E,T){const P=Math.cos(b),L=Math.sin(b),I=C/S*b,O=Math.cos(I);T.x=E*(2+O)*.5*P,T.y=E*(2+O)*L*.5,T.z=E*Math.sin(I)*.5}}static fromJSON(e){return new I0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class N0 extends Vt{constructor(e=new RO(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),t=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(t,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new J,l=new J,u=new $e;let c=new J;const d=[],h=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(m,2));function v(){for(let b=0;b<t;b++)y(b);y(o===!1?t:0),_(),x()}function y(b){c=e.getPointAt(b/t,c);const S=a.normals[b],C=a.binormals[b];for(let E=0;E<=i;E++){const T=E/i*Math.PI*2,P=Math.sin(T),L=-Math.cos(T);l.x=L*S.x+P*C.x,l.y=L*S.y+P*C.y,l.z=L*S.z+P*C.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,d.push(s.x,s.y,s.z)}}function x(){for(let b=1;b<=t;b++)for(let S=1;S<=i;S++){const C=(i+1)*(b-1)+(S-1),E=(i+1)*b+(S-1),T=(i+1)*b+S,P=(i+1)*(b-1)+S;g.push(C,E,P),g.push(E,T,P)}}function _(){for(let b=0;b<=t;b++)for(let S=0;S<=i;S++)u.x=b/t,u.y=S/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new N0(new NO[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class JU extends Vt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new J,o=new J;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const d=l[u],h=d.start,m=d.count;for(let g=h,v=h+m;g<v;g+=3)for(let y=0;y<3;y++){const x=s.getX(g+y),_=s.getX(g+(y+1)%3);i.fromBufferAttribute(a,x),o.fromBufferAttribute(a,_),ok(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,d=3*s+(u+1)%3;i.fromBufferAttribute(a,c),o.fromBufferAttribute(a,d),ok(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new At(t,3))}}}function ok(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var ak=Object.freeze({__proto__:null,BoxGeometry:Hn,BoxBufferGeometry:Hn,CapsuleGeometry:E0,CapsuleBufferGeometry:E0,CircleGeometry:T0,CircleBufferGeometry:T0,ConeGeometry:O0,ConeBufferGeometry:O0,CylinderGeometry:br,CylinderBufferGeometry:br,DodecahedronGeometry:P0,DodecahedronBufferGeometry:P0,EdgesGeometry:Pxe,ExtrudeGeometry:Vl,ExtrudeBufferGeometry:Vl,IcosahedronGeometry:A0,IcosahedronBufferGeometry:A0,LatheGeometry:hm,LatheBufferGeometry:hm,OctahedronGeometry:bl,OctahedronBufferGeometry:bl,PlaneGeometry:Ia,PlaneBufferGeometry:Ia,PolyhedronGeometry:Ul,PolyhedronBufferGeometry:Ul,RingGeometry:vm,RingBufferGeometry:vm,ShapeGeometry:ym,ShapeBufferGeometry:ym,SphereGeometry:_d,SphereBufferGeometry:_d,TetrahedronGeometry:R0,TetrahedronBufferGeometry:R0,TorusGeometry:bs,TorusBufferGeometry:bs,TorusKnotGeometry:I0,TorusKnotBufferGeometry:I0,TubeGeometry:N0,TubeBufferGeometry:N0,WireframeGeometry:JU});class QU extends Zn{constructor(e){super(),this.type="ShadowMaterial",this.color=new pt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}QU.prototype.isShadowMaterial=!0;class eH extends Ho{constructor(e){super(e),this.type="RawShaderMaterial"}}eH.prototype.isRawShaderMaterial=!0;class jd extends Zn{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pc,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}jd.prototype.isMeshStandardMaterial=!0;class Jl extends jd{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return hr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new pt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new pt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new pt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}Jl.prototype.isMeshPhysicalMaterial=!0;class tH extends Zn{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new pt(16777215),this.specular=new pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pc,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=p_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}tH.prototype.isMeshPhongMaterial=!0;class nH extends Zn{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pc,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}nH.prototype.isMeshToonMaterial=!0;class rH extends Zn{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pc,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}rH.prototype.isMeshNormalMaterial=!0;class iH extends Zn{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=p_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}iH.prototype.isMeshLambertMaterial=!0;class oH extends Zn{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pc,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}oH.prototype.isMeshMatcapMaterial=!0;class aH extends ja{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}aH.prototype.isLineDashedMaterial=!0;const qxe={ShadowMaterial:QU,SpriteMaterial:MO,RawShaderMaterial:eH,ShaderMaterial:Ho,PointsMaterial:C_,MeshPhysicalMaterial:Jl,MeshStandardMaterial:jd,MeshPhongMaterial:tH,MeshToonMaterial:nH,MeshNormalMaterial:rH,MeshLambertMaterial:iH,MeshDepthMaterial:SO,MeshDistanceMaterial:CO,MeshBasicMaterial:vr,MeshMatcapMaterial:oH,LineDashedMaterial:aH,LineBasicMaterial:ja,Material:Zn};Zn.fromType=function(n){return new qxe[n]};const Vn={arraySlice:function(n,e,t){return Vn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,o){return n[i]-n[o]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,a=0;a!==r;++o){const s=t[o]*e;for(let l=0;l!==e;++l)i[a++]=n[s+l]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),t.push.apply(t,a)),o=n[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(t,t.length)),o=n[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),t.push(a)),o=n[i++];while(o!==void 0)},subclip:function(n,e,t,r,i=30){const o=n.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),d=[],h=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<t||g>=r)){d.push(u.times[m]);for(let v=0;v<c;++v)h.push(u.values[m*c+v])}}d.length!==0&&(u.times=Vn.convertArray(d,u.times.constructor),u.values=Vn.convertArray(h,u.values.constructor),a.push(u))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=t.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===s.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let h=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const g=s.times.length-1;let v;if(o<=s.times[0]){const x=c,_=d-c;v=Vn.arraySlice(s.values,x,_)}else if(o>=s.times[g]){const x=g*d+c,_=x+d-c;v=Vn.arraySlice(s.values,x,_)}else{const x=s.createInterpolant(),_=c,b=d-c;x.evaluate(o),v=Vn.arraySlice(x.resultBuffer,_,b)}l==="quaternion"&&new wn().fromArray(v).normalize().conjugate().toArray(v);const y=u.times.length;for(let x=0;x<y;++x){const _=x*m+h;if(l==="quaternion")wn.multiplyQuaternionsFlat(u.values,_,v,0,u.values,_);else{const b=m-h*2;for(let S=0;S<b;++S)u.values[_+S]-=v[S]}}}return n.blendMode=wU,n}};class Ns{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,o)}if(r===s)break;if(o=i,i=t[++r],e<i)break t}a=t.length;break n}if(!(e>=o)){const s=t[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=o,o=t[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<t[s]?a=s:r=s+1}if(i=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,o,e)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)t[a]=r[o+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Ns.prototype.beforeStart_=Ns.prototype.copySampleValue_;Ns.prototype.afterEnd_=Ns.prototype.copySampleValue_;class Zxe extends Ns{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:If,endingEnd:If}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Nf:o=e,s=2*t-r;break;case b0:o=i.length-2,s=t+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Nf:a=e,l=2*r-t;break;case b0:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-s),this._weightNext=u/(l-r),this._offsetPrev=o*c,this._offsetNext=a*c}interpolate_(e,t,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),v=g*g,y=v*g,x=-h*y+2*h*v-h*g,_=(1+h)*y+(-1.5-2*h)*v+(-.5+h)*g+1,b=(-1-m)*y+(1.5+m)*v+.5*g,S=m*y-m*v;for(let C=0;C!==s;++C)o[C]=x*a[c+C]+_*a[u+C]+b*a[l+C]+S*a[d+C];return o}}class sH extends Ns{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-t)/(i-t),d=1-c;for(let h=0;h!==s;++h)o[h]=a[u+h]*d+a[l+h]*c;return o}}class Jxe extends Ns{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ka{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Vn.convertArray(t,this.TimeBufferType),this.values=Vn.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Vn.convertArray(e.times,Array),values:Vn.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Jxe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new sH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Zxe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case um:t=this.InterpolantFactoryMethodDiscrete;break;case vd:t=this.InterpolantFactoryMethodLinear;break;case e1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return um;case this.InterpolantFactoryMethodLinear:return vd;case this.InterpolantFactoryMethodSmooth:return e1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>t;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=Vn.arraySlice(r,o,a),this.values=Vn.arraySlice(this.values,o*s,a*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&Vn.isTypedArray(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=Vn.arraySlice(this.times),t=Vn.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===e1,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const d=s*r,h=d-r,m=d+r;for(let g=0;g!==r;++g){const v=t[d+g];if(v!==t[h+g]||v!==t[m+g]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const d=s*r,h=a*r;for(let m=0;m!==r;++m)t[h+m]=t[d+m]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,u=0;u!==r;++u)t[l+u]=t[s+u];++a}return a!==e.length?(this.times=Vn.arraySlice(e,0,a),this.values=Vn.arraySlice(t,0,a*r)):(this.times=e,this.values=t),this}clone(){const e=Vn.arraySlice(this.times,0),t=Vn.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ka.prototype.TimeBufferType=Float32Array;Ka.prototype.ValueBufferType=Float32Array;Ka.prototype.DefaultInterpolation=vd;class Kd extends Ka{}Kd.prototype.ValueTypeName="bool";Kd.prototype.ValueBufferType=Array;Kd.prototype.DefaultInterpolation=um;Kd.prototype.InterpolantFactoryMethodLinear=void 0;Kd.prototype.InterpolantFactoryMethodSmooth=void 0;class lH extends Ka{}lH.prototype.ValueTypeName="color";class xm extends Ka{}xm.prototype.ValueTypeName="number";class Qxe extends Ns{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-t)/(i-t);let u=e*s;for(let c=u+s;u!==c;u+=4)wn.slerpFlat(o,0,a,u-s,a,u,l);return o}}class ac extends Ka{InterpolantFactoryMethodLinear(e){return new Qxe(this.times,this.values,this.getValueSize(),e)}}ac.prototype.ValueTypeName="quaternion";ac.prototype.DefaultInterpolation=vd;ac.prototype.InterpolantFactoryMethodSmooth=void 0;class Xd extends Ka{}Xd.prototype.ValueTypeName="string";Xd.prototype.ValueBufferType=Array;Xd.prototype.DefaultInterpolation=um;Xd.prototype.InterpolantFactoryMethodLinear=void 0;Xd.prototype.InterpolantFactoryMethodSmooth=void 0;class _m extends Ka{}_m.prototype.ValueTypeName="vector";class L0{constructor(e,t=-1,r,i=gO){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Do(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)t.push(t_e(r[a]).scale(i));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)t.push(Ka.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const o=t.length,a=[];for(let s=0;s<o;s++){let l=[],u=[];l.push((s+o-1)%o,s,(s+1)%o),u.push(0,1,0);const c=Vn.getKeyframeOrder(l);l=Vn.sortedArray(l,1,c),u=Vn.sortedArray(u,1,c),!i&&l[0]===0&&(l.push(o),u.push(u[0])),a.push(new xm(".morphTargetInfluences["+t[s].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(o);if(c&&c.length>1){const d=c[1];let h=i[d];h||(i[d]=h=[]),h.push(u)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],t,r));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,h,m,g,v){if(m.length!==0){const y=[],x=[];Vn.flattenJSON(m,y,x,g),y.length!==0&&v.push(new d(h,y,x))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const h=u[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let v=0;v<h[g].morphTargets.length;v++)m[h[g].morphTargets[v]]=-1;for(const v in m){const y=[],x=[];for(let _=0;_!==h[g].morphTargets.length;++_){const b=h[g];y.push(b.time),x.push(b.morphTarget===v?1:0)}i.push(new xm(".morphTargetInfluence["+v+"]",y,x))}l=m.length*a}else{const m=".bones["+t[d].name+"]";r(_m,m+".position",h,"pos",i),r(ac,m+".quaternion",h,"rot",i),r(_m,m+".scale",h,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function e_e(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return xm;case"vector":case"vector2":case"vector3":case"vector4":return _m;case"color":return lH;case"quaternion":return ac;case"bool":case"boolean":return Kd;case"string":return Xd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function t_e(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=e_e(n.type);if(n.times===void 0){const t=[],r=[];Vn.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const bd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class uH{constructor(e,t,r){const i=this;let o=!1,a=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){s++,o===!1&&i.onStart!==void 0&&i.onStart(c,a,s),o=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,d){return u.push(c,d),this},this.removeHandler=function(c){const d=u.indexOf(c);return d!==-1&&u.splice(d,2),this},this.getHandler=function(c){for(let d=0,h=u.length;d<h;d+=2){const m=u[d],g=u[d+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const n_e=new uH;class ho{constructor(e){this.manager=e!==void 0?e:n_e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,o){r.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const fs={};class Ha extends ho{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=bd.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(fs[e]!==void 0){fs[e].push({onLoad:t,onProgress:r,onError:i});return}fs[e]=[],fs[e].push({onLoad:t,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=fs[e],d=u.body.getReader(),h=u.headers.get("Content-Length"),m=h?parseInt(h):0,g=m!==0;let v=0;const y=new ReadableStream({start(x){_();function _(){d.read().then(({done:b,value:S})=>{if(b)x.close();else{v+=S.byteLength;const C=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let E=0,T=c.length;E<T;E++){const P=c[E];P.onProgress&&P.onProgress(C)}x.enqueue(S),_()}})}}});return new Response(y)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(s),h=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(h);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{bd.add(e,u);const c=fs[e];delete fs[e];for(let d=0,h=c.length;d<h;d++){const m=c[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=fs[e];if(c===void 0)throw this.manager.itemError(e),u;delete fs[e];for(let d=0,h=c.length;d<h;d++){const m=c[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class D0 extends ho{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=bd.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const s=dm("img");function l(){c(),bd.add(e,this),t&&t(this),o.manager.itemEnd(e)}function u(d){c(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class r_e extends ho{constructor(e){super(e)}load(e,t,r,i){const o=new $m,a=new D0(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(u){a.load(e[u],function(c){o.images[u]=c,s++,s===6&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return o}}class cH extends ho{constructor(e){super(e)}load(e,t,r,i){const o=this,a=new qf,s=new Ha(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){const u=o.parse(l);!u||(u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:pi,a.wrapT=u.wrapT!==void 0?u.wrapT:pi,a.magFilter=u.magFilter!==void 0?u.magFilter:Sn,a.minFilter=u.minFilter!==void 0?u.minFilter:Sn,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(a.encoding=u.encoding),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Yl),u.mipmapCount===1&&(a.minFilter=Sn),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u))},r,i),a}}class bm extends ho{constructor(e){super(e)}load(e,t,r,i){const o=new ur,a=new D0(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,t!==void 0&&t(o)},r,i),o}}class Va extends Yt{constructor(e,t=1){super(),this.type="Light",this.color=new pt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}Va.prototype.isLight=!0;class LO extends Va{constructor(e,t,r){super(e,r),this.type="HemisphereLight",this.position.copy(Yt.DefaultUp),this.updateMatrix(),this.groundColor=new pt(t)}copy(e){return Va.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}LO.prototype.isHemisphereLight=!0;const sk=new Mt,lk=new J,uk=new J;class DO{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $e(512,512),this.map=null,this.mapPass=null,this.matrix=new Mt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new g_,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new vn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;lk.setFromMatrixPosition(e.matrixWorld),t.position.copy(lk),uk.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(uk),t.updateMatrixWorld(),sk.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sk),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class fH extends DO{constructor(){super(new Vr(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,r=fm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}fH.prototype.isSpotLightShadow=!0;class kO extends Va{constructor(e,t,r=0,i=Math.PI/3,o=0,a=1){super(e,t),this.type="SpotLight",this.position.copy(Yt.DefaultUp),this.updateMatrix(),this.target=new Yt,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.shadow=new fH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}kO.prototype.isSpotLight=!0;const ck=new Mt,Hh=new J,L1=new J;class dH extends DO{constructor(){super(new Vr(90,1,.5,500)),this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new vn(2,1,1,1),new vn(0,1,1,1),new vn(3,1,1,1),new vn(1,1,1,1),new vn(3,0,1,1),new vn(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Hh.setFromMatrixPosition(e.matrixWorld),r.position.copy(Hh),L1.copy(r.position),L1.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(L1),r.updateMatrixWorld(),i.makeTranslation(-Hh.x,-Hh.y,-Hh.z),ck.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ck)}}dH.prototype.isPointLightShadow=!0;class FO extends Va{constructor(e,t,r=0,i=1){super(e,t),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new dH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}FO.prototype.isPointLight=!0;class hH extends DO{constructor(){super(new jm(-5,5,5,-5,.5,500))}}hH.prototype.isDirectionalLightShadow=!0;class zO extends Va{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(Yt.DefaultUp),this.updateMatrix(),this.target=new Yt,this.shadow=new hH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}zO.prototype.isDirectionalLight=!0;class pH extends Va{constructor(e,t){super(e,t),this.type="AmbientLight"}}pH.prototype.isAmbientLight=!0;class mH extends Va{constructor(e,t,r=10,i=10){super(e,t),this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}mH.prototype.isRectAreaLight=!0;class gH{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*o),t.addScaledVector(a[3],.488603*r),t.addScaledVector(a[4],1.092548*(r*i)),t.addScaledVector(a[5],1.092548*(i*o)),t.addScaledVector(a[6],.315392*(3*o*o-1)),t.addScaledVector(a[7],1.092548*(r*o)),t.addScaledVector(a[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*i),t.addScaledVector(a[2],2*.511664*o),t.addScaledVector(a[3],2*.511664*r),t.addScaledVector(a[4],2*.429043*r*i),t.addScaledVector(a[5],2*.429043*i*o),t.addScaledVector(a[6],.743125*o*o-.247708),t.addScaledVector(a[7],2*.429043*r*o),t.addScaledVector(a[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,o=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-i*i)}}gH.prototype.isSphericalHarmonics3=!0;class O_ extends Va{constructor(e=new gH,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}O_.prototype.isLightProbe=!0;class i_e extends ho{constructor(e){super(e),this.textures={}}load(e,t,r,i){const o=this,a=new Ha(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const i=Zn.fromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new pt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new pt().setHex(a.value);break;case"v2":i.uniforms[o].value=new $e().fromArray(a.value);break;case"v3":i.uniforms[o].value=new J().fromArray(a.value);break;case"v4":i.uniforms[o].value=new vn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new Nr().fromArray(a.value);break;case"m4":i.uniforms[o].value=new Mt().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new $e().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new $e().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class Na{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class vH extends Vt{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}vH.prototype.isInstancedBufferGeometry=!0;class o_e extends ho{constructor(e){super(e)}load(e,t,r,i){const o=this,a=new Ha(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const y=m.interleavedBuffers[g],x=o(m,y.buffer),_=Lf(y.type,x),b=new vc(_,y.stride);return b.uuid=y.uuid,t[g]=b,b}function o(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],x=new Uint32Array(y).buffer;return r[g]=x,x}const a=e.isInstancedBufferGeometry?new vH:new Vt,s=e.data.index;if(s!==void 0){const m=Lf(s.type,s.array);a.setIndex(new jn(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new Bl(y,g.itemSize,g.offset,g.normalized)}else{const y=Lf(g.type,g.array),x=g.isInstancedBufferAttribute?xd:jn;v=new x(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),a.setAttribute(m,v)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],v=[];for(let y=0,x=g.length;y<x;y++){const _=g[y];let b;if(_.isInterleavedBufferAttribute){const S=i(e.data,_.data);b=new Bl(S,_.itemSize,_.offset,_.normalized)}else{const S=Lf(_.type,_.array);b=new jn(S,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),v.push(b)}a.morphAttributes[m]=v}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const v=d[m];a.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const m=new J;h.center!==void 0&&m.fromArray(h.center),a.boundingSphere=new Bs(m,h.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class a_e extends ho{constructor(e){super(e)}load(e,t,r,i){const o=this,a=this.path===""?Na.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new Ha(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Na.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Ha(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,t),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,o,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let d=!1;for(const h in a)if(a[h]instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new $d().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new S_().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new o_e;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in ak?s=ak[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),s.isBufferGeometry===!0&&l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const o=new i_e;o.setTextures(t);for(let a=0,s=e.length;a<s;a++){const l=e[a];if(l.type==="MultiMaterial"){const u=[];for(let c=0;c<l.materials.length;c++){const d=l.materials[c];r[d.uuid]===void 0&&(r[d.uuid]=o.parse(d)),u.push(r[d.uuid])}i[l.uuid]=u}else r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=L0.parse(i);t[o.uuid]=o}return t}parseImages(e,t){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(c)}else return l.data?{data:Lf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new uH(t);o=new D0(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const d=e[u],h=d.url;if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const y=h[g],x=s(y);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new qf(x.data,x.width,x.height)))}i[d.uuid]=new Df(m)}else{const m=s(d.url);i[d.uuid]=new Df(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:Lf(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new D0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const c=[];for(let d=0,h=u.length;d<h;d++){const m=u[d],g=await o(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new qf(g.data,g.width,g.height)))}r[l.uuid]=new Df(c)}else{const c=await o(l.url);r[l.uuid]=new Df(c)}}}return r}parseTextures(e,t){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=t[s.image],u=l.data;let c;Array.isArray(u)?(c=new $m,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new qf:c=new ur,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,s_e)),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],fk),c.wrapT=r(s.wrap[1],fk)),s.format!==void 0&&(c.format=s.format),s.type!==void 0&&(c.type=s.type),s.encoding!==void 0&&(c.encoding=s.encoding),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,dk)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,dk)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,t,r,i,o){let a;function s(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const y=h[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,d;switch(e.type){case"Scene":a=new __,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new pt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new x_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new y_(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Vr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new jm(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new pH(e.color,e.intensity);break;case"DirectionalLight":a=new zO(e.color,e.intensity);break;case"PointLight":a=new FO(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new mH(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new kO(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new LO(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new O_().fromJSON(e);break;case"SkinnedMesh":c=s(e.geometry),d=l(e.material),a=new b_(c,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),d=l(e.material),a=new ht(c,d);break;case"InstancedMesh":c=s(e.geometry),d=l(e.material);const h=e.count,m=e.instanceMatrix,g=e.instanceColor;a=new WU(c,d,h),a.instanceMatrix=new xd(new Float32Array(m.array),16),g!==void 0&&(a.instanceColor=new xd(new Float32Array(g.array),g.itemSize));break;case"LOD":a=new mxe;break;case"Line":a=new di(s(e.geometry),l(e.material));break;case"LineLoop":a=new EO(s(e.geometry),l(e.material));break;case"LineSegments":a=new Wd(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new TO(s(e.geometry),l(e.material));break;case"Sprite":a=new GU(l(e.material));break;case"Group":a=new Oa;break;case"Bone":a=new w_;break;default:a=new Yt}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)a.add(this.parseObject(h[m],t,r,i,o))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const g=h[m];a.animations.push(o[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const g=h[m],v=a.getObjectByProperty("uuid",g.object);v!==void 0&&a.addLevel(v,g.distance)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const s_e={UVMapping:pO,CubeReflectionMapping:nc,CubeRefractionMapping:rc,EquirectangularReflectionMapping:v0,EquirectangularRefractionMapping:y0,CubeUVReflectionMapping:Wm},fk={RepeatWrapping:ic,ClampToEdgeWrapping:pi,MirroredRepeatWrapping:sm},dk={NearestFilter:dr,NearestMipmapNearestFilter:x0,NearestMipmapLinearFilter:_0,LinearFilter:Sn,LinearMipmapNearestFilter:mO,LinearMipmapLinearFilter:Yl};class yH extends ho{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=bd.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){bd.add(e,l),t&&t(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}yH.prototype.isImageBitmapLoader=!0;let Xv;const l_e={getContext:function(){return Xv===void 0&&(Xv=new(window.AudioContext||window.webkitAudioContext)),Xv},setContext:function(n){Xv=n}};class u_e extends ho{constructor(e){super(e)}load(e,t,r,i){const o=this,a=new Ha(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{const l=s.slice(0);l_e.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}}class c_e extends O_{constructor(e,t,r=1){super(void 0,r);const i=new pt().set(e),o=new pt().set(t),a=new J(i.r,i.g,i.b),s=new J(o.r,o.g,o.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(s).multiplyScalar(l),this.sh.coefficients[1].copy(a).sub(s).multiplyScalar(u)}}c_e.prototype.isHemisphereLightProbe=!0;class f_e extends O_{constructor(e,t=1){super(void 0,t);const r=new pt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}f_e.prototype.isAmbientLightProbe=!0;class d_e extends Yt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class h_e{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,o,a;switch(t){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=t}else{a+=t;const s=t/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-o,t)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let o=r,a=i;o!==a;++o)t[o]=t[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[t+a]=e[r+a]}_slerp(e,t,r,i){wn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,o){const a=this._workIndex*o;wn.multiplyQuaternionsFlat(e,a,e,t,e,r),wn.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=t+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,t,r,i,o){for(let a=0;a!==o;++a){const s=t+a;e[s]=e[s]+e[r+a]*i}}}const BO="\\[\\]\\.:\\/",p_e=new RegExp("["+BO+"]","g"),UO="[^"+BO+"]",m_e="[^"+BO.replace("\\.","")+"]",g_e=/((?:WC+[\/:])*)/.source.replace("WC",UO),v_e=/(WCOD+)?/.source.replace("WCOD",m_e),y_e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",UO),x_e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",UO),__e=new RegExp("^"+g_e+v_e+y_e+x_e+"$"),b_e=["material","materials","bones"];class w_e{constructor(e,t,r){const i=r||hn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class hn{constructor(e,t,r){this.path=t,this.parsedPath=r||hn.parseTrackName(t),this.node=hn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new hn.Composite(e,t,r):new hn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(p_e,"")}static parseTrackName(e){const t=__e.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);b_e.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===t||s.uuid===t)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let o=t.propertyIndex;if(e||(e=hn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}hn.Composite=w_e;hn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};hn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};hn.prototype.GetterByBindingType=[hn.prototype._getValue_direct,hn.prototype._getValue_array,hn.prototype._getValue_arrayElement,hn.prototype._getValue_toArray];hn.prototype.SetterByBindingTypeAndVersioning=[[hn.prototype._setValue_direct,hn.prototype._setValue_direct_setNeedsUpdate,hn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[hn.prototype._setValue_array,hn.prototype._setValue_array_setNeedsUpdate,hn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[hn.prototype._setValue_arrayElement,hn.prototype._setValue_arrayElement_setNeedsUpdate,hn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[hn.prototype._setValue_fromArray,hn.prototype._setValue_fromArray_setNeedsUpdate,hn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class S_e{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const o=t.tracks,a=o.length,s=new Array(a),l={endingStart:If,endingEnd:If};for(let u=0;u!==a;++u){const c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ime,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=o,l[1]=o+r,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const a=this._updateTime(t),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case wU:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);break;case gO:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(a),u[c].accumulate(i,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===ome;if(e===0)return o===-1?i:a&&(o&1)===1?t-i:i;if(r===rme){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){const s=Math.floor(i/t);i-=t*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Nf,i.endingEnd=Nf):(e?i.endingStart=this.zeroSlopeAtStart?Nf:If:i.endingStart=b0,t?i.endingEnd=this.zeroSlopeAtEnd?Nf:If:i.endingEnd=b0)}_scheduleFading(e,t,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=t,s[1]=o+e,l[1]=r,this}}class C_e extends ql{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let d=0;d!==o;++d){const h=i[d],m=h.name;let g=c[m];if(g!==void 0)++g.referenceCount,a[d]=g;else{if(g=a[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=t&&t._propertyBindings[d].binding.parsedPath;g=new h_e(hn.create(r,m,v),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),a[d]=g}s[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,o=this._actionsByClip;let a=o[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const d=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[t];a===void 0&&(a={},i[t]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new sH(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const i=t||this._root,o=i.uuid;let a=typeof e=="string"?L0.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=gO),l!==void 0){const d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const c=new S_e(this,a,t,r);return this._bindAction(c,u),this._addInactiveAction(c,s,o),c}existingAction(e,t){const r=t||this._root,i=r.uuid,o=typeof e=="string"?L0.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const u=a[s];this._deactivateAction(u);const c=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,t[c]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[t];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}C_e.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class M_e extends vc{constructor(e,t,r=1){super(e,t),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}M_e.prototype.isInstancedInterleavedBuffer=!0;class P_{constructor(e,t,r=0,i=1/0){this.ray=new gc(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new xO,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return rM(e,this,r,t),r.sort(hk),r}intersectObjects(e,t=!0,r=[]){for(let i=0,o=e.length;i<o;i++)rM(e[i],this,r,t);return r.sort(hk),r}}function hk(n,e){return n.distance-e.distance}function rM(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let o=0,a=i.length;o<a;o++)rM(i[o],e,t,!0)}}class pk{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(hr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const il=new J,Yv=new Mt,D1=new Mt;class E_e extends Wd{constructor(e){const t=xH(e),r=new Vt,i=[],o=[],a=new pt(0,0,1),s=new pt(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new At(i,3)),r.setAttribute("color",new At(o,3));const l=new ja({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");D1.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<t.length;o++){const s=t[o];s.parent&&s.parent.isBone&&(Yv.multiplyMatrices(D1,s.matrixWorld),il.setFromMatrixPosition(Yv),i.setXYZ(a,il.x,il.y,il.z),Yv.multiplyMatrices(D1,s.parent.matrixWorld),il.setFromMatrixPosition(Yv),i.setXYZ(a+1,il.x,il.y,il.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function xH(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,xH(n.children[t]));return e}class _H extends Wd{constructor(e=10,t=10,r=4473924,i=8947848){r=new pt(r),i=new pt(i);const o=t/2,a=e/t,s=e/2,l=[],u=[];for(let h=0,m=0,g=-s;h<=t;h++,g+=a){l.push(-s,0,g,s,0,g),l.push(g,0,-s,g,0,s);const v=h===o?r:i;v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3}const c=new Vt;c.setAttribute("position",new At(l,3)),c.setAttribute("color",new At(u,3));const d=new ja({vertexColors:!0,toneMapped:!1});super(c,d),this.type="GridHelper"}}class T_e extends Wd{constructor(e=10,t=16,r=8,i=64,o=4473924,a=8947848){o=new pt(o),a=new pt(a);const s=[],l=[];for(let d=0;d<=t;d++){const h=d/t*(Math.PI*2),m=Math.sin(h)*e,g=Math.cos(h)*e;s.push(0,0,0),s.push(m,0,g);const v=d&1?o:a;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<=r;d++){const h=d&1?o:a,m=e-e/r*d;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m;s.push(y,0,x),l.push(h.r,h.g,h.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m,s.push(y,0,x),l.push(h.r,h.g,h.b)}}const u=new Vt;u.setAttribute("position",new At(s,3)),u.setAttribute("color",new At(l,3));const c=new ja({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}}class zf{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=hr(e,-65504,65504),mk[0]=e;const t=gk[0],r=t>>23&511;return ra[r]+((t&8388607)>>ia[r])}static fromHalfFloat(e){const t=e>>10;return gk[0]=HO[wH[t]+(e&1023)]+Yd[t],mk[0]}}const bH=new ArrayBuffer(4),mk=new Float32Array(bH),gk=new Uint32Array(bH),ra=new Uint32Array(512),ia=new Uint32Array(512);for(let n=0;n<256;++n){const e=n-127;e<-27?(ra[n]=0,ra[n|256]=32768,ia[n]=24,ia[n|256]=24):e<-14?(ra[n]=1024>>-e-14,ra[n|256]=1024>>-e-14|32768,ia[n]=-e-1,ia[n|256]=-e-1):e<=15?(ra[n]=e+15<<10,ra[n|256]=e+15<<10|32768,ia[n]=13,ia[n|256]=13):e<128?(ra[n]=31744,ra[n|256]=64512,ia[n]=24,ia[n|256]=24):(ra[n]=31744,ra[n|256]=64512,ia[n]=13,ia[n|256]=13)}const HO=new Uint32Array(2048),Yd=new Uint32Array(64),wH=new Uint32Array(64);for(let n=1;n<1024;++n){let e=n<<13,t=0;for(;(e&8388608)===0;)e<<=1,t-=8388608;e&=-8388609,t+=947912704,HO[n]=e|t}for(let n=1024;n<2048;++n)HO[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)Yd[n]=n<<23;Yd[31]=1199570944;Yd[32]=2147483648;for(let n=33;n<63;++n)Yd[n]=2147483648+(n-32<<23);Yd[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(wH[n]=1024);Vo.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Vo.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};M0.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};_H.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};E_e.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};ho.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Na.extractUrlBase(n)};ho.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};fo.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};fo.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};fo.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};fo.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};fo.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Zl.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Bs.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};g_.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};Nr.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Nr.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Nr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Nr.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Nr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Nr.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Mt.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Mt.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Mt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new J().setFromMatrixColumn(this,3)};Mt.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Mt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Mt.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Mt.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Mt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Mt.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Mt.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Mt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Mt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Mt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Mt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Mt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Mt.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Mt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Mt.prototype.makeFrustum=function(n,e,t,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,o)};Mt.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};xs.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};wn.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};wn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};gc.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};gc.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};gc.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};mr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};mr.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};mr.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};mr.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};mr.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};mr.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),mr.getBarycoord(n,e,t,r,i)};mr.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),mr.getNormal(n,e,t,r)};$d.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};$d.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Vl(this,n)};$d.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ym(this,n)};$e.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};$e.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};$e.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};J.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};J.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};J.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};J.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};J.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};J.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};J.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};J.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};J.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};vn.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};vn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Yt.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};Yt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Yt.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};Yt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Yt.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Yt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});ht.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(ht.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ame},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});b_.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Vr.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(Va.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(jn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===w0},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(w0)}}});jn.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?w0:cm),this};jn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},jn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Vt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Vt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new jn(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};Vt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};Vt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Vt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Vt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Vt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Vt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});vc.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?w0:cm),this};vc.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Vl.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Vl.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Vl.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};__.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Zn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new pt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===yU}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Ho.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});bn.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};bn.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};bn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};bn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};bn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};bn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};bn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};bn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};bn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};bn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};bn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};bn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};bn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};bn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};bn.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};bn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};bn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};bn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};bn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};bn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};bn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};bn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};bn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};bn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};bn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(bn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?sn:ao}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(BU.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(io.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});d_e.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new u_e().load(n,function(r){e.setBuffer(r)}),this};bO.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};bO.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};mc.crossOrigin=void 0;mc.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new bm;i.setCrossOrigin(this.crossOrigin);const o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};mc.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new r_e;i.setCrossOrigin(this.crossOrigin);const o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};mc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};mc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:hO}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=hO);const k1={transparent:!0,side:Ua};class Lr{static createUIfromMediaURL(e,t,r,i,o,a){const s=r._objectManager,l=(u,c,d)=>{const h=new ht(u,c);h.scale.set(t,t,t),o&&(h.name=o),h.userData=d,h.layers.enable(1),s.add([h]),r._historyManager.record("create",h),s.select([h]),a&&a(h)};switch(i){case"image":new bm().load(e,u=>{const c=new Ia(u.image.width/1e3,u.image.height/1e3),d=new vr(Be({map:u},k1)),h=Pl.getTemplate();h.geometryData.width=u.image.width,h.geometryData.height=u.image.height,h.mediaData.type=i,h.mediaData.data=e,l(c,d,h)});break;case"video":this.createVideoFromDataURL(e).onloadeddata=u=>{const c=u.target,d=new C0(c),h=new vr(Be({map:d},k1)),m=new Ia(c.videoWidth/1e3,c.videoHeight/1e3),g=Pl.getTemplate();g.geometryData.width=c.videoWidth,g.geometryData.height=c.videoHeight,g.mediaData.type=i,g.mediaData.data=e,l(m,h,g)};break}}static swapMediaFromURL(e,t,r,i){switch(r){case"image":new bm().load(t,o=>{e.material=new vr(Be({map:o},k1)),e.userData.mediaData.type="image",e.userData.mediaData.data=t,e.userData.geometryData.width=o.image.width,e.userData.geometryData.height=o.image.height,this.getFlatPlane(e,1)});break;case"video":this.createVideoFromDataURL(t).onloadeddata=o=>{const a=o.target,s=new C0(a);e.material.map=s,e.userData.mediaData.type="video",e.userData.mediaData.data=t,e.userData.geometryData.width=a.videoWidth,e.userData.geometryData.height=a.videoWidth,this.getFlatPlane(e,1)};break}i!=null&&i(e)}static updateMediaType(e){var t,r;(t=e.material)!=null&&t.map.isVideoTexture?e.userData.mediaData.type="video":(r=e.material)!=null&&r.map.isTexture?e.userData.mediaData.type="image":e.userData.mediaData.type="unknown"}static getMediaWH(e){this.updateMediaType(e);const t={width:void 0,height:void 0};return e.userData.mediaData.type==="image"?(t.width=e.material.map.source.data.width,t.height=e.material.map.source.data.height):e.userData.mediaData.type==="video"&&(t.width=e.material.map.source.data.videoWidth,t.height=e.material.map.source.data.videoHeight),t}static getFlatPlane(e,t){if(e.userData.mediaData.type==="empty")return;const r=e.userData.geometryData,i=r.isCustom?r.customWidth:r.width,o=r.isCustom?r.customHeight:r.height;return new Ia(i/1e3,o/1e3,t,1)}static planeCurve(e,t){let i=e.parameters.width*.5,o=new $e(-i,0),a=new $e(0,t),s=new $e(i,0),l=new $e().subVectors(o,a),u=new $e().subVectors(a,s),c=new $e().subVectors(o,s),d=l.length()*u.length()*c.length()/(2*Math.abs(l.cross(c))),h=new $e(0,t-d),v=(new $e().subVectors(o,h).angle()-Math.PI*.5)*2,y=e.attributes.uv,x=e.attributes.position,_=new $e;for(let b=0;b<y.count;b++){let S=1-y.getX(b),C=x.getY(b);_.copy(s).rotateAround(h,v*S),x.setXYZ(b,_.x,C,-_.y)}x.needsUpdate=!0}static createVideoFromDataURL(e){const t=e,r=document.createElement("video");r.loop=!0,r.autoplay=!0,r.muted=!0;const i=document.createElement("source");return r.appendChild(i),i.setAttribute("src",t),r.play(),r}static cal_curveDepth(e){const t=e.parent,r=new J,i=new J;e.getWorldPosition(r),t.getWorldPosition(i),e.lookAt(new J(i.x,r.y,i.z));const o=e.geometry.attributes.position.array,a=new J(o[0],o[1],o[2]),s=e.localToWorld(a),l=new $e(r.x,r.z).distanceTo(new $e(i.x,i.z));return new $e(s.x,s.z).distanceTo(new $e(i.x,i.z))-l}static updateMesh(e){const t=e.parent;Pl.isUserObject(t)?(t==null?void 0:t.userData.geometryData.curveRole)==="parent"&&Lr.updateChildrenRadius(t):this.getFlatPlane(e,1)}static updateChildrenRadius(e){const t=e.userData.geometryData.curveRadius,r=new J;e.getWorldPosition(r);const i=new $e(r.x,r.z);e.children.map(o=>{o.position.equals(new J(0,0,0))&&o.position.set(0,0,-.1);const a=new J;o.getWorldPosition(a);const s=new $e(a.x,a.z),l=new $e;l.subVectors(s,i).normalize();const u=l.multiplyScalar(t);o.position.x=u.x,o.position.z=u.y;const c=Lr.getFlatPlane(o,16),d=Lr.cal_curveDepth(o);this.planeCurve(c,d),o.geometry=c})}static updateChildrenFlat(e){e.children.map(t=>{t.geometry=Lr.getFlatPlane(t,1)})}static updateChildrenTransparency(e){const t=r=>{const i=r.userData,o=i?i.materialData.opacity:1;r.material.opacity=o};if(e.isMesh)t(e);else if(e.isObject3D)e.children.forEach(i=>{t(i)});else throw Error("Selected is not a Mesh or Object3D")}}const O_e=()=>{const e=A.exports.useContext(Bi)._objectManager,[t,r]=A.exports.useState(0),[i,o]=A.exports.useState(0),[a,s]=A.exports.useState(!1),[l,u]=A.exports.useState(!0),c=()=>{const v=e.getSelect1();if(v){const y=v;return{width:y.geometry.parameters.width*1e3,height:y.geometry.parameters.height*1e3}}else return{width:void 0,height:void 0}},d=()=>{const v=()=>{r(0),o(0),s(!1),u(!0)},y=e.getSelect1();if(y){if(y.userData.mediaData.type==="empty"){v();return}r(c().width),o(c().height),s(y.userData.geometryData.isCustom),u(!1)}else v()},h=()=>{const v=e.getSelect1();!v||(v.userData.geometryData.isCustom=a,v.userData.geometryData.customWidth=t,v.userData.geometryData.customHeight=i,Lr.updateMesh(v))};A.exports.useEffect(()=>{h()},[a,t,i]),e.updateUI_transformComponentWidthHeight=d;const m=()=>l?!0:!a;return h(),M(Ut,{children:(()=>{const v=e.getSelect1();return v==null?M(Ut,{}):(v==null?void 0:v.userData.mediaData.type)==="empty"?M(Ut,{}):We("div",{children:[We("span",{children:[M("label",{style:{flexBasis:"14%",margin:"4px 0"},children:"\u81EA\u5B9A\u4E49\u56FE\u5C42\u5206\u8FA8\u7387"}),M(Sr,{mini:!0,content:"\u5F00\u542F\u81EA\u5B9A\u4E49\u56FE\u5C42\u5206\u8FA8\u7387",position:"bottom",children:M(Hm,{className:"w-10",disabled:l,checked:a,onChange:y=>{s(y)}})})]}),We("span",{children:[M(om,{min:0,value:t,prefix:"\u957F",suffix:"px",step:1,size:"mini",hideControl:!0,disabled:m(),onChange:y=>{r(y)}}),M(om,{min:0,value:i,prefix:"\u9AD8",suffix:"px",step:1,size:"mini",hideControl:!0,disabled:m(),onChange:y=>{o(y)}})]})]})})()})};class gi{static async uploadSceneObjs(e,t){const r=e.constructSaveData(),i=JSON.stringify(r);return await Rq(t,{content:i})}static getLastSplit(e,t,r){const i=e.split(t),o=i[i.length-1];return r===!0?o.toLowerCase():o}static getInputFile(e){const t=e.target.files,r=t[0],i=gi.getLastSplit(r.name,".",!0);let o,a;switch(i){case"png":o="image",a="normal";break;case"jpg":o="image",a="normal";break;case"jpeg":o="image",a="normal";break;case"hdr":o="image",a="hdr";break;case"exr":o="image",a="exr";break;case"mp4":o="video",a="notAnImage";break;default:o="unknown",a="unknown";break}return{file:r,files:t,extension:i,fileType:o,imageType:a}}static FileToDataURL(e,t){const r=new FileReader;r.onload=i=>{var a;const o=(a=i.target)==null?void 0:a.result;t!=null&&t(o)},r.readAsDataURL(e)}static getAllChildreninList(e,t=!1){const r=[],i=o=>{o.children.forEach(a=>{t?Pl.isUserObject(a)&&(r.push(a),i(a)):(r.push(a),i(a))})};return i(e),r}static createCube(e,t){const r=new Hn(.1,.1,.1),i=new vr({color:65280}),o=new ht(r,i);e.add(o),o.position.copy(t)}}class k0{static exportToUnity(e){console.log("11");const t=e._objectManager.objList,r=[];t.forEach(l=>{const u=l.geometry,c=Lr.getMediaWH(l);r.push({type:u.type,name:l.name,planeWidth:u.parameters.width,planeHeight:u.parameters.height,imageWidth:c.width,imageHeight:c.height,posX:l.position.x,posY:l.position.y,posZ:l.position.z,quaternionX:l.quaternion.x,quaternionY:l.quaternion.y,quaternionZ:l.quaternion.z,quaternionW:l.quaternion.w,scaleX:l.scale.x,scaleY:l.scale.y,scaleZ:l.scale.z,mediaURL:gi.getLastSplit(l.userData.mediaData.data,",")})}),console.log(t);const o={Object3DString:JSON.stringify({Items:r})},a=JSON.stringify(o),s="data:text/json;charset=utf-8,"+encodeURIComponent(a);this.download(s,"json","sceneExport")}static download(e,t,r){var i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download",r+"."+t),document.body.appendChild(i),i.click(),i.remove()}static downloadOBJMedia(e){Lr.updateMediaType(e);let t;e.userData.mediaData.type=="image"?t=e.material.map.source.data.getAttribute("src"):e.userData.mediaData.type=="video"&&(t=e.material.map.source.data.children[0].getAttribute("src"));const i=t.substring(t.indexOf(":")+1,t.indexOf(";")).split("/")[1];this.download(t,i,e.name)}static downloadSceneJSON(e){const t=e.constructSaveData(),r=JSON.stringify(t),i="data:text/json;charset=utf-8,"+encodeURIComponent(r);this.download(i,"json","sceneExport")}}const P_e=n=>{const t=A.exports.useContext(Bi)._objectManager,r=A.exports.useRef(),i=n.disable,o="#717172";function a(){return i?We("div",{style:{color:o},children:[M(Jt,{type:"text",icon:M(MN,{}),className:"w-10",onClick:t.group}),M(Jt,{type:"text",icon:M(WS,{}),className:"w-10"}),M(_s,{type:"vertical"}),M(Jt,{type:"text",icon:M($S,{}),className:"w-10"}),M(Jt,{type:"text",icon:M(AN,{}),className:"w-10"}),M(_s,{type:"vertical"}),M(Jt,{type:"text",icon:M(VS,{}),className:"w-10"})]}):We("div",{children:[M(Sr,{mini:!0,content:"\u7EC4",position:"bottom",children:M(Jt,{type:"text",icon:M(MN,{}),className:"w-10",onClick:t.group})}),M(Sr,{mini:!0,content:"\u590D\u5236",position:"bottom",children:M(Jt,{type:"text",icon:M(WS,{}),className:"w-10",onClick:s=>{s.stopPropagation(),t.duplicate(t.selecting)}})}),M(_s,{type:"vertical"}),M(Sr,{mini:!0,content:"\u66FF\u6362\u5A92\u4F53",position:"bottom",children:M(Jt,{type:"text",icon:M($S,{}),className:"w-10",onClick:s=>{s.stopPropagation(),r.current.click()}})}),M(Sr,{mini:!0,content:"\u5220\u9664\u5A92\u4F53",position:"bottom",children:M(Jt,{type:"text",icon:M(AN,{}),className:"w-10",onClick:s=>{var l;if(((l=t.getSelect1())==null?void 0:l.userData.mediaData.type)==="empty"){Io.error("\u7EC4\u6CA1\u6709\u5A92\u4F53");return}}})}),M(_s,{type:"vertical"}),M(Sr,{mini:!0,content:"\u4E0B\u8F7D\u6E90\u5A92\u4F53",position:"bottom",children:M(Jt,{type:"text",icon:M(VS,{}),className:"w-10",onClick:s=>{var l;if(((l=t.getSelect1())==null?void 0:l.userData.mediaData.type)==="empty"){Io.error("\u7EC4\u6CA1\u6709\u5A92\u4F53");return}s.stopPropagation(),k0.downloadOBJMedia(t.getSelect1())}})}),M("input",{ref:r,type:"file",accept:".png, .jpg, .jpeg, .mp4",onChange:s=>{const l=gi.getInputFile(s),u=l.file;gi.FileToDataURL(u,c=>{switch(l.fileType){case"image":Lr.swapMediaFromURL(t.getSelect1(),c,"image");break;case"video":Lr.swapMediaFromURL(t.getSelect1(),c,"video");break}})}})]})}return M(Ut,{children:a()})};const A_e=n=>{const t=A.exports.useContext(Bi)._objectManager,r=t.getSelect1(),[i,o]=A.exports.useState("none"),[a,s]=A.exports.useState(!1),[l,u]=A.exports.useState(0),c=()=>{const h=t.getSelect1();if(h){const m=h.userData;switch(u(m.geometryData.curveRadius),o(m.geometryData.curveRole),m.geometryData.curveRole){case"parent":break;case"none":s(!0);break}}};return t.updateUI_transformComponentCurve=c,M(Ut,{children:(()=>(r==null?void 0:r.userData.mediaData.type)==="empty"?We(Ut,{children:[M("label",{style:{flexBasis:"14%",margin:"4px 0"},children:"\u81EA\u52A8\u66F2\u5EA6\u534A\u5F84"}),M(Sr,{mini:!0,position:"bottom",children:M(Hm,{className:"w-10",checked:i==="parent",onChange:h=>{t.getSelect1().userData.geometryData.enableCurve=h,h===!0?(r.userData.geometryData.curveRole="parent",Lr.updateChildrenRadius(t.getSelect1())):(r.userData.geometryData.curveRole="none",r.children.forEach(m=>{Lr.getFlatPlane(m,1)})),c()}})}),M(aU,{value:l,min:.1,max:10,tooltipVisible:!1,disabled:i!=="parent",step:.1,showInput:{hideControl:!0,style:{width:60.77}},onChange:h=>{r.userData.geometryData.curveRadius=h,Lr.updateChildrenRadius(r,h),c()}})]}):M(Ut,{}))()})},R_e=n=>{const e=n.disable,[t,r]=A.exports.useState(1),o=A.exports.useContext(Bi)._objectManager,a=o.getSelect1(),s=()=>{const c=o.getSelect1();if(c){const d=c.userData.materialData;d.opacity?(d.transparent||(d.transparent=!0),r(d.opacity)):(d.transparent=!0,d.opacity=1,r(1))}else r(1)};o.updateUI_transformComponentTransparency=s;const l=(c,d)=>{c.isMesh?c.userData.materialData.opacity=d:c.isObject3D&&c.children.forEach(h=>l(h,d))};return M(Ut,{children:(()=>a?We(Ut,{children:[M("label",{style:{flex:1},children:"\u900F\u660E\u5EA6"}),M(aU,{disabled:e,style:{flex:6},value:t,min:0,max:1,step:.1,showInput:!0,onChange:c=>{l(a,c),Lr.updateChildrenTransparency(a),r(c)}})]}):M(Ut,{}))()})};class Su{static Align(e,t,r,i){function o(l){l.geometry.computeBoundingBox();const u=l.geometry.boundingBox;switch(r){case"min":return l.localToWorld(u.min);case"max":return l.localToWorld(u.max)}}const a=t[0],s=o(a);for(let l=1;l<t.length;l++){const u=t[l],c=o(u);switch(i){case"x":e._historyManager.record("transformation",u),u.position.x+=s.x-c.x;break;case"y":e._historyManager.record("transformation",u),u.position.y+=s.y-c.y;break;case"z":e._historyManager.record("transformation",u),u.position.z+=s.z-c.z;break}u.geometry.boundingBox=null}a.geometry.boundingBox=null}static snapX(e){const t=e._objectManager.getSelect1();t.geometry.computeBoundingBox();const r=t.geometry.boundingBox,i=t.localToWorld(r.min),o=t.localToWorld(r.max),a=gi.getAllChildreninList(e.scene,!0).filter(d=>d.uuid!==t.uuid);if(a.length===0)return;let s=1e5,l=1e4;if(a.forEach(d=>{if(!d.hasOwnProperty("geometry"))console.log("Object has no geometry, pass");else{let h=function(y,x){const _=Math.abs(y.x-x.x);_<s&&(s=_,l=x.x)};d.geometry.computeBoundingBox();const m=d.geometry.boundingBox,g=d.localToWorld(m.min),v=d.localToWorld(m.max);h(i,g),h(i,v),h(o,g),h(o,v),d.geometry.boundingBox=null}}),s>1)return;const u=Math.abs(i.x-l),c=Math.abs(o.x-l);u<c?t.position.x-=i.x-l:t.position.x-=o.x-l,t.geometry.boundingBox=null}}const I_e=()=>{const n=A.exports.useContext(Bi),e=n._objectManager,t=Jt.Group,[r,i]=A.exports.useState(!1),o=()=>{e.selecting.length>1?i(!1):i(!0)};return e.updateUI_transformAlign=o,M(Ut,{children:(()=>We(Ut,{children:[M("label",{style:{flexBasis:"14%",margin:"4px 0"},children:"\u5BF9\u5176"}),We(t,{children:[M(Jt,{disabled:r,onClick:()=>Su.Align(n,e.selecting,"min","x"),children:"X Min"}),M(Jt,{disabled:r,onClick:()=>Su.Align(n,e.selecting,"max","x"),children:"X Max"}),M(Jt,{disabled:r,onClick:()=>Su.Align(n,e.selecting,"min","y"),children:"Y Min"}),M(Jt,{disabled:r,onClick:()=>Su.Align(n,e.selecting,"max","y"),children:"Y Max"}),M(Jt,{disabled:r,onClick:()=>Su.Align(n,e.selecting,"min","z"),children:"Z Min"}),M(Jt,{disabled:r,onClick:()=>Su.Align(n,e.selecting,"max","z"),children:"Z Max"})]})]}))()})},N_e=()=>{const n=A.exports.useContext(Bi),e=n._objectManager,t=e.getSelect1(),r=2,i=3,[o,a]=A.exports.useState(""),[s,l]=A.exports.useState(!0),[u,c]=A.exports.useState("0"),[d,h]=A.exports.useState("0"),[m,g]=A.exports.useState("0"),[v,y]=A.exports.useState("0"),[x,_]=A.exports.useState("0"),[b,S]=A.exports.useState("0"),[C,E]=A.exports.useState("1"),[T,P]=A.exports.useState("1"),[L,I]=A.exports.useState("1");function O(){const k=e.getSelect1();if(k===null){l(!0),a(""),c(""),h(""),g(""),y(""),_(""),S(""),E(""),P(""),I("");return}l(!1),a(k.name),c(k.position.x.toFixed(r)),h(k.position.y.toFixed(r)),g(k.position.z.toFixed(r)),y(os(k.rotation.x).toFixed(r)),_(os(k.rotation.y).toFixed(r)),S(os(k.rotation.z).toFixed(r)),E(k.scale.x.toFixed(i)),P(k.scale.y.toFixed(i)),I(k.scale.z.toFixed(i))}e.updateUI_transformComponent=O;function F(k){k.key==="Enter"&&k.target.blur()}const U=(k,H,$,V)=>{function N(){return t?$==="pos"&&V==="X"?t.position.x.toFixed(r):$==="pos"&&V==="Y"?t.position.y.toFixed(r):$==="pos"&&V==="Z"?t.position.z.toFixed(r):$==="rot"&&V==="X"?os(t.rotation.x).toFixed(r):$==="rot"&&V==="Y"?os(t.rotation.y).toFixed(r):$==="rot"&&V==="Z"?os(t.rotation.z).toFixed(r):$==="scale"&&V==="X"?t.scale.x.toFixed(3):$==="scale"&&V==="Y"?t.scale.y.toFixed(3):$==="scale"&&V==="Z"?t.scale.z.toFixed(3):"N/A":"N/A"}return M(om,{style:{flexBasis:"28.666667%"},prefix:V,size:"mini",hideControl:!0,value:k,onKeyPress:F,disabled:s,onChange:W=>H(W),onBlur:W=>{const ee=W.target.value,j=parseFloat(ee);if(t!==null)if(isNaN(j))H(N());else{let G=function(ye,xe){const oe=Math.pow(10,xe);return Math.round(Math.round(ye*oe))/oe};const ne=()=>{n._historyManager.record("transformation",t)};if($==="pos"&&V==="X"){if(j==G(t.position.x,r))return;ne(),t.position.x=j}else if($==="pos"&&V==="Y"){if(j==G(t.position.y,r))return;ne(),t.position.y=j}else if($==="pos"&&V==="Z"){if(j==G(t.position.z,r))return;ne(),t.position.z=j}else if($==="rot"&&V==="X"){if(j==G(os(t.rotation.x),r))return;ne(),t.rotation.x=Yw(j)}else if($==="rot"&&V==="Y"){if(j==G(os(t.rotation.y),r))return;ne(),t.rotation.y=Yw(j)}else if($==="rot"&&V==="Z"){if(j==G(os(t.rotation.z),r))return;ne(),t.rotation.z=Yw(j)}else if($==="scale"&&V==="X"){if(j==G(t.scale.x,i))return;ne(),t.scale.x=j}else if($==="scale"&&V==="Y"){if(j==G(t.scale.y,i))return;ne(),t.scale.y=j}else if($==="scale"&&V==="Z"){if(j==G(t.scale.z,i))return;ne(),t.scale.z=j}H(N())}}})};return We(Qde,{direction:"vertical",size:"mini",className:"px-4 py-3",children:[M(hpe,{_sceneManager:n,name:o,disable:s}),We("div",{className:"flex flex-row content-center space-x-1",children:[M("label",{style:{flexBasis:"14%",margin:"4px 0"},children:"\u4F4D\u7F6E"}),U(u,c,"pos","X"),U(d,h,"pos","Y"),U(m,g,"pos","Z")]}),We("div",{className:"flex flex-row content-center space-x-1",children:[M("label",{style:{flexBasis:"14%",margin:"4px 0"},children:"\u65CB\u8F6C"}),U(v,y,"rot","X"),U(x,_,"rot","Y"),U(b,S,"rot","Z")]}),We("div",{className:"flex flex-row content-center space-x-1",children:[M("label",{style:{flexBasis:"14%",margin:"4px 0"},children:"\u7F29\u653E"}),U(C,E,"scale","X"),U(T,P,"scale","Y"),U(L,I,"scale","Z")]}),M("div",{children:M(A_e,{disable:s,select1:t})}),M("div",{className:"flex flex-row content-center space-x-1",children:M(O_e,{disable:s,select1:t})}),M("div",{className:"flex flex-row content-center space-x-1",children:M(P_e,{disable:s,select1:t})}),M("div",{className:"flex flex-row content-center space-x-1",children:M(R_e,{disable:s})}),M("div",{className:"flex flex-row content-center space-x-1",children:M(I_e,{})})]})};const L_e=n=>{const{_sceneManager:e}=n,[t,r]=A.exports.useState("");e.updateUI_Publish=()=>{e==null&&r("Not"),r(e.project.name)};const i=kx(),o=A.exports.useRef(),{id:a}=Fx(),[s,l]=A.exports.useState(!1);if(!a)return Io.error("\u6CA1\u6709\u6709\u6548 Id"),M(Ut,{});const u=async()=>{try{l(!0),await gi.uploadSceneObjs(e,a),ZS.success({title:"XRint",content:"\u4E0A\u4F20\u6210\u529F\uFF01",position:"bottomLeft"})}catch{ZS.error({title:"XRint",content:"\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\u6216\u8054\u7CFB oncall",position:"bottomLeft"})}finally{l(!1)}},c=()=>{k0.downloadSceneJSON(e)},[d,h]=A.exports.useState(!1);return We("div",{className:"flex flex-col px-4 py-3 space-y-2",children:[M(Gm,{title:"\u79BB\u5F00\u524D\u662F\u5426\u8981\u4FDD\u5B58\uFF1F",visible:d,onOk:async()=>{h(!1),await u(),i("/")},onCancel:()=>{h(!1)},okText:"\u4FDD\u5B58\u5E76\u79BB\u5F00",cancelText:"\u4E0D\u4FDD\u5B58\u8FD4\u56DE\u573A\u666F",autoFocus:!1,focusLock:!0,simple:!0}),We("div",{className:"flex space-x-2",children:[M(Jt,{size:"small",icon:M(Xp,{}),onClick:()=>h(!0)}),M(dO.Text,{children:t})]}),M(s_.Button,{type:"primary",size:"default",style:{display:"flex"},droplist:We(Uu,{children:[We(Uu.Item,{onClick:c,children:["  ",M(VS,{}),"\u4E0B\u8F7D\u5B58\u6863"]},"1"),We(Uu.Item,{onClick:()=>{o.current.click()},children:[" ",M(DN,{}),"\u52A0\u8F7D\u5B58\u6863"]},"2"),We(Uu.Item,{onClick:()=>{k0.exportToUnity(e)},children:[" ",M(DN,{})," \u5BFC\u51FA\u5230Unity"]},"3")]}),position:"tr",icon:M(FE,{}),onClick:u,trigger:"click",children:(()=>s?"\u6B63\u5728\u4E0A\u4F20\u8BF7\u7A0D\u7B49":"\u5728\u7EBF\u4FDD\u5B58")()}),M("input",{ref:o,className:"input-value",type:"file",accept:".json",style:{display:"none"},onChange:m=>{const v=gi.getInputFile(m).file;gi.FileToDataURL(v,y=>{new Ha().load(y,x=>{const _=JSON.parse(x.toString());e.loadbyObj(_)})})}})]})},D_e=()=>{const n=Jt.Group,e=A.exports.useContext(Bi),t=A.exports.useRef(),r=i=>{const a=gi.getInputFile(i).files;for(var s=0;s<a.length;s++){const l=a[s],u=gi.getLastSplit(l.name,".",!0);u==="jpg"||u==="jpeg"||u==="png"?(console.log(l.name),gi.FileToDataURL(l,c=>Lr.createUIfromMediaURL(c,1,e,"image",l.name))):u==="mp4"?gi.FileToDataURL(l,c=>Lr.createUIfromMediaURL(c,1,e,"video",l.name)):console.log("Unknown Format")}};return We(n,{className:"px-4 pt-3 pb-2",children:[M(Jt,{size:"small",long:!0,onClick:()=>{t.current.click()},children:"\u4E0A\u4F20\u56FE\u7247/\u89C6\u9891"}),M("input",{type:"file",id:"image_input",ref:t,accept:".jpg, .jpeg, .png, .mp4",multiple:!0,onChange:i=>{r(i)}})]})},k_e=()=>{const n=hd.Option,e=A.exports.useContext(Bi),[t,r]=A.exports.useState(e.gridManager.getCurrentType()),[i,o]=A.exports.useState(e.gridManager.getCurrentColor()),[a,s]=A.exports.useState(e.gridManager.getCurrentVisibility()),l=h=>{r(h)},u=h=>{o(h.target.value)},c=()=>{s(!a)};return(()=>{e.gridManager.grid_update(t,i,a)})(),We("div",{className:"px-4 py-3 space-y-2",id:"publish_section",children:[M("label",{children:"\u8F85\u52A9\u7EBF"}),We("div",{className:"flex space-x-2",children:[We(hd,{size:"small",value:t,onChange:l,className:"w-20",children:[M(n,{value:"grid",children:"\u7F51\u683C"}),M(n,{value:"polar",children:"\u5706\u5F62"})]}),M("input",{className:"input-value",value:i,type:"color",onChange:u}),M("span",{className:"grow"}),M(Jt,{size:"small",onClick:c,icon:a?M(JE,{}):M(qE,{})})]})]})},F_e=()=>{const e=A.exports.useContext(Bi).backgroundManager,t=hd.Option,r=A.exports.useRef(),[i,o]=A.exports.useState(e.currentType),[a,s]=A.exports.useState(e.currentColor),[l,u]=A.exports.useState(e.currentDataURL),[c,d]=A.exports.useState(e.currentImageType);switch(i){case"color":e.backgroundColor_Update(a);break;case"image":if(l==null)e.backgroundColor_Update(a);else switch(c){case"normal":e.backgroundTexture_Update(l);break;case"hdr":e.backgroundHDRTexture_Update(l);break;case"exr":e.backgroundEXRTexture_Update(l);break}break}const h=()=>M("input",{className:"input-value",value:a,type:"color",onChange:g=>{s(g.target.value.toString())}}),m=()=>M(Ut,{children:M("img",{id:"backgroundImagePreview",src:l,onClick:()=>{r.current.click()},className:"w-7 h-7 object-cover"})});return We("div",{className:"px-4 py-3 space-y-2",id:"publish_section",children:[M("label",{children:" \u80CC\u666F "}),We("div",{className:"flex space-x-2",children:[We(hd,{size:"small",value:i,onChange:g=>o(g),className:"w-20",children:[M(t,{value:"color",children:"\u7EAF\u8272"}),M(t,{value:"image",children:"\u5168\u666F\u56FE"})]}),M("input",{ref:r,className:"input-value",type:"file",accept:".png, .jpg, .jpeg, .hdr, .exr",onChange:g=>{const v=gi.getInputFile(g),y=v.file;switch(v.imageType){case"normal":d("normal");break;case"hdr":d("hdr");break;case"exr":d("exr");break;default:console.error("Not Valid Image Format");return}gi.FileToDataURL(y,x=>{u(x)})}}),i==="color"&&h(),i==="image"&&m()]})]})},z_e=n=>{const e=vz(v=>v.project.meta.visible);console.log(e);const[t,r]=A.exports.useState(!1),[i,o]=A.exports.useState(e),[a,s]=A.exports.useState(""),{id:l}=Fx(),[u,c]=A.exports.useState(!1),d=Ai.Group;if(!l)return Io.error("\u6CA1\u6709\u6709\u6548 Id"),M(Ut,{});const h=async()=>{(a.length<4||a.length>10)&&Io.error("\u5BC6\u7801\u957F\u5EA6\u5E94\u5728 4 \uFF5E 10 \u5B57\u7B26");try{c(!0),await Oq(l,{visible:t,secret:a}),r(!1),Io.success("\u914D\u7F6E\u6210\u529F")}catch{Io.error("\u914D\u7F6E\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\u6216\u8054\u7CFB oncall")}finally{c(!1)}};return We("div",{className:"px-4 py-3 space-y-2",id:"publish_section",children:[M("label",{children:"\u6743\u9650\u7BA1\u7406"}),M(Jt,{long:!0,size:"small",onClick:()=>r(!0),children:i==="public"?"\u5DF2\u516C\u5F00":"\u5DF2\u52A0\u5BC6"}),M(Gm,{title:"\u6743\u9650\u7BA1\u7406",visible:t,onOk:()=>h(),onCancel:()=>r(!1),autoFocus:!1,focusLock:!0,children:M("div",{children:We(d,{direction:"vertical",value:i,onChange:v=>{o(v)},children:[M(Ai,{value:"public",style:{marginBottom:"10px"},children:"\u516C\u5F00\u8BBF\u95EE"}),We(Ai,{value:"locked",children:["\u8BBE\u7F6E\u52A0\u5BC6\u8BBF\u95EE",M(zs,{value:a,onChange:v=>{s(v)},style:{width:350,marginLeft:"20px"},placeholder:"\u8F93\u5165\u5BC6\u7801\uFF0C\u957F\u5EA6\u5728 4 \uFF5E 10 \u5B57\u7B26",maxLength:"10",showWordLimit:!0})]})]})})})]})};function B_e(){const n=M3.TabPane,e=A.exports.useContext(Bi);return We(Ut,{children:[We(M3,{type:"text",size:"default",defaultActiveTab:"1",className:"grow",children:[We(n,{title:"\u8BBE\u8BA1",children:[M(_s,{}),M(N_e,{}),M(_s,{}),M(D_e,{}),M(_s,{}),M(upe,{})]},"1"),We(n,{title:"\u8BBE\u7F6E",children:[M(_s,{}),M(k_e,{}),M(F_e,{}),M(z_e,{_sceneManager:e})]},"2")]}),M(_s,{}),M(L_e,{_sceneManager:e})]})}class U_e{constructor(e,t=[],r=[]){this._sceneManager=e,this.undoQueue=t,this.redoQueue=r}undoEvent=new CustomEvent("undo");record(e,t,r="untitled"){var o;var i=new H_e(e,t,`${r} ${new Date().toTimeString()}`);switch(e){case"transformation":i.obj.matrixWorld.decompose(i.position,i.rotation,i.scale);break;case"create":break;case"remove":break;case"parentChanged":i.preParentID=(o=t.parent)==null?void 0:o.id;break}this.undoQueue.push(i),this.redoQueue=[]}undo(e){if(console.log("Undo"),this.undoQueue[this.undoQueue.length-1]==null){console.log("No more Undo!");return}const t=this.undoQueue[this.undoQueue.length-1];switch(t.undoType){case"transformation":t.obj.position.copy(t.position),t.obj.quaternion.copy(t.rotation),t.obj.scale.copy(t.scale),console.log(`Undo: Transformation ${t.obj}`);break;case"create":this._sceneManager._objectManager.remove([t.obj]),console.log(`Undo: create ${t.obj}`);break;case"remove":this._sceneManager._objectManager.add([t.obj]),console.log(`Undo: delete ${t.obj}`);break;case"parentChanged":if(t.preParentID==null){console.error("Can not Redo, because pre-parent is undefined!");return}const r=this._sceneManager.scene.getObjectById(t.preParentID);r==null||r.attach(t.obj),this._sceneManager._objectManager.onObjectChange()}this.redoQueue.push(t),this.undoQueue.pop(),e&&e(t.obj)}redo(){}}class H_e{constructor(e,t,r){this.undoType=e,this.obj=t,this.name=r}position=new J(0,0,0);rotation=new wn(0,0,0,0);scale=new J(0,0,0);preParentID=void 0}class V_e{constructor(e){this._sceneManager=e,this.grid_update(this.currentType,this.currentColor,this.currrentVisibility)}gridHelper;radius=10;radials=16;circles=4;divisions=64;polarGridHelper;currentType="grid";currentColor="#2C2C2C";currrentVisibility=!0;grid_remove(){this._sceneManager.scene.remove(this.gridHelper),this._sceneManager.scene.remove(this.polarGridHelper)}grid_update(e,t,r){if(this.saveCurrentState(e,t,r),this.grid_remove(),!r)return;const i=new pt("FFFFFF"),o=new pt(t);switch(e){case"grid":this.gridHelper=new _H(10,10,i,o),this._sceneManager.scene.add(this.gridHelper);break;case"polar":this.polarGridHelper=new T_e(this.radius,this.radials,this.circles,this.divisions,o,o),this._sceneManager.scene.add(this.polarGridHelper);break}}saveCurrentState(e,t,r){this.currentType=e,this.currentColor=t,this.currrentVisibility=r}getCurrentType(){return this.currentType}getCurrentColor(){return this.currentColor}getCurrentVisibility(){return this.currrentVisibility}getGridData(){return{type:this.currentType,color:this.currentColor,visibility:this.currrentVisibility}}loadGridData(e){e!=null&&(e.type!=null&&(this.currentType=e.type),e.color!=null&&(this.currentColor=e.color),e.visibility!=null&&(this.currrentVisibility=e.visibility),this.grid_update(this.currentType,this.currentColor,this.currrentVisibility))}}class G_e extends cH{constructor(e){super(e),this.type=Ni}parse(e){const s=function(b,S){switch(b){case 1:console.error("THREE.RGBELoader Read Error: "+(S||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(S||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(S||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(S||""))}return-1},d=`
`,h=function(b,S,C){S=S||1024;let T=b.pos,P=-1,L=0,I="",O=String.fromCharCode.apply(null,new Uint16Array(b.subarray(T,T+128)));for(;0>(P=O.indexOf(d))&&L<S&&T<b.byteLength;)I+=O,L+=O.length,T+=128,O+=String.fromCharCode.apply(null,new Uint16Array(b.subarray(T,T+128)));return-1<P?(C!==!1&&(b.pos+=L+P+1),I+O.slice(0,P)):!1},m=function(b){const S=/^#\?(\S+)/,C=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,E=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,T=/^\s*FORMAT=(\S+)\s*$/,P=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,L={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let I,O;if(b.pos>=b.byteLength||!(I=h(b)))return s(1,"no header found");if(!(O=I.match(S)))return s(3,"bad initial token");for(L.valid|=1,L.programtype=O[1],L.string+=I+`
`;I=h(b),I!==!1;){if(L.string+=I+`
`,I.charAt(0)==="#"){L.comments+=I+`
`;continue}if((O=I.match(C))&&(L.gamma=parseFloat(O[1])),(O=I.match(E))&&(L.exposure=parseFloat(O[1])),(O=I.match(T))&&(L.valid|=2,L.format=O[1]),(O=I.match(P))&&(L.valid|=4,L.height=parseInt(O[1],10),L.width=parseInt(O[2],10)),L.valid&2&&L.valid&4)break}return L.valid&2?L.valid&4?L:s(3,"missing image size specifier"):s(3,"missing format specifier")},g=function(b,S,C){const E=S;if(E<8||E>32767||b[0]!==2||b[1]!==2||b[2]&128)return new Uint8Array(b);if(E!==(b[2]<<8|b[3]))return s(3,"wrong scanline width");const T=new Uint8Array(4*S*C);if(!T.length)return s(4,"unable to allocate buffer space");let P=0,L=0;const I=4*E,O=new Uint8Array(4),F=new Uint8Array(I);let U=C;for(;U>0&&L<b.byteLength;){if(L+4>b.byteLength)return s(1);if(O[0]=b[L++],O[1]=b[L++],O[2]=b[L++],O[3]=b[L++],O[0]!=2||O[1]!=2||(O[2]<<8|O[3])!=E)return s(3,"bad rgbe scanline format");let k=0,H;for(;k<I&&L<b.byteLength;){H=b[L++];const V=H>128;if(V&&(H-=128),H===0||k+H>I)return s(3,"bad scanline data");if(V){const N=b[L++];for(let W=0;W<H;W++)F[k++]=N}else F.set(b.subarray(L,L+H),k),k+=H,L+=H}const $=E;for(let V=0;V<$;V++){let N=0;T[P]=F[V+N],N+=E,T[P+1]=F[V+N],N+=E,T[P+2]=F[V+N],N+=E,T[P+3]=F[V+N],P+=4}U--}return T},v=function(b,S,C,E){const T=b[S+3],P=Math.pow(2,T-128)/255;C[E+0]=b[S+0]*P,C[E+1]=b[S+1]*P,C[E+2]=b[S+2]*P,C[E+3]=1},y=function(b,S,C,E){const T=b[S+3],P=Math.pow(2,T-128)/255;C[E+0]=zf.toHalfFloat(Math.min(b[S+0]*P,65504)),C[E+1]=zf.toHalfFloat(Math.min(b[S+1]*P,65504)),C[E+2]=zf.toHalfFloat(Math.min(b[S+2]*P,65504)),C[E+3]=zf.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const _=m(x);if(_!==-1){const b=_.width,S=_.height,C=g(x.subarray(x.pos),b,S);if(C!==-1){let E,T,P,L;switch(this.type){case Ii:L=C.length/4;const I=new Float32Array(L*4);for(let F=0;F<L;F++)v(C,F*4,I,F*4);E=I,P=Ii;break;case Ni:L=C.length/4;const O=new Uint16Array(L*4);for(let F=0;F<L;F++)y(C,F*4,O,F*4);E=O,P=Ni;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:b,height:S,data:E,header:_.string,gamma:_.gamma,exposure:_.exposure,format:T,type:P}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function o(a,s){switch(a.type){case Ii:a.encoding=ao,a.minFilter=Sn,a.magFilter=Sn,a.generateMipmaps=!1,a.flipY=!0;break;case Ni:a.encoding=ao,a.minFilter=Sn,a.magFilter=Sn,a.generateMipmaps=!1,a.flipY=!0;break}t&&t(a,s)}return super.load(e,o,r,i)}}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var vk={},iM=function(n){return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},SH=function(n){return new Worker(n)};try{URL.revokeObjectURL(iM(""))}catch{iM=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},SH=function(e){return new Worker(e,{type:"module"})}}var W_e=function(n,e,t,r,i){var o=SH(vk[e]||(vk[e]=iM(n)));return o.onerror=function(a){return i(a.error,null)},o.onmessage=function(a){return i(null,a.data)},o.postMessage(t,r),o},Qt=Uint8Array,Dr=Uint16Array,Ls=Uint32Array,qd=new Qt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zd=new Qt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wm=new Qt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CH=function(n,e){for(var t=new Dr(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Ls(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return[t,i]},MH=CH(qd,2),VO=MH[0],F0=MH[1];VO[28]=258,F0[258]=28;var EH=CH(Zd,0),TH=EH[0],oM=EH[1],Sm=new Dr(32768);for(var kn=0;kn<32768;++kn){var ol=(kn&43690)>>>1|(kn&21845)<<1;ol=(ol&52428)>>>2|(ol&13107)<<2,ol=(ol&61680)>>>4|(ol&3855)<<4,Sm[kn]=((ol&65280)>>>8|(ol&255)<<8)>>>1}var ko=function(n,e,t){for(var r=n.length,i=0,o=new Dr(e);i<r;++i)++o[n[i]-1];var a=new Dr(e);for(i=0;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(t){s=new Dr(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],c=e-n[i],d=a[n[i]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)s[Sm[d]>>>l]=u}else for(s=new Dr(r),i=0;i<r;++i)n[i]&&(s[i]=Sm[a[n[i]-1]++]>>>15-n[i]);return s},Ds=new Qt(288);for(var kn=0;kn<144;++kn)Ds[kn]=8;for(var kn=144;kn<256;++kn)Ds[kn]=9;for(var kn=256;kn<280;++kn)Ds[kn]=7;for(var kn=280;kn<288;++kn)Ds[kn]=8;var wd=new Qt(32);for(var kn=0;kn<32;++kn)wd[kn]=5;var OH=ko(Ds,9,0),PH=ko(Ds,9,1),AH=ko(wd,5,0),RH=ko(wd,5,1),gy=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Eo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},vy=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Km=function(n){return(n/8|0)+(n&7&&1)},Fo=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Dr?Dr:n instanceof Ls?Ls:Qt)(t-e);return r.set(n.subarray(e,t)),r},Xm=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Qt(0);var i=!e||t,o=!t||t.i;t||(t={}),e||(e=new Qt(r*3));var a=function(oe){var de=e.length;if(oe>de){var be=new Qt(Math.max(de*2,oe));be.set(e),e=be}},s=t.f||0,l=t.p||0,u=t.b||0,c=t.l,d=t.d,h=t.m,m=t.n,g=r*8;do{if(!c){t.f=s=Eo(n,l,1);var v=Eo(n,l+1,3);if(l+=3,v)if(v==1)c=PH,d=RH,h=9,m=5;else if(v==2){var b=Eo(n,l,31)+257,S=Eo(n,l+10,15)+4,C=b+Eo(n,l+5,31)+1;l+=14;for(var E=new Qt(C),T=new Qt(19),P=0;P<S;++P)T[wm[P]]=Eo(n,l+P*3,7);l+=S*3;for(var L=gy(T),I=(1<<L)-1,O=ko(T,L,1),P=0;P<C;){var F=O[Eo(n,l,I)];l+=F&15;var y=F>>>4;if(y<16)E[P++]=y;else{var U=0,k=0;for(y==16?(k=3+Eo(n,l,3),l+=2,U=E[P-1]):y==17?(k=3+Eo(n,l,7),l+=3):y==18&&(k=11+Eo(n,l,127),l+=7);k--;)E[P++]=U}}var H=E.subarray(0,b),$=E.subarray(b);h=gy(H),m=gy($),c=ko(H,h,1),d=ko($,m,1)}else throw"invalid block type";else{var y=Km(l)+4,x=n[y-4]|n[y-3]<<8,_=y+x;if(_>r){if(o)throw"unexpected EOF";break}i&&a(u+x),e.set(n.subarray(y,_),u),t.b=u+=x,t.p=l=_*8;continue}if(l>g){if(o)throw"unexpected EOF";break}}i&&a(u+131072);for(var V=(1<<h)-1,N=(1<<m)-1,W=l;;W=l){var U=c[vy(n,l)&V],ee=U>>>4;if(l+=U&15,l>g){if(o)throw"unexpected EOF";break}if(!U)throw"invalid length/literal";if(ee<256)e[u++]=ee;else if(ee==256){W=l,c=null;break}else{var j=ee-254;if(ee>264){var P=ee-257,G=qd[P];j=Eo(n,l,(1<<G)-1)+VO[P],l+=G}var ne=d[vy(n,l)&N],ye=ne>>>4;if(!ne)throw"invalid distance";l+=ne&15;var $=TH[ye];if(ye>3){var G=Zd[ye];$+=vy(n,l)&(1<<G)-1,l+=G}if(l>g){if(o)throw"unexpected EOF";break}i&&a(u+131072);for(var xe=u+j;u<xe;u+=4)e[u]=e[u-$],e[u+1]=e[u+1-$],e[u+2]=e[u+2-$],e[u+3]=e[u+3-$];u=xe}}t.l=c,t.p=W,t.b=u,c&&(s=1,t.m=h,t.d=d,t.n=m)}while(!s);return u==e.length?e:Fo(e,0,u)},Ca=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>>8},cf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},yy=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return[Ms,0];if(i==1){var a=new Qt(t[0].s+1);return a[t[0].s]=1,[a,1]}t.sort(function(C,E){return C.f-E.f}),t.push({s:-1,f:25001});var s=t[0],l=t[1],u=0,c=1,d=2;for(t[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=t[t[u].f<t[d].f?u++:d++],l=t[u!=c&&t[u].f<t[d].f?u++:d++],t[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=o[0].s,r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var m=new Dr(h+1),g=z0(t[c-1],m,0);if(g>e){var r=0,v=0,y=g-e,x=1<<y;for(o.sort(function(E,T){return m[T.s]-m[E.s]||E.f-T.f});r<i;++r){var _=o[r].s;if(m[_]>e)v+=x-(1<<g-m[_]),m[_]=e;else break}for(v>>>=y;v>0;){var b=o[r].s;m[b]<e?v-=1<<e-m[b]++-1:++r}for(;r>=0&&v;--r){var S=o[r].s;m[S]==e&&(--m[S],++v)}g=e}return[new Qt(m),g]},z0=function(n,e,t){return n.s==-1?Math.max(z0(n.l,e,t+1),z0(n.r,e,t+1)):e[n.s]=t},aM=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Dr(++e),r=0,i=n[0],o=1,a=function(l){t[r++]=l},s=1;s<=e;++s)if(n[s]==i&&s!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=n[s]}return[t.subarray(0,r),e]},ff=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Ap=function(n,e,t){var r=t.length,i=Km(e+2);n[i]=r&255,n[i+1]=r>>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},sM=function(n,e,t,r,i,o,a,s,l,u,c){Ca(e,c++,t),++i[256];for(var d=yy(i,15),h=d[0],m=d[1],g=yy(o,15),v=g[0],y=g[1],x=aM(h),_=x[0],b=x[1],S=aM(v),C=S[0],E=S[1],T=new Dr(19),P=0;P<_.length;++P)T[_[P]&31]++;for(var P=0;P<C.length;++P)T[C[P]&31]++;for(var L=yy(T,7),I=L[0],O=L[1],F=19;F>4&&!I[wm[F-1]];--F);var U=u+5<<3,k=ff(i,Ds)+ff(o,wd)+a,H=ff(i,h)+ff(o,v)+a+14+3*F+ff(T,I)+(2*T[16]+3*T[17]+7*T[18]);if(U<=k&&U<=H)return Ap(e,c,n.subarray(l,l+u));var $,V,N,W;if(Ca(e,c,1+(H<k)),c+=2,H<k){$=ko(h,m,0),V=h,N=ko(v,y,0),W=v;var ee=ko(I,O,0);Ca(e,c,b-257),Ca(e,c+5,E-1),Ca(e,c+10,F-4),c+=14;for(var P=0;P<F;++P)Ca(e,c+3*P,I[wm[P]]);c+=3*F;for(var j=[_,C],G=0;G<2;++G)for(var ne=j[G],P=0;P<ne.length;++P){var ye=ne[P]&31;Ca(e,c,ee[ye]),c+=I[ye],ye>15&&(Ca(e,c,ne[P]>>>5&127),c+=ne[P]>>>12)}}else $=OH,V=Ds,N=AH,W=wd;for(var P=0;P<s;++P)if(r[P]>255){var ye=r[P]>>>18&31;cf(e,c,$[ye+257]),c+=V[ye+257],ye>7&&(Ca(e,c,r[P]>>>23&31),c+=qd[ye]);var xe=r[P]&31;cf(e,c,N[xe]),c+=W[xe],xe>3&&(cf(e,c,r[P]>>>5&8191),c+=Zd[xe])}else cf(e,c,$[r[P]]),c+=V[r[P]];return cf(e,c,$[256]),c+V[256]},IH=new Ls([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ms=new Qt(0),NH=function(n,e,t,r,i,o){var a=n.length,s=new Qt(r+a+5*(1+Math.ceil(a/7e3))+i),l=s.subarray(r,s.length-i),u=0;if(!e||a<8)for(var c=0;c<=a;c+=65535){var d=c+65535;d<a?u=Ap(l,u,n.subarray(c,d)):(l[c]=o,u=Ap(l,u,n.subarray(c,a)))}else{for(var h=IH[e-1],m=h>>>13,g=h&8191,v=(1<<t)-1,y=new Dr(32768),x=new Dr(v+1),_=Math.ceil(t/3),b=2*_,S=function(we){return(n[we]^n[we+1]<<_^n[we+2]<<b)&v},C=new Ls(25e3),E=new Dr(288),T=new Dr(32),P=0,L=0,c=0,I=0,O=0,F=0;c<a;++c){var U=S(c),k=c&32767,H=x[U];if(y[k]=H,x[U]=k,O<=c){var $=a-c;if((P>7e3||I>24576)&&$>423){u=sM(n,l,0,C,E,T,L,I,F,c-F,u),I=P=L=0,F=c;for(var V=0;V<286;++V)E[V]=0;for(var V=0;V<30;++V)T[V]=0}var N=2,W=0,ee=g,j=k-H&32767;if($>2&&U==S(c-j))for(var G=Math.min(m,$)-1,ne=Math.min(32767,c),ye=Math.min(258,$);j<=ne&&--ee&&k!=H;){if(n[c+N]==n[c+N-j]){for(var xe=0;xe<ye&&n[c+xe]==n[c+xe-j];++xe);if(xe>N){if(N=xe,W=j,xe>G)break;for(var oe=Math.min(j,xe-2),de=0,V=0;V<oe;++V){var be=c-j+V+32768&32767,ke=y[be],he=be-ke+32768&32767;he>de&&(de=he,H=be)}}}k=H,H=y[k],j+=k-H+32768&32767}if(W){C[I++]=268435456|F0[N]<<18|oM[W];var Le=F0[N]&31,le=oM[W]&31;L+=qd[Le]+Zd[le],++E[257+Le],++T[le],O=c+N,++P}else C[I++]=n[c],++E[n[c]]}}u=sM(n,l,o,C,E,T,L,I,F,c-F,u),!o&&u&7&&(u=Ap(l,u+1,Ms))}return Fo(s,0,r+Km(u)+i)},LH=function(){for(var n=new Ls(256),e=0;e<256;++e){for(var t=e,r=9;--r;)t=(t&1&&3988292384)^t>>>1;n[e]=t}return n}(),Jd=function(){var n=-1;return{p:function(e){for(var t=n,r=0;r<e.length;++r)t=LH[t&255^e[r]]^t>>>8;n=t},d:function(){return~n}}},GO=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|n>>>8<<16|(e&255)<<8|e>>>8}}},yc=function(n,e,t,r,i){return NH(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,r,!i)},Ym=function(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t},yk=function(n,e,t){for(var r=n(),i=n.toString(),o=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),a=0;a<r.length;++a){var s=r[a],l=o[a];if(typeof s=="function"){e+=";"+l+"=";var u=s.toString();if(s.prototype)if(u.indexOf("[native code]")!=-1){var c=u.indexOf(" ",8)+1;e+=u.slice(c,u.indexOf("(",c))}else{e+=u;for(var d in s.prototype)e+=";"+l+".prototype."+d+"="+s.prototype[d].toString()}else e+=u}else t[l]=s}return[e,t]},qv=[],$_e=function(n){var e=[];for(var t in n)(n[t]instanceof Qt||n[t]instanceof Dr||n[t]instanceof Ls)&&e.push((n[t]=new n[t].constructor(n[t])).buffer);return e},DH=function(n,e,t,r){var i;if(!qv[t]){for(var o="",a={},s=n.length-1,l=0;l<s;++l)i=yk(n[l],o,a),o=i[0],a=i[1];qv[t]=yk(n[s],o,a)}var u=Ym({},qv[t][1]);return W_e(qv[t][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,u,$_e(u),r)},Qd=function(){return[Qt,Dr,Ls,qd,Zd,wm,VO,TH,PH,RH,Sm,ko,gy,Eo,vy,Km,Fo,Xm,rh,Ql,WO]},eh=function(){return[Qt,Dr,Ls,qd,Zd,wm,F0,oM,OH,Ds,AH,wd,Sm,IH,Ms,ko,Ca,cf,yy,z0,aM,ff,Ap,sM,Km,Fo,NH,yc,qm,Ql]},kH=function(){return[$O,KO,pn,Jd,LH]},FH=function(){return[jO,UH]},zH=function(){return[XO,pn,GO]},BH=function(){return[HH]},Ql=function(n){return postMessage(n,[n.buffer])},WO=function(n){return n&&n.size&&new Qt(n.size)},th=function(n,e,t,r,i,o){var a=DH(t,r,i,function(s,l){a.terminate(),o(s,l)});return a.postMessage([n,e],e.consume?[n.buffer]:[]),function(){a.terminate()}},Go=function(n){return n.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){return n.push(e.data[0],e.data[1])}},nh=function(n,e,t,r,i){var o,a=DH(n,r,i,function(s,l){s?(a.terminate(),e.ondata.call(e,s)):(l[1]&&a.terminate(),e.ondata.call(e,s,l[0],l[1]))});a.postMessage(t),e.push=function(s,l){if(o)throw"stream finished";if(!e.ondata)throw"no stream handler";a.postMessage([s,o=l],[s.buffer])},e.terminate=function(){a.terminate()}},mi=function(n,e){return n[e]|n[e+1]<<8},lr=function(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0},F1=function(n,e){return lr(n,e)+lr(n,e+4)*4294967296},pn=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},$O=function(n,e){var t=e.filename;if(n[0]=31,n[1]=139,n[2]=8,n[8]=e.level<2?4:e.level==9?2:0,n[9]=3,e.mtime!=0&&pn(n,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){n[3]=8;for(var r=0;r<=t.length;++r)n[r+10]=t.charCodeAt(r)}},jO=function(n){if(n[0]!=31||n[1]!=139||n[2]!=8)throw"invalid gzip data";var e=n[3],t=10;e&4&&(t+=n[10]|(n[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!n[t++]);return t+(e&2)},UH=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},KO=function(n){return 10+(n.filename&&n.filename.length+1||0)},XO=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)},HH=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function YO(n,e){return!e&&typeof n=="function"&&(e=n,n={}),this.ondata=e,n}var Ga=function(){function n(e,t){!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{}}return n.prototype.p=function(e,t){this.ondata(yc(e,this.o,0,0,!t),t)},n.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},n}(),VH=function(){function n(e,t){nh([eh,function(){return[Go,Ga]}],this,YO.call(this,e,t),function(r){var i=new Ga(r.data);onmessage=Go(i)},6)}return n}();function GH(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return th(n,e,[eh],function(r){return Ql(qm(r.data[0],r.data[1]))},0,t)}function qm(n,e){return yc(n,e||{},0,0)}var Fi=function(){function n(e){this.s={},this.p=new Qt(0),this.ondata=e}return n.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,r=new Qt(t+e.length);r.set(this.p),r.set(e,t),this.p=r},n.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,r=Xm(this.p,this.o,this.s);this.ondata(Fo(r,t,this.s.b),this.d),this.o=Fo(r,this.s.b-32768),this.s.b=this.o.length,this.p=Fo(this.p,this.s.p/8|0),this.s.p&=7},n.prototype.push=function(e,t){this.e(e),this.c(t)},n}(),qO=function(){function n(e){this.ondata=e,nh([Qd,function(){return[Go,Fi]}],this,0,function(){var t=new Fi;onmessage=Go(t)},7)}return n}();function ZO(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return th(n,e,[Qd],function(r){return Ql(rh(r.data[0],WO(r.data[1])))},1,t)}function rh(n,e){return Xm(n,e)}var B0=function(){function n(e,t){this.c=Jd(),this.l=0,this.v=1,Ga.call(this,e,t)}return n.prototype.push=function(e,t){Ga.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var r=yc(e,this.o,this.v&&KO(this.o),t&&8,!t);this.v&&($O(r,this.o),this.v=0),t&&(pn(r,r.length-8,this.c.d()),pn(r,r.length-4,this.l)),this.ondata(r,t)},n}(),xk=function(){function n(e,t){nh([eh,kH,function(){return[Go,Ga,B0]}],this,YO.call(this,e,t),function(r){var i=new B0(r.data);onmessage=Go(i)},8)}return n}();function _k(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return th(n,e,[eh,kH,function(){return[U0]}],function(r){return Ql(U0(r.data[0],r.data[1]))},2,t)}function U0(n,e){e||(e={});var t=Jd(),r=n.length;t.p(n);var i=yc(n,e,KO(e),8),o=i.length;return $O(i,e),pn(i,o-8,t.d()),pn(i,o-4,r),i}var H0=function(){function n(e){this.v=1,Fi.call(this,e)}return n.prototype.push=function(e,t){if(Fi.prototype.e.call(this,e),this.v){var r=this.p.length>3?jO(this.p):4;if(r>=this.p.length&&!t)return;this.p=this.p.subarray(r),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}Fi.prototype.c.call(this,t)},n}(),WH=function(){function n(e){this.ondata=e,nh([Qd,FH,function(){return[Go,Fi,H0]}],this,0,function(){var t=new H0;onmessage=Go(t)},9)}return n}();function $H(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return th(n,e,[Qd,FH,function(){return[V0]}],function(r){return Ql(V0(r.data[0]))},3,t)}function V0(n,e){return Xm(n.subarray(jO(n),-8),e||new Qt(UH(n)))}var lM=function(){function n(e,t){this.c=GO(),this.v=1,Ga.call(this,e,t)}return n.prototype.push=function(e,t){Ga.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e);var r=yc(e,this.o,this.v&&2,t&&4,!t);this.v&&(XO(r,this.o),this.v=0),t&&pn(r,r.length-4,this.c.d()),this.ondata(r,t)},n}(),j_e=function(){function n(e,t){nh([eh,zH,function(){return[Go,Ga,lM]}],this,YO.call(this,e,t),function(r){var i=new lM(r.data);onmessage=Go(i)},10)}return n}();function K_e(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return th(n,e,[eh,zH,function(){return[uM]}],function(r){return Ql(uM(r.data[0],r.data[1]))},4,t)}function uM(n,e){e||(e={});var t=GO();t.p(n);var r=yc(n,e,2,4);return XO(r,e),pn(r,r.length-4,t.d()),r}var G0=function(){function n(e){this.v=1,Fi.call(this,e)}return n.prototype.push=function(e,t){if(Fi.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}Fi.prototype.c.call(this,t)},n}(),jH=function(){function n(e){this.ondata=e,nh([Qd,BH,function(){return[Go,Fi,G0]}],this,0,function(){var t=new G0;onmessage=Go(t)},11)}return n}();function KH(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return th(n,e,[Qd,BH,function(){return[wl]}],function(r){return Ql(wl(r.data[0],WO(r.data[1])))},5,t)}function wl(n,e){return Xm((HH(n),n.subarray(2,-4)),e)}var XH=function(){function n(e){this.G=H0,this.I=Fi,this.Z=G0,this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var r=new Qt(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var i=this,o=function(){i.ondata.apply(i,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(o):new this.Z(o),this.s.push(this.p,t),this.p=null}}},n}(),X_e=function(){function n(e){this.G=WH,this.I=qO,this.Z=jH,this.ondata=e}return n.prototype.push=function(e,t){XH.prototype.push.call(this,e,t)},n}();function Y_e(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return n[0]==31&&n[1]==139&&n[2]==8?$H(n,e,t):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?ZO(n,e,t):KH(n,e,t)}function q_e(n,e){return n[0]==31&&n[1]==139&&n[2]==8?V0(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?rh(n,e):wl(n,e)}var JO=function(n,e,t,r){for(var i in n){var o=n[i],a=e+i;o instanceof Qt?t[a]=[o,r]:Array.isArray(o)?t[a]=[o[0],Ym(r,o[1])]:JO(o,a+"/",t,r)}},bk=typeof TextEncoder<"u"&&new TextEncoder,cM=typeof TextDecoder<"u"&&new TextDecoder,YH=0;try{cM.decode(Ms,{stream:!0}),YH=1}catch{}var qH=function(n){for(var e="",t=0;;){var r=n[t++],i=(r>127)+(r>223)+(r>239);if(t+i>n.length)return[e,Fo(n,t-1)];i?i==3?(r=((r&15)<<18|(n[t++]&63)<<12|(n[t++]&63)<<6|n[t++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|n[t++]&63):e+=String.fromCharCode((r&15)<<12|(n[t++]&63)<<6|n[t++]&63):e+=String.fromCharCode(r)}},Z_e=function(){function n(e){this.ondata=e,YH?this.t=new TextDecoder:this.p=Ms}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t=!!t,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),t),t){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var r=new Qt(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var i=qH(r),o=i[0],a=i[1];if(t){if(a.length)throw"invalid utf-8 data";this.p=null}else this.p=a;this.ondata(o,t)},n}(),J_e=function(){function n(e){this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(Gl(e),this.d=t||!1)},n}();function Gl(n,e){if(e){for(var t=new Qt(n.length),r=0;r<n.length;++r)t[r]=n.charCodeAt(r);return t}if(bk)return bk.encode(n);for(var i=n.length,o=new Qt(n.length+(n.length>>1)),a=0,s=function(c){o[a++]=c},r=0;r<i;++r){if(a+5>o.length){var l=new Qt(a+8+(i-r<<1));l.set(o),o=l}var u=n.charCodeAt(r);u<128||e?s(u):u<2048?(s(192|u>>6),s(128|u&63)):u>55295&&u<57344?(u=65536+(u&1023<<10)|n.charCodeAt(++r)&1023,s(240|u>>18),s(128|u>>12&63),s(128|u>>6&63),s(128|u&63)):(s(224|u>>12),s(128|u>>6&63),s(128|u&63))}return Fo(o,0,a)}function QO(n,e){if(e){for(var t="",r=0;r<n.length;r+=16384)t+=String.fromCharCode.apply(null,n.subarray(r,r+16384));return t}else{if(cM)return cM.decode(n);var i=qH(n),o=i[0],a=i[1];if(a.length)throw"invalid utf-8 data";return o}}var ZH=function(n){return n==1?3:n<6?2:n==9?1:0},JH=function(n,e){return e+30+mi(n,e+26)+mi(n,e+28)},QH=function(n,e,t){var r=mi(n,e+28),i=QO(n.subarray(e+46,e+46+r),!(mi(n,e+8)&2048)),o=e+46+r,a=lr(n,e+20),s=t&&a==4294967295?e6(n,o):[a,lr(n,e+24),lr(n,e+42)],l=s[0],u=s[1],c=s[2];return[mi(n,e+10),l,u,i,o+mi(n,e+30)+mi(n,e+32),c]},e6=function(n,e){for(;mi(n,e)!=1;e+=4+mi(n,e+2));return[F1(n,e+12),F1(n,e+4),F1(n,e+20)]},Nl=function(n){var e=0;if(n)for(var t in n){var r=n[t].length;if(r>65535)throw"extra field too long";e+=r+4}return e},Sd=function(n,e,t,r,i,o,a,s){var l=r.length,u=t.extra,c=s&&s.length,d=Nl(u);pn(n,e,a!=null?33639248:67324752),e+=4,a!=null&&(n[e++]=20,n[e++]=t.os),n[e]=20,e+=2,n[e++]=t.flag<<1|(o==null&&8),n[e++]=i&&8,n[e++]=t.compression&255,n[e++]=t.compression>>8;var h=new Date(t.mtime==null?Date.now():t.mtime),m=h.getFullYear()-1980;if(m<0||m>119)throw"date not in range 1980-2099";if(pn(n,e,m<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),e+=4,o!=null&&(pn(n,e,t.crc),pn(n,e+4,o),pn(n,e+8,t.size)),pn(n,e+12,l),pn(n,e+14,d),e+=16,a!=null&&(pn(n,e,c),pn(n,e+6,t.attrs),pn(n,e+10,a),e+=14),n.set(r,e),e+=l,d)for(var g in u){var v=u[g],y=v.length;pn(n,e,+g),pn(n,e+2,y),n.set(v,e+4),e+=4+y}return c&&(n.set(s,e),e+=c),e},eP=function(n,e,t,r,i){pn(n,e,101010256),pn(n,e+8,t),pn(n,e+10,t),pn(n,e+12,r),pn(n,e+16,i)},Cm=function(){function n(e){this.filename=e,this.c=Jd(),this.size=0,this.compression=0}return n.prototype.process=function(e,t){this.ondata(null,e,t)},n.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},n}(),Q_e=function(){function n(e,t){var r=this;t||(t={}),Cm.call(this,e),this.d=new Ga(t,function(i,o){r.ondata(null,i,o)}),this.compression=8,this.flag=ZH(t.level)}return n.prototype.process=function(e,t){try{this.d.push(e,t)}catch(r){this.ondata(r,null,t)}},n.prototype.push=function(e,t){Cm.prototype.push.call(this,e,t)},n}(),ebe=function(){function n(e,t){var r=this;t||(t={}),Cm.call(this,e),this.d=new VH(t,function(i,o,a){r.ondata(i,o,a)}),this.compression=8,this.flag=ZH(t.level),this.terminate=this.d.terminate}return n.prototype.process=function(e,t){this.d.push(e,t)},n.prototype.push=function(e,t){Cm.prototype.push.call(this,e,t)},n}(),tbe=function(){function n(e){this.ondata=e,this.u=[],this.d=1}return n.prototype.add=function(e){var t=this;if(this.d&2)throw"stream finished";var r=Gl(e.filename),i=r.length,o=e.comment,a=o&&Gl(o),s=i!=e.filename.length||a&&o.length!=a.length,l=i+Nl(e.extra)+30;if(i>65535)throw"filename too long";var u=new Qt(l);Sd(u,0,e,r,s);var c=[u],d=function(){for(var y=0,x=c;y<x.length;y++){var _=x[y];t.ondata(null,_,!1)}c=[]},h=this.d;this.d=0;var m=this.u.length,g=Ym(e,{f:r,u:s,o:a,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),h){var y=t.u[m+1];y?y.r():t.d=1}h=1}}),v=0;e.ondata=function(y,x,_){if(y)t.ondata(y,x,_),t.terminate();else if(v+=x.length,c.push(x),_){var b=new Qt(16);pn(b,0,134695760),pn(b,4,e.crc),pn(b,8,v),pn(b,12,e.size),c.push(b),g.c=v,g.b=l+v+16,g.crc=e.crc,g.size=e.size,h&&g.r(),h=1}else h&&d()},this.u.push(g)},n.prototype.end=function(){var e=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){!(e.d&1)||(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},n.prototype.e=function(){for(var e=0,t=0,r=0,i=0,o=this.u;i<o.length;i++){var a=o[i];r+=46+a.f.length+Nl(a.extra)+(a.o?a.o.length:0)}for(var s=new Qt(r+22),l=0,u=this.u;l<u.length;l++){var a=u[l];Sd(s,e,a,a.f,a.u,a.c,t,a.o),e+=46+a.f.length+Nl(a.extra)+(a.o?a.o.length:0),t+=a.b}eP(s,e,this.u.length,r,t),this.ondata(null,s,!0),this.d=2},n.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){var r=t[e];r.t()}this.d=2},n}();function nbe(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";var r={};JO(n,"",r,e);var i=Object.keys(r),o=i.length,a=0,s=0,l=o,u=new Array(o),c=[],d=function(){for(var v=0;v<c.length;++v)c[v]()},h=function(){var v=new Qt(s+22),y=a,x=s-a;s=0;for(var _=0;_<l;++_){var b=u[_];try{var S=b.c.length;Sd(v,s,b,b.f,b.u,S);var C=30+b.f.length+Nl(b.extra),E=s+C;v.set(b.c,E),Sd(v,a,b,b.f,b.u,S,s,b.m),a+=16+C+(b.m?b.m.length:0),s=E+S}catch(T){return t(T,null)}}eP(v,a,u.length,x,y),t(null,v)};o||h();for(var m=function(v){var y=i[v],x=r[y],_=x[0],b=x[1],S=Jd(),C=_.length;S.p(_);var E=Gl(y),T=E.length,P=b.comment,L=P&&Gl(P),I=L&&L.length,O=Nl(b.extra),F=b.level==0?0:8,U=function(k,H){if(k)d(),t(k,null);else{var $=H.length;u[v]=Ym(b,{size:C,crc:S.d(),c:H,f:E,m:L,u:T!=y.length||L&&P.length!=I,compression:F}),a+=30+T+O+$,s+=76+2*(T+O)+(I||0)+$,--o||h()}};if(T>65535&&U("filename too long",null),!F)U(null,_);else if(C<16e4)try{U(null,qm(_,b))}catch(k){U(k,null)}else c.push(GH(_,b,U))},g=0;g<l;++g)m(g);return d}function rbe(n,e){e||(e={});var t={},r=[];JO(n,"",t,e);var i=0,o=0;for(var a in t){var s=t[a],l=s[0],u=s[1],c=u.level==0?0:8,d=Gl(a),h=d.length,m=u.comment,g=m&&Gl(m),v=g&&g.length,y=Nl(u.extra);if(h>65535)throw"filename too long";var x=c?qm(l,u):l,_=x.length,b=Jd();b.p(l),r.push(Ym(u,{size:l.length,crc:b.d(),c:x,f:d,m:g,u:h!=a.length||g&&m.length!=v,o:i,compression:c})),i+=30+h+y+_,o+=76+2*(h+y)+(v||0)+_}for(var S=new Qt(o+22),C=i,E=o-i,T=0;T<r.length;++T){var d=r[T];Sd(S,d.o,d,d.f,d.u,d.c.length);var P=30+d.f.length+Nl(d.extra);S.set(d.c,d.o+P),Sd(S,i,d,d.f,d.u,d.c.length,d.o,d.m),i+=16+P+(d.m?d.m.length:0)}return eP(S,i,r.length,E,C),S}var t6=function(){function n(){}return n.prototype.push=function(e,t){this.ondata(null,e,t)},n.compression=0,n}(),ibe=function(){function n(){var e=this;this.i=new Fi(function(t,r){e.ondata(null,t,r)})}return n.prototype.push=function(e,t){try{this.i.push(e,t)}catch(r){this.ondata(r,e,t)}},n.compression=8,n}(),obe=function(){function n(e,t){var r=this;t<32e4?this.i=new Fi(function(i,o){r.ondata(null,i,o)}):(this.i=new qO(function(i,o,a){r.ondata(i,o,a)}),this.terminate=this.i.terminate)}return n.prototype.push=function(e,t){this.i.terminate&&(e=Fo(e,0)),this.i.push(e,t)},n.compression=8,n}(),abe=function(){function n(e){this.onfile=e,this.k=[],this.o={0:t6},this.p=Ms}return n.prototype.push=function(e,t){var r=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var i=Math.min(this.c,e.length),o=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(o,!this.c):this.k[0].push(o),e=e.subarray(i),e.length)return this.push(e,t)}else{var a=0,s=0,l=void 0,u=void 0;this.p.length?e.length?(u=new Qt(this.p.length+e.length),u.set(this.p),u.set(e,this.p.length)):u=this.p:u=e;for(var c=u.length,d=this.c,h=d&&this.d,m=function(){var x,_=lr(u,s);if(_==67324752){a=1,l=s,g.d=null,g.c=0;var b=mi(u,s+6),S=mi(u,s+8),C=b&2048,E=b&8,T=mi(u,s+26),P=mi(u,s+28);if(c>s+30+T+P){var L=[];g.k.unshift(L),a=2;var I=lr(u,s+18),O=lr(u,s+22),F=QO(u.subarray(s+30,s+=30+T),!C);I==4294967295?(x=E?[-2]:e6(u,s),I=x[0],O=x[1]):E&&(I=-1),s+=P,g.c=I;var U,k={name:F,compression:S,start:function(){if(!k.ondata)throw"no callback";if(!I)k.ondata(null,Ms,!0);else{var H=r.o[S];if(!H)throw"unknown compression type "+S;U=I<0?new H(F):new H(F,I,O),U.ondata=function(W,ee,j){k.ondata(W,ee,j)};for(var $=0,V=L;$<V.length;$++){var N=V[$];U.push(N,!1)}r.k[0]==L&&r.c?r.d=U:U.push(Ms,!0)}},terminate:function(){U&&U.terminate&&U.terminate()}};I>=0&&(k.size=I,k.originalSize=O),g.onfile(k)}return"break"}else if(d){if(_==134695760)return l=s+=12+(d==-2&&8),a=3,g.c=0,"break";if(_==33639248)return l=s-=4,a=3,g.c=0,"break"}},g=this;s<c-4;++s){var v=m();if(v==="break")break}if(this.p=Ms,d<0){var y=a?u.subarray(0,l-12-(d==-2&&8)-(lr(u,l-16)==134695760&&4)):u.subarray(0,s);h?h.push(y,!!a):this.k[+(a==2)].push(y)}if(a&2)return this.push(u.subarray(s),t);this.p=u.subarray(s)}if(t){if(this.c)throw"invalid zip file";this.p=null}},n.prototype.register=function(e){this.o[e.compression]=e},n}();function sbe(n,e){if(typeof e!="function")throw"no callback";for(var t=[],r=function(){for(var h=0;h<t.length;++h)t[h]()},i={},o=n.length-22;lr(n,o)!=101010256;--o)if(!o||n.length-o>65558){e("invalid zip file",null);return}var a=mi(n,o+8);a||e(null,{});var s=a,l=lr(n,o+16),u=l==4294967295;if(u){if(o=lr(n,o-12),lr(n,o)!=101075792){e("invalid zip file",null);return}s=a=lr(n,o+32),l=lr(n,o+48)}for(var c=function(h){var m=QH(n,l,u),g=m[0],v=m[1],y=m[2],x=m[3],_=m[4],b=m[5],S=JH(n,b);l=_;var C=function(T,P){T?(r(),e(T,null)):(i[x]=P,--a||e(null,i))};if(!g)C(null,Fo(n,S,S+v));else if(g==8){var E=n.subarray(S,S+v);if(v<32e4)try{C(null,rh(E,new Qt(y)))}catch(T){C(T,null)}else t.push(ZO(E,{size:y},C))}else C("unknown compression type "+g,null)},d=0;d<s;++d)c();return r}function lbe(n){for(var e={},t=n.length-22;lr(n,t)!=101010256;--t)if(!t||n.length-t>65558)throw"invalid zip file";var r=mi(n,t+8);if(!r)return{};var i=lr(n,t+16),o=i==4294967295;if(o){if(t=lr(n,t-12),lr(n,t)!=101075792)throw"invalid zip file";r=lr(n,t+32),i=lr(n,t+48)}for(var a=0;a<r;++a){var s=QH(n,i,o),l=s[0],u=s[1],c=s[2],d=s[3],h=s[4],m=s[5],g=JH(n,m);if(i=h,!l)e[d]=Fo(n,g,g+u);else if(l==8)e[d]=rh(n.subarray(g,g+u),new Qt(c));else throw"unknown compression type "+l}return e}var wk=Object.freeze(Object.defineProperty({__proto__:null,Deflate:Ga,AsyncDeflate:VH,deflate:GH,deflateSync:qm,Inflate:Fi,AsyncInflate:qO,inflate:ZO,inflateSync:rh,Gzip:B0,AsyncGzip:xk,gzip:_k,gzipSync:U0,Gunzip:H0,AsyncGunzip:WH,gunzip:$H,gunzipSync:V0,Zlib:lM,AsyncZlib:j_e,zlib:K_e,zlibSync:uM,Unzlib:G0,AsyncUnzlib:jH,unzlib:KH,unzlibSync:wl,compress:_k,AsyncCompress:xk,compressSync:U0,Compress:B0,Decompress:XH,AsyncDecompress:X_e,decompress:Y_e,decompressSync:q_e,DecodeUTF8:Z_e,EncodeUTF8:J_e,strToU8:Gl,strFromU8:QO,ZipPassThrough:Cm,ZipDeflate:Q_e,AsyncZipDeflate:ebe,Zip:tbe,zip:nbe,zipSync:rbe,UnzipPassThrough:t6,UnzipInflate:ibe,AsyncUnzipInflate:obe,Unzip:abe,unzip:sbe,unzipSync:lbe},Symbol.toStringTag,{value:"Module"}));class ube extends cH{constructor(e){super(e),this.type=Ni}parse(e){const L=Math.pow(2.7182818,2.2);function I(D,X){let te=0;for(let Re=0;Re<65536;++Re)(Re==0||D[Re>>3]&1<<(Re&7))&&(X[te++]=Re);const ge=te-1;for(;te<65536;)X[te++]=0;return ge}function O(D){for(let X=0;X<16384;X++)D[X]={},D[X].len=0,D[X].lit=0,D[X].p=null}const F={l:0,c:0,lc:0};function U(D,X,te,ge,Re){for(;te<D;)X=X<<8|Ae(ge,Re),te+=8;te-=D,F.l=X>>te&(1<<D)-1,F.c=X,F.lc=te}const k=new Array(59);function H(D){for(let te=0;te<=58;++te)k[te]=0;for(let te=0;te<65537;++te)k[D[te]]+=1;let X=0;for(let te=58;te>0;--te){const ge=X+k[te]>>1;k[te]=X,X=ge}for(let te=0;te<65537;++te){const ge=D[te];ge>0&&(D[te]=ge|k[ge]++<<6)}}function $(D,X,te,ge,Re,Pe){const rt=X;let st=0,ft=0;for(;ge<=Re;ge++){if(rt.value-X.value>te)return!1;U(6,st,ft,D,rt);const Qe=F.l;if(st=F.c,ft=F.lc,Pe[ge]=Qe,Qe==63){if(rt.value-X.value>te)throw new Error("Something wrong with hufUnpackEncTable");U(8,st,ft,D,rt);let Je=F.l+6;if(st=F.c,ft=F.lc,ge+Je>Re+1)throw new Error("Something wrong with hufUnpackEncTable");for(;Je--;)Pe[ge++]=0;ge--}else if(Qe>=59){let Je=Qe-59+2;if(ge+Je>Re+1)throw new Error("Something wrong with hufUnpackEncTable");for(;Je--;)Pe[ge++]=0;ge--}}H(Pe)}function V(D){return D&63}function N(D){return D>>6}function W(D,X,te,ge){for(;X<=te;X++){const Re=N(D[X]),Pe=V(D[X]);if(Re>>Pe)throw new Error("Invalid table entry");if(Pe>14){const rt=ge[Re>>Pe-14];if(rt.len)throw new Error("Invalid table entry");if(rt.lit++,rt.p){const st=rt.p;rt.p=new Array(rt.lit);for(let ft=0;ft<rt.lit-1;++ft)rt.p[ft]=st[ft]}else rt.p=new Array(1);rt.p[rt.lit-1]=X}else if(Pe){let rt=0;for(let st=1<<14-Pe;st>0;st--){const ft=ge[(Re<<14-Pe)+rt];if(ft.len||ft.p)throw new Error("Invalid table entry");ft.len=Pe,ft.lit=X,rt++}}}return!0}const ee={c:0,lc:0};function j(D,X,te,ge){D=D<<8|Ae(te,ge),X+=8,ee.c=D,ee.lc=X}const G={c:0,lc:0};function ne(D,X,te,ge,Re,Pe,rt,st,ft){if(D==X){ge<8&&(j(te,ge,Re,Pe),te=ee.c,ge=ee.lc),ge-=8;let Qe=te>>ge;if(Qe=new Uint8Array([Qe])[0],st.value+Qe>ft)return!1;const Je=rt[st.value-1];for(;Qe-- >0;)rt[st.value++]=Je}else if(st.value<ft)rt[st.value++]=D;else return!1;G.c=te,G.lc=ge}function ye(D){return D&65535}function xe(D){const X=ye(D);return X>32767?X-65536:X}const oe={a:0,b:0};function de(D,X){const te=xe(D),Re=xe(X),Pe=te+(Re&1)+(Re>>1),rt=Pe,st=Pe-Re;oe.a=rt,oe.b=st}function be(D,X){const te=ye(D),ge=ye(X),Re=te-(ge>>1)&65535,Pe=ge+Re-32768&65535;oe.a=Pe,oe.b=Re}function ke(D,X,te,ge,Re,Pe,rt){const st=rt<16384,ft=te>Re?Re:te;let Qe=1,Je,yt;for(;Qe<=ft;)Qe<<=1;for(Qe>>=1,Je=Qe,Qe>>=1;Qe>=1;){yt=0;const dt=yt+Pe*(Re-Je),Et=Pe*Qe,Rt=Pe*Je,_t=ge*Qe,Tt=ge*Je;let Pt,fn,Mn,En;for(;yt<=dt;yt+=Rt){let Tn=yt;const qt=yt+ge*(te-Je);for(;Tn<=qt;Tn+=Tt){const Qn=Tn+_t,ni=Tn+Et,er=ni+_t;st?(de(D[Tn+X],D[ni+X]),Pt=oe.a,Mn=oe.b,de(D[Qn+X],D[er+X]),fn=oe.a,En=oe.b,de(Pt,fn),D[Tn+X]=oe.a,D[Qn+X]=oe.b,de(Mn,En),D[ni+X]=oe.a,D[er+X]=oe.b):(be(D[Tn+X],D[ni+X]),Pt=oe.a,Mn=oe.b,be(D[Qn+X],D[er+X]),fn=oe.a,En=oe.b,be(Pt,fn),D[Tn+X]=oe.a,D[Qn+X]=oe.b,be(Mn,En),D[ni+X]=oe.a,D[er+X]=oe.b)}if(te&Qe){const Qn=Tn+Et;st?de(D[Tn+X],D[Qn+X]):be(D[Tn+X],D[Qn+X]),Pt=oe.a,D[Qn+X]=oe.b,D[Tn+X]=Pt}}if(Re&Qe){let Tn=yt;const qt=yt+ge*(te-Je);for(;Tn<=qt;Tn+=Tt){const Qn=Tn+_t;st?de(D[Tn+X],D[Qn+X]):be(D[Tn+X],D[Qn+X]),Pt=oe.a,D[Qn+X]=oe.b,D[Tn+X]=Pt}}Je=Qe,Qe>>=1}return yt}function he(D,X,te,ge,Re,Pe,rt,st,ft){let Qe=0,Je=0;const yt=rt,dt=Math.trunc(ge.value+(Re+7)/8);for(;ge.value<dt;)for(j(Qe,Je,te,ge),Qe=ee.c,Je=ee.lc;Je>=14;){const Rt=Qe>>Je-14&16383,_t=X[Rt];if(_t.len)Je-=_t.len,ne(_t.lit,Pe,Qe,Je,te,ge,st,ft,yt),Qe=G.c,Je=G.lc;else{if(!_t.p)throw new Error("hufDecode issues");let Tt;for(Tt=0;Tt<_t.lit;Tt++){const Pt=V(D[_t.p[Tt]]);for(;Je<Pt&&ge.value<dt;)j(Qe,Je,te,ge),Qe=ee.c,Je=ee.lc;if(Je>=Pt&&N(D[_t.p[Tt]])==(Qe>>Je-Pt&(1<<Pt)-1)){Je-=Pt,ne(_t.p[Tt],Pe,Qe,Je,te,ge,st,ft,yt),Qe=G.c,Je=G.lc;break}}if(Tt==_t.lit)throw new Error("hufDecode issues")}}const Et=8-Re&7;for(Qe>>=Et,Je-=Et;Je>0;){const Rt=X[Qe<<14-Je&16383];if(Rt.len)Je-=Rt.len,ne(Rt.lit,Pe,Qe,Je,te,ge,st,ft,yt),Qe=G.c,Je=G.lc;else throw new Error("hufDecode issues")}return!0}function Le(D,X,te,ge,Re,Pe){const rt={value:0},st=te.value,ft=ve(X,te),Qe=ve(X,te);te.value+=4;const Je=ve(X,te);if(te.value+=4,ft<0||ft>=65537||Qe<0||Qe>=65537)throw new Error("Something wrong with HUF_ENCSIZE");const yt=new Array(65537),dt=new Array(16384);O(dt);const Et=ge-(te.value-st);if($(D,te,Et,ft,Qe,yt),Je>8*(ge-(te.value-st)))throw new Error("Something wrong with hufUncompress");W(yt,ft,Qe,dt),he(yt,dt,D,te,Je,Qe,Pe,Re,rt)}function le(D,X,te){for(let ge=0;ge<te;++ge)X[ge]=D[X[ge]]}function ce(D){for(let X=1;X<D.length;X++){const te=D[X-1]+D[X]-128;D[X]=te}}function we(D,X){let te=0,ge=Math.floor((D.length+1)/2),Re=0;const Pe=D.length-1;for(;!(Re>Pe||(X[Re++]=D[te++],Re>Pe));)X[Re++]=D[ge++]}function De(D){let X=D.byteLength;const te=new Array;let ge=0;const Re=new DataView(D);for(;X>0;){const Pe=Re.getInt8(ge++);if(Pe<0){const rt=-Pe;X-=rt+1;for(let st=0;st<rt;st++)te.push(Re.getUint8(ge++))}else{const rt=Pe;X-=2;const st=Re.getUint8(ge++);for(let ft=0;ft<rt+1;ft++)te.push(st)}}return te}function pe(D,X,te,ge,Re,Pe){let rt=new DataView(Pe.buffer);const st=te[D.idx[0]].width,ft=te[D.idx[0]].height,Qe=3,Je=Math.floor(st/8),yt=Math.ceil(st/8),dt=Math.ceil(ft/8),Et=st-(yt-1)*8,Rt=ft-(dt-1)*8,_t={value:0},Tt=new Array(Qe),Pt=new Array(Qe),fn=new Array(Qe),Mn=new Array(Qe),En=new Array(Qe);for(let qt=0;qt<Qe;++qt)En[qt]=X[D.idx[qt]],Tt[qt]=qt<1?0:Tt[qt-1]+yt*dt,Pt[qt]=new Float32Array(64),fn[qt]=new Uint16Array(64),Mn[qt]=new Uint16Array(yt*64);for(let qt=0;qt<dt;++qt){let Qn=8;qt==dt-1&&(Qn=Rt);let ni=8;for(let ln=0;ln<yt;++ln){ln==yt-1&&(ni=Et);for(let mn=0;mn<Qe;++mn)fn[mn].fill(0),fn[mn][0]=Re[Tt[mn]++],Oe(_t,ge,fn[mn]),Te(fn[mn],Pt[mn]),je(Pt[mn]);it(Pt);for(let mn=0;mn<Qe;++mn)nt(Pt[mn],Mn[mn],ln*64)}let er=0;for(let ln=0;ln<Qe;++ln){const mn=te[D.idx[ln]].type;for(let wi=8*qt;wi<8*qt+Qn;++wi){er=En[ln][wi];for(let Us=0;Us<Je;++Us){const mo=Us*64+(wi&7)*8;rt.setUint16(er+0*2*mn,Mn[ln][mo+0],!0),rt.setUint16(er+1*2*mn,Mn[ln][mo+1],!0),rt.setUint16(er+2*2*mn,Mn[ln][mo+2],!0),rt.setUint16(er+3*2*mn,Mn[ln][mo+3],!0),rt.setUint16(er+4*2*mn,Mn[ln][mo+4],!0),rt.setUint16(er+5*2*mn,Mn[ln][mo+5],!0),rt.setUint16(er+6*2*mn,Mn[ln][mo+6],!0),rt.setUint16(er+7*2*mn,Mn[ln][mo+7],!0),er+=8*2*mn}}if(Je!=yt)for(let wi=8*qt;wi<8*qt+Qn;++wi){const Us=En[ln][wi]+8*Je*2*mn,mo=Je*64+(wi&7)*8;for(let eu=0;eu<ni;++eu)rt.setUint16(Us+eu*2*mn,Mn[ln][mo+eu],!0)}}}const Tn=new Uint16Array(st);rt=new DataView(Pe.buffer);for(let qt=0;qt<Qe;++qt){te[D.idx[qt]].decoded=!0;const Qn=te[D.idx[qt]].type;if(te[qt].type==2)for(let ni=0;ni<ft;++ni){const er=En[qt][ni];for(let ln=0;ln<st;++ln)Tn[ln]=rt.getUint16(er+ln*2*Qn,!0);for(let ln=0;ln<st;++ln)rt.setFloat32(er+ln*2*Qn,Fe(Tn[ln]),!0)}}}function Oe(D,X,te){let ge,Re=1;for(;Re<64;)ge=X[D.value],ge==65280?Re=64:ge>>8==255?Re+=ge&255:(te[Re]=ge,Re++),D.value++}function Te(D,X){X[0]=Fe(D[0]),X[1]=Fe(D[1]),X[2]=Fe(D[5]),X[3]=Fe(D[6]),X[4]=Fe(D[14]),X[5]=Fe(D[15]),X[6]=Fe(D[27]),X[7]=Fe(D[28]),X[8]=Fe(D[2]),X[9]=Fe(D[4]),X[10]=Fe(D[7]),X[11]=Fe(D[13]),X[12]=Fe(D[16]),X[13]=Fe(D[26]),X[14]=Fe(D[29]),X[15]=Fe(D[42]),X[16]=Fe(D[3]),X[17]=Fe(D[8]),X[18]=Fe(D[12]),X[19]=Fe(D[17]),X[20]=Fe(D[25]),X[21]=Fe(D[30]),X[22]=Fe(D[41]),X[23]=Fe(D[43]),X[24]=Fe(D[9]),X[25]=Fe(D[11]),X[26]=Fe(D[18]),X[27]=Fe(D[24]),X[28]=Fe(D[31]),X[29]=Fe(D[40]),X[30]=Fe(D[44]),X[31]=Fe(D[53]),X[32]=Fe(D[10]),X[33]=Fe(D[19]),X[34]=Fe(D[23]),X[35]=Fe(D[32]),X[36]=Fe(D[39]),X[37]=Fe(D[45]),X[38]=Fe(D[52]),X[39]=Fe(D[54]),X[40]=Fe(D[20]),X[41]=Fe(D[22]),X[42]=Fe(D[33]),X[43]=Fe(D[38]),X[44]=Fe(D[46]),X[45]=Fe(D[51]),X[46]=Fe(D[55]),X[47]=Fe(D[60]),X[48]=Fe(D[21]),X[49]=Fe(D[34]),X[50]=Fe(D[37]),X[51]=Fe(D[47]),X[52]=Fe(D[50]),X[53]=Fe(D[56]),X[54]=Fe(D[59]),X[55]=Fe(D[61]),X[56]=Fe(D[35]),X[57]=Fe(D[36]),X[58]=Fe(D[48]),X[59]=Fe(D[49]),X[60]=Fe(D[57]),X[61]=Fe(D[58]),X[62]=Fe(D[62]),X[63]=Fe(D[63])}function je(D){const X=.5*Math.cos(.7853975),te=.5*Math.cos(3.14159/16),ge=.5*Math.cos(3.14159/8),Re=.5*Math.cos(3*3.14159/16),Pe=.5*Math.cos(5*3.14159/16),rt=.5*Math.cos(3*3.14159/8),st=.5*Math.cos(7*3.14159/16),ft=new Array(4),Qe=new Array(4),Je=new Array(4),yt=new Array(4);for(let dt=0;dt<8;++dt){const Et=dt*8;ft[0]=ge*D[Et+2],ft[1]=rt*D[Et+2],ft[2]=ge*D[Et+6],ft[3]=rt*D[Et+6],Qe[0]=te*D[Et+1]+Re*D[Et+3]+Pe*D[Et+5]+st*D[Et+7],Qe[1]=Re*D[Et+1]-st*D[Et+3]-te*D[Et+5]-Pe*D[Et+7],Qe[2]=Pe*D[Et+1]-te*D[Et+3]+st*D[Et+5]+Re*D[Et+7],Qe[3]=st*D[Et+1]-Pe*D[Et+3]+Re*D[Et+5]-te*D[Et+7],Je[0]=X*(D[Et+0]+D[Et+4]),Je[3]=X*(D[Et+0]-D[Et+4]),Je[1]=ft[0]+ft[3],Je[2]=ft[1]-ft[2],yt[0]=Je[0]+Je[1],yt[1]=Je[3]+Je[2],yt[2]=Je[3]-Je[2],yt[3]=Je[0]-Je[1],D[Et+0]=yt[0]+Qe[0],D[Et+1]=yt[1]+Qe[1],D[Et+2]=yt[2]+Qe[2],D[Et+3]=yt[3]+Qe[3],D[Et+4]=yt[3]-Qe[3],D[Et+5]=yt[2]-Qe[2],D[Et+6]=yt[1]-Qe[1],D[Et+7]=yt[0]-Qe[0]}for(let dt=0;dt<8;++dt)ft[0]=ge*D[16+dt],ft[1]=rt*D[16+dt],ft[2]=ge*D[48+dt],ft[3]=rt*D[48+dt],Qe[0]=te*D[8+dt]+Re*D[24+dt]+Pe*D[40+dt]+st*D[56+dt],Qe[1]=Re*D[8+dt]-st*D[24+dt]-te*D[40+dt]-Pe*D[56+dt],Qe[2]=Pe*D[8+dt]-te*D[24+dt]+st*D[40+dt]+Re*D[56+dt],Qe[3]=st*D[8+dt]-Pe*D[24+dt]+Re*D[40+dt]-te*D[56+dt],Je[0]=X*(D[dt]+D[32+dt]),Je[3]=X*(D[dt]-D[32+dt]),Je[1]=ft[0]+ft[3],Je[2]=ft[1]-ft[2],yt[0]=Je[0]+Je[1],yt[1]=Je[3]+Je[2],yt[2]=Je[3]-Je[2],yt[3]=Je[0]-Je[1],D[0+dt]=yt[0]+Qe[0],D[8+dt]=yt[1]+Qe[1],D[16+dt]=yt[2]+Qe[2],D[24+dt]=yt[3]+Qe[3],D[32+dt]=yt[3]-Qe[3],D[40+dt]=yt[2]-Qe[2],D[48+dt]=yt[1]-Qe[1],D[56+dt]=yt[0]-Qe[0]}function it(D){for(let X=0;X<64;++X){const te=D[0][X],ge=D[1][X],Re=D[2][X];D[0][X]=te+1.5747*Re,D[1][X]=te-.1873*ge-.4682*Re,D[2][X]=te+1.8556*ge}}function nt(D,X,te){for(let ge=0;ge<64;++ge)X[te+ge]=zf.toHalfFloat(q(D[ge]))}function q(D){return D<=1?Math.sign(D)*Math.pow(Math.abs(D),2.2):Math.sign(D)*Math.pow(L,Math.abs(D)-1)}function z(D){return new DataView(D.array.buffer,D.offset.value,D.size)}function re(D){const X=D.viewer.buffer.slice(D.offset.value,D.offset.value+D.size),te=new Uint8Array(De(X)),ge=new Uint8Array(te.length);return ce(te),we(te,ge),new DataView(ge.buffer)}function _e(D){const X=D.array.slice(D.offset.value,D.offset.value+D.size);typeof wk>"u"&&console.error("THREE.EXRLoader: External library fflate.min.js required.");const te=wl(X),ge=new Uint8Array(te.length);return ce(te),we(te,ge),new DataView(ge.buffer)}function ue(D){const X=D.viewer,te={value:D.offset.value},ge=new Uint16Array(D.width*D.scanlineBlockSize*(D.channels*D.type)),Re=new Uint8Array(8192);let Pe=0;const rt=new Array(D.channels);for(let Rt=0;Rt<D.channels;Rt++)rt[Rt]={},rt[Rt].start=Pe,rt[Rt].end=rt[Rt].start,rt[Rt].nx=D.width,rt[Rt].ny=D.lines,rt[Rt].size=D.type,Pe+=rt[Rt].nx*rt[Rt].ny*rt[Rt].size;const st=Ct(X,te),ft=Ct(X,te);if(ft>=8192)throw new Error("Something is wrong with PIZ_COMPRESSION BITMAP_SIZE");if(st<=ft)for(let Rt=0;Rt<ft-st+1;Rt++)Re[Rt+st]=qe(X,te);const Qe=new Uint16Array(65536),Je=I(Re,Qe),yt=ve(X,te);Le(D.array,X,te,yt,ge,Pe);for(let Rt=0;Rt<D.channels;++Rt){const _t=rt[Rt];for(let Tt=0;Tt<rt[Rt].size;++Tt)ke(ge,_t.start+Tt,_t.nx,_t.size,_t.ny,_t.nx*_t.size,Je)}le(Qe,ge,Pe);let dt=0;const Et=new Uint8Array(ge.buffer.byteLength);for(let Rt=0;Rt<D.lines;Rt++)for(let _t=0;_t<D.channels;_t++){const Tt=rt[_t],Pt=Tt.nx*Tt.size,fn=new Uint8Array(ge.buffer,Tt.end*2,Pt*2);Et.set(fn,dt),dt+=Pt*2,Tt.end+=Pt}return new DataView(Et.buffer)}function Me(D){const X=D.array.slice(D.offset.value,D.offset.value+D.size);typeof wk>"u"&&console.error("THREE.EXRLoader: External library fflate.min.js required.");const te=wl(X),ge=D.lines*D.channels*D.width,Re=D.type==1?new Uint16Array(ge):new Uint32Array(ge);let Pe=0,rt=0;const st=new Array(4);for(let ft=0;ft<D.lines;ft++)for(let Qe=0;Qe<D.channels;Qe++){let Je=0;switch(D.type){case 1:st[0]=Pe,st[1]=st[0]+D.width,Pe=st[1]+D.width;for(let yt=0;yt<D.width;++yt)Je+=te[st[0]++]<<8|te[st[1]++],Re[rt]=Je,rt++;break;case 2:st[0]=Pe,st[1]=st[0]+D.width,st[2]=st[1]+D.width,Pe=st[2]+D.width;for(let yt=0;yt<D.width;++yt)Je+=te[st[0]++]<<24|te[st[1]++]<<16|te[st[2]++]<<8,Re[rt]=Je,rt++;break}}return new DataView(Re.buffer)}function Ue(D){const X=D.viewer,te={value:D.offset.value},ge=new Uint8Array(D.width*D.lines*(D.channels*D.type*2)),Re={version:ze(X,te),unknownUncompressedSize:ze(X,te),unknownCompressedSize:ze(X,te),acCompressedSize:ze(X,te),dcCompressedSize:ze(X,te),rleCompressedSize:ze(X,te),rleUncompressedSize:ze(X,te),rleRawSize:ze(X,te),totalAcUncompressedCount:ze(X,te),totalDcUncompressedCount:ze(X,te),acCompression:ze(X,te)};if(Re.version<2)throw new Error("EXRLoader.parse: "+ae.compression+" version "+Re.version+" is unsupported");const Pe=new Array;let rt=Ct(X,te)-2;for(;rt>0;){const _t=K(X.buffer,te),Tt=qe(X,te),Pt=Tt>>2&3,fn=(Tt>>4)-1,Mn=new Int8Array([fn])[0],En=qe(X,te);Pe.push({name:_t,index:Mn,type:En,compression:Pt}),rt-=_t.length+3}const st=ae.channels,ft=new Array(D.channels);for(let _t=0;_t<D.channels;++_t){const Tt=ft[_t]={},Pt=st[_t];Tt.name=Pt.name,Tt.compression=0,Tt.decoded=!1,Tt.type=Pt.pixelType,Tt.pLinear=Pt.pLinear,Tt.width=D.width,Tt.height=D.lines}const Qe={idx:new Array(3)};for(let _t=0;_t<D.channels;++_t){const Tt=ft[_t];for(let Pt=0;Pt<Pe.length;++Pt){const fn=Pe[Pt];Tt.name==fn.name&&(Tt.compression=fn.compression,fn.index>=0&&(Qe.idx[fn.index]=_t),Tt.offset=_t)}}let Je,yt,dt;if(Re.acCompressedSize>0)switch(Re.acCompression){case 0:Je=new Uint16Array(Re.totalAcUncompressedCount),Le(D.array,X,te,Re.acCompressedSize,Je,Re.totalAcUncompressedCount);break;case 1:const _t=D.array.slice(te.value,te.value+Re.totalAcUncompressedCount),Tt=wl(_t);Je=new Uint16Array(Tt.buffer),te.value+=Re.totalAcUncompressedCount;break}if(Re.dcCompressedSize>0){const _t={array:D.array,offset:te,size:Re.dcCompressedSize};yt=new Uint16Array(_e(_t).buffer),te.value+=Re.dcCompressedSize}if(Re.rleRawSize>0){const _t=D.array.slice(te.value,te.value+Re.rleCompressedSize),Tt=wl(_t);dt=De(Tt.buffer),te.value+=Re.rleCompressedSize}let Et=0;const Rt=new Array(ft.length);for(let _t=0;_t<Rt.length;++_t)Rt[_t]=new Array;for(let _t=0;_t<D.lines;++_t)for(let Tt=0;Tt<ft.length;++Tt)Rt[Tt].push(Et),Et+=ft[Tt].width*D.type*2;pe(Qe,Rt,ft,Je,yt,ge);for(let _t=0;_t<ft.length;++_t){const Tt=ft[_t];if(!Tt.decoded)switch(Tt.compression){case 2:let Pt=0,fn=0;for(let Mn=0;Mn<D.lines;++Mn){let En=Rt[_t][Pt];for(let Tn=0;Tn<Tt.width;++Tn){for(let qt=0;qt<2*Tt.type;++qt)ge[En++]=dt[fn+qt*Tt.width*Tt.height];fn++}Pt++}break;case 1:default:throw new Error("EXRLoader.parse: unsupported channel compression")}}return new DataView(ge.buffer)}function K(D,X){const te=new Uint8Array(D);let ge=0;for(;te[X.value+ge]!=0;)ge+=1;const Re=new TextDecoder().decode(te.slice(X.value,X.value+ge));return X.value=X.value+ge+1,Re}function Ne(D,X,te){const ge=new TextDecoder().decode(new Uint8Array(D).slice(X.value,X.value+te));return X.value=X.value+te,ge}function at(D,X){const te=Z(D,X),ge=ve(D,X);return[te,ge]}function Ke(D,X){const te=ve(D,X),ge=ve(D,X);return[te,ge]}function Z(D,X){const te=D.getInt32(X.value,!0);return X.value=X.value+4,te}function ve(D,X){const te=D.getUint32(X.value,!0);return X.value=X.value+4,te}function Ae(D,X){const te=D[X.value];return X.value=X.value+1,te}function qe(D,X){const te=D.getUint8(X.value);return X.value=X.value+1,te}const ze=function(D,X){let te;return"getBigInt64"in DataView.prototype?te=Number(D.getBigInt64(X.value,!0)):te=D.getUint32(X.value+4,!0)+Number(D.getUint32(X.value,!0)<<32),X.value+=8,te};function Ve(D,X){const te=D.getFloat32(X.value,!0);return X.value+=4,te}function Ze(D,X){return zf.toHalfFloat(Ve(D,X))}function Fe(D){const X=(D&31744)>>10,te=D&1023;return(D>>15?-1:1)*(X?X===31?te?NaN:1/0:Math.pow(2,X-15)*(1+te/1024):6103515625e-14*(te/1024))}function Ct(D,X){const te=D.getUint16(X.value,!0);return X.value+=2,te}function xt(D,X){return Fe(Ct(D,X))}function zt(D,X,te,ge){const Re=te.value,Pe=[];for(;te.value<Re+ge-1;){const rt=K(X,te),st=Z(D,te),ft=qe(D,te);te.value+=3;const Qe=Z(D,te),Je=Z(D,te);Pe.push({name:rt,pixelType:st,pLinear:ft,xSampling:Qe,ySampling:Je})}return te.value+=1,Pe}function an(D,X){const te=Ve(D,X),ge=Ve(D,X),Re=Ve(D,X),Pe=Ve(D,X),rt=Ve(D,X),st=Ve(D,X),ft=Ve(D,X),Qe=Ve(D,X);return{redX:te,redY:ge,greenX:Re,greenY:Pe,blueX:rt,blueY:st,whiteX:ft,whiteY:Qe}}function Er(D,X){const te=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ge=qe(D,X);return te[ge]}function bi(D,X){const te=ve(D,X),ge=ve(D,X),Re=ve(D,X),Pe=ve(D,X);return{xMin:te,yMin:ge,xMax:Re,yMax:Pe}}function Ui(D,X){const te=["INCREASING_Y"],ge=qe(D,X);return te[ge]}function Fr(D,X){const te=Ve(D,X),ge=Ve(D,X);return[te,ge]}function va(D,X){const te=Ve(D,X),ge=Ve(D,X),Re=Ve(D,X);return[te,ge,Re]}function ya(D,X,te,ge,Re){if(ge==="string"||ge==="stringvector"||ge==="iccProfile")return Ne(X,te,Re);if(ge==="chlist")return zt(D,X,te,Re);if(ge==="chromaticities")return an(D,te);if(ge==="compression")return Er(D,te);if(ge==="box2i")return bi(D,te);if(ge==="lineOrder")return Ui(D,te);if(ge==="float")return Ve(D,te);if(ge==="v2f")return Fr(D,te);if(ge==="v3f")return va(D,te);if(ge==="int")return Z(D,te);if(ge==="rational")return at(D,te);if(ge==="timecode")return Ke(D,te);if(ge==="preview")return te.value+=Re,"skipped";te.value+=Re}function po(D,X,te){const ge={};if(D.getUint32(0,!0)!=20000630)throw new Error("THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.");ge.version=D.getUint8(4);const Re=D.getUint8(5);ge.spec={singleTile:!!(Re&2),longName:!!(Re&4),deepFormat:!!(Re&8),multiPart:!!(Re&16)},te.value=8;let Pe=!0;for(;Pe;){const rt=K(X,te);if(rt==0)Pe=!1;else{const st=K(X,te),ft=ve(D,te),Qe=ya(D,X,te,st,ft);Qe===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${st}'.`):ge[rt]=Qe}}if(Re!=0)throw console.error("EXRHeader:",ge),new Error("THREE.EXRLoader: provided file is currently unsupported.");return ge}function $o(D,X,te,ge,Re){const Pe={size:0,viewer:X,array:te,offset:ge,width:D.dataWindow.xMax-D.dataWindow.xMin+1,height:D.dataWindow.yMax-D.dataWindow.yMin+1,channels:D.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:D.channels[0].pixelType,uncompress:null,getter:null,format:null,encoding:null};switch(D.compression){case"NO_COMPRESSION":Pe.lines=1,Pe.uncompress=z;break;case"RLE_COMPRESSION":Pe.lines=1,Pe.uncompress=re;break;case"ZIPS_COMPRESSION":Pe.lines=1,Pe.uncompress=_e;break;case"ZIP_COMPRESSION":Pe.lines=16,Pe.uncompress=_e;break;case"PIZ_COMPRESSION":Pe.lines=32,Pe.uncompress=ue;break;case"PXR24_COMPRESSION":Pe.lines=16,Pe.uncompress=Me;break;case"DWAA_COMPRESSION":Pe.lines=32,Pe.uncompress=Ue;break;case"DWAB_COMPRESSION":Pe.lines=256,Pe.uncompress=Ue;break;default:throw new Error("EXRLoader.parse: "+D.compression+" is unsupported")}if(Pe.scanlineBlockSize=Pe.lines,Pe.type==1)switch(Re){case Ii:Pe.getter=xt,Pe.inputSize=2;break;case Ni:Pe.getter=Ct,Pe.inputSize=2;break}else if(Pe.type==2)switch(Re){case Ii:Pe.getter=Ve,Pe.inputSize=4;break;case Ni:Pe.getter=Ze,Pe.inputSize=4}else throw new Error("EXRLoader.parse: unsupported pixelType "+Pe.type+" for "+D.compression+".");Pe.blockCount=(D.dataWindow.yMax+1)/Pe.scanlineBlockSize;for(let st=0;st<Pe.blockCount;st++)ze(X,ge);Pe.outputChannels=Pe.channels==3?4:Pe.channels;const rt=Pe.width*Pe.height*Pe.outputChannels;switch(Re){case Ii:Pe.byteArray=new Float32Array(rt),Pe.channels<Pe.outputChannels&&Pe.byteArray.fill(1,0,rt);break;case Ni:Pe.byteArray=new Uint16Array(rt),Pe.channels<Pe.outputChannels&&Pe.byteArray.fill(15360,0,rt);break;default:console.error("THREE.EXRLoader: unsupported type: ",Re);break}return Pe.bytesPerLine=Pe.width*Pe.inputSize*Pe.channels,Pe.outputChannels==4?(Pe.format=to,Pe.encoding=ao):(Pe.format=bU,Pe.encoding=ao),Pe}const ie=new DataView(e),Ie=new Uint8Array(e),Ge={value:0},ae=po(ie,e,Ge),me=$o(ae,ie,Ie,Ge,this.type),ct={value:0},vt={R:0,G:1,B:2,A:3,Y:0};for(let D=0;D<me.height/me.scanlineBlockSize;D++){const X=ve(ie,Ge);me.size=ve(ie,Ge),me.lines=X+me.scanlineBlockSize>me.height?me.height-X:me.scanlineBlockSize;const ge=me.size<me.lines*me.bytesPerLine?me.uncompress(me):z(me);Ge.value+=me.size;for(let Re=0;Re<me.scanlineBlockSize;Re++){const Pe=Re+D*me.scanlineBlockSize;if(Pe>=me.height)break;for(let rt=0;rt<me.channels;rt++){const st=vt[ae.channels[rt].name];for(let ft=0;ft<me.width;ft++){ct.value=(Re*(me.channels*me.width)+rt*me.width+ft)*me.inputSize;const Qe=(me.height-1-Pe)*(me.width*me.outputChannels)+ft*me.outputChannels+st;me.byteArray[Qe]=me.getter(ge,ct)}}}}return{header:ae,width:me.width,height:me.height,data:me.byteArray,format:me.format,encoding:me.encoding,type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function o(a,s){a.encoding=s.encoding,a.minFilter=Sn,a.magFilter=Sn,a.generateMipmaps=!1,a.flipY=!1,t&&t(a,s)}return super.load(e,o,r,i)}}class cbe{constructor(e){this._sceneManager=e,this.bgMesh=new ht(this.box,this.colorMat),this._sceneManager.scene.add(this.bgMesh),this.init()}currentType="color";currentColor="#000";currentDataURL=null;currentImageType=null;box=new Hn(1e3,1e3,1e3);bgMesh;colorMat=new vr({side:ro});shader=ca.equirect;equirectMat=new Ho({fragmentShader:this.shader.fragmentShader,vertexShader:this.shader.vertexShader,uniforms:this.shader.uniforms,depthWrite:!1,side:ro});init(){this.backgroundColor_Update(this.currentColor)}backgroundColor_Update(e){this.currentColor=e;const t=new pt(this.currentColor);this.colorMat.color=t,this.bgMesh.material=this.colorMat,this.currentType="color"}backgroundTexture_Update(e){this.currentDataURL=e,this.currentImageType="normal",new bm().load(e,t=>{this.setTextureToEquirectMat(t)})}backgroundHDRTexture_Update(e){this.currentDataURL=e,this.currentImageType="hdr",new G_e().load(e,t=>{this.setTextureToEquirectMat(t)})}backgroundEXRTexture_Update(e){this.currentDataURL=e,this.currentImageType="exr",new ube().load(e,t=>{this.setTextureToEquirectMat(t)})}setTextureToEquirectMat(e){this.equirectMat.uniforms.tEquirect.value=e,this.bgMesh.material=this.equirectMat,this.currentType="image",this.currentTexture=e}getBackgroundData(){return{type:this.currentType,color:this.currentColor,dataURL:this.currentDataURL,imageType:this.currentImageType}}loadBackgroundData(e){e!=null&&(e.type!=null&&(this.currentType=e.type),e.color!=null&&(this.currentColor=e.color),e.dataURL!=null&&(this.currentDataURL=e.dataURL),e.imageType!=null&&(this.currentImageType=e.imageType),this.update())}update(){switch(this.currentType){case"color":this.backgroundColor_Update(this.currentColor);break;case"image":if(this.currentDataURL==null)return;switch(this.currentImageType){case"normal":this.backgroundTexture_Update(this.currentDataURL);break;case"hdr":this.backgroundHDRTexture_Update(this.currentDataURL);break;case"exr":this.backgroundEXRTexture_Update(this.currentDataURL);break}}}}const Sk={type:"change"},z1={type:"start"},Ck={type:"end"};class fbe extends ql{constructor(e,t){super(),t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new J,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Uc.ROTATE,MIDDLE:Uc.DOLLY,RIGHT:Uc.PAN},this.touches={ONE:Hc.ROTATE,TWO:Hc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(K){K.addEventListener("keydown",nt),this._domElementKeyEvents=K},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(Sk),r.update(),o=i.NONE},this.update=function(){const K=new J,Ne=new wn().setFromUnitVectors(e.up,new J(0,1,0)),at=Ne.clone().invert(),Ke=new J,Z=new wn,ve=2*Math.PI;return function(){const qe=r.object.position;K.copy(qe).sub(r.target),K.applyQuaternion(Ne),s.setFromVector3(K),r.autoRotate&&o===i.NONE&&L(T()),r.enableDamping?(s.theta+=l.theta*r.dampingFactor,s.phi+=l.phi*r.dampingFactor):(s.theta+=l.theta,s.phi+=l.phi);let ze=r.minAzimuthAngle,Ve=r.maxAzimuthAngle;return isFinite(ze)&&isFinite(Ve)&&(ze<-Math.PI?ze+=ve:ze>Math.PI&&(ze-=ve),Ve<-Math.PI?Ve+=ve:Ve>Math.PI&&(Ve-=ve),ze<=Ve?s.theta=Math.max(ze,Math.min(Ve,s.theta)):s.theta=s.theta>(ze+Ve)/2?Math.max(ze,s.theta):Math.min(Ve,s.theta)),s.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=u,s.radius=Math.max(r.minDistance,Math.min(r.maxDistance,s.radius)),r.enableDamping===!0?r.target.addScaledVector(c,r.dampingFactor):r.target.add(c),K.setFromSpherical(s),K.applyQuaternion(at),qe.copy(r.target).add(K),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,c.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),c.set(0,0,0)),u=1,d||Ke.distanceToSquared(r.object.position)>a||8*(1-Z.dot(r.object.quaternion))>a?(r.dispatchEvent(Sk),Ke.copy(r.object.position),Z.copy(r.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",re),r.domElement.removeEventListener("pointerdown",we),r.domElement.removeEventListener("pointercancel",Oe),r.domElement.removeEventListener("wheel",it),r.domElement.removeEventListener("pointermove",De),r.domElement.removeEventListener("pointerup",pe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",nt)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=i.NONE;const a=1e-6,s=new pk,l=new pk;let u=1;const c=new J;let d=!1;const h=new $e,m=new $e,g=new $e,v=new $e,y=new $e,x=new $e,_=new $e,b=new $e,S=new $e,C=[],E={};function T(){return 2*Math.PI/60/60*r.autoRotateSpeed}function P(){return Math.pow(.95,r.zoomSpeed)}function L(K){l.theta-=K}function I(K){l.phi-=K}const O=function(){const K=new J;return function(at,Ke){K.setFromMatrixColumn(Ke,0),K.multiplyScalar(-at),c.add(K)}}(),F=function(){const K=new J;return function(at,Ke){r.screenSpacePanning===!0?K.setFromMatrixColumn(Ke,1):(K.setFromMatrixColumn(Ke,0),K.crossVectors(r.object.up,K)),K.multiplyScalar(at),c.add(K)}}(),U=function(){const K=new J;return function(at,Ke){const Z=r.domElement;if(r.object.isPerspectiveCamera){const ve=r.object.position;K.copy(ve).sub(r.target);let Ae=K.length();Ae*=Math.tan(r.object.fov/2*Math.PI/180),O(2*at*Ae/Z.clientHeight,r.object.matrix),F(2*Ke*Ae/Z.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(O(at*(r.object.right-r.object.left)/r.object.zoom/Z.clientWidth,r.object.matrix),F(Ke*(r.object.top-r.object.bottom)/r.object.zoom/Z.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function k(K){r.object.isPerspectiveCamera?u/=K:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*K)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H(K){r.object.isPerspectiveCamera?u*=K:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/K)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function $(K){h.set(K.clientX,K.clientY)}function V(K){_.set(K.clientX,K.clientY)}function N(K){v.set(K.clientX,K.clientY)}function W(K){m.set(K.clientX,K.clientY),g.subVectors(m,h).multiplyScalar(r.rotateSpeed);const Ne=r.domElement;L(2*Math.PI*g.x/Ne.clientHeight),I(2*Math.PI*g.y/Ne.clientHeight),h.copy(m),r.update()}function ee(K){b.set(K.clientX,K.clientY),S.subVectors(b,_),S.y>0?k(P()):S.y<0&&H(P()),_.copy(b),r.update()}function j(K){y.set(K.clientX,K.clientY),x.subVectors(y,v).multiplyScalar(r.panSpeed),U(x.x,x.y),v.copy(y),r.update()}function G(K){K.deltaY<0?H(P()):K.deltaY>0&&k(P()),r.update()}function ne(K){let Ne=!1;switch(K.code){case r.keys.UP:U(0,r.keyPanSpeed),Ne=!0;break;case r.keys.BOTTOM:U(0,-r.keyPanSpeed),Ne=!0;break;case r.keys.LEFT:U(r.keyPanSpeed,0),Ne=!0;break;case r.keys.RIGHT:U(-r.keyPanSpeed,0),Ne=!0;break}Ne&&(K.preventDefault(),r.update())}function ye(){if(C.length===1)h.set(C[0].pageX,C[0].pageY);else{const K=.5*(C[0].pageX+C[1].pageX),Ne=.5*(C[0].pageY+C[1].pageY);h.set(K,Ne)}}function xe(){if(C.length===1)v.set(C[0].pageX,C[0].pageY);else{const K=.5*(C[0].pageX+C[1].pageX),Ne=.5*(C[0].pageY+C[1].pageY);v.set(K,Ne)}}function oe(){const K=C[0].pageX-C[1].pageX,Ne=C[0].pageY-C[1].pageY,at=Math.sqrt(K*K+Ne*Ne);_.set(0,at)}function de(){r.enableZoom&&oe(),r.enablePan&&xe()}function be(){r.enableZoom&&oe(),r.enableRotate&&ye()}function ke(K){if(C.length==1)m.set(K.pageX,K.pageY);else{const at=Ue(K),Ke=.5*(K.pageX+at.x),Z=.5*(K.pageY+at.y);m.set(Ke,Z)}g.subVectors(m,h).multiplyScalar(r.rotateSpeed);const Ne=r.domElement;L(2*Math.PI*g.x/Ne.clientHeight),I(2*Math.PI*g.y/Ne.clientHeight),h.copy(m)}function he(K){if(C.length===1)y.set(K.pageX,K.pageY);else{const Ne=Ue(K),at=.5*(K.pageX+Ne.x),Ke=.5*(K.pageY+Ne.y);y.set(at,Ke)}x.subVectors(y,v).multiplyScalar(r.panSpeed),U(x.x,x.y),v.copy(y)}function Le(K){const Ne=Ue(K),at=K.pageX-Ne.x,Ke=K.pageY-Ne.y,Z=Math.sqrt(at*at+Ke*Ke);b.set(0,Z),S.set(0,Math.pow(b.y/_.y,r.zoomSpeed)),k(S.y),_.copy(b)}function le(K){r.enableZoom&&Le(K),r.enablePan&&he(K)}function ce(K){r.enableZoom&&Le(K),r.enableRotate&&ke(K)}function we(K){r.enabled!==!1&&(C.length===0&&(r.domElement.setPointerCapture(K.pointerId),r.domElement.addEventListener("pointermove",De),r.domElement.addEventListener("pointerup",pe)),_e(K),K.pointerType==="touch"?q(K):Te(K))}function De(K){r.enabled!==!1&&(K.pointerType==="touch"?z(K):je(K))}function pe(K){ue(K),C.length===0&&(r.domElement.releasePointerCapture(K.pointerId),r.domElement.removeEventListener("pointermove",De),r.domElement.removeEventListener("pointerup",pe)),r.dispatchEvent(Ck),o=i.NONE}function Oe(K){ue(K)}function Te(K){let Ne;switch(K.button){case 0:Ne=r.mouseButtons.LEFT;break;case 1:Ne=r.mouseButtons.MIDDLE;break;case 2:Ne=r.mouseButtons.RIGHT;break;default:Ne=-1}switch(Ne){case Uc.DOLLY:if(r.enableZoom===!1)return;V(K),o=i.DOLLY;break;case Uc.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enablePan===!1)return;N(K),o=i.PAN}else{if(r.enableRotate===!1)return;$(K),o=i.ROTATE}break;case Uc.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enableRotate===!1)return;$(K),o=i.ROTATE}else{if(r.enablePan===!1)return;N(K),o=i.PAN}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(z1)}function je(K){if(r.enabled!==!1)switch(o){case i.ROTATE:if(r.enableRotate===!1)return;W(K);break;case i.DOLLY:if(r.enableZoom===!1)return;ee(K);break;case i.PAN:if(r.enablePan===!1)return;j(K);break}}function it(K){r.enabled===!1||r.enableZoom===!1||o!==i.NONE||(K.preventDefault(),r.dispatchEvent(z1),G(K),r.dispatchEvent(Ck))}function nt(K){r.enabled===!1||r.enablePan===!1||ne(K)}function q(K){switch(Me(K),C.length){case 1:switch(r.touches.ONE){case Hc.ROTATE:if(r.enableRotate===!1)return;ye(),o=i.TOUCH_ROTATE;break;case Hc.PAN:if(r.enablePan===!1)return;xe(),o=i.TOUCH_PAN;break;default:o=i.NONE}break;case 2:switch(r.touches.TWO){case Hc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;de(),o=i.TOUCH_DOLLY_PAN;break;case Hc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;be(),o=i.TOUCH_DOLLY_ROTATE;break;default:o=i.NONE}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(z1)}function z(K){switch(Me(K),o){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;ke(K),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;he(K),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;le(K),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ce(K),r.update();break;default:o=i.NONE}}function re(K){r.enabled!==!1&&K.preventDefault()}function _e(K){C.push(K)}function ue(K){delete E[K.pointerId];for(let Ne=0;Ne<C.length;Ne++)if(C[Ne].pointerId==K.pointerId){C.splice(Ne,1);return}}function Me(K){let Ne=E[K.pointerId];Ne===void 0&&(Ne=new $e,E[K.pointerId]=Ne),Ne.set(K.pageX,K.pageY)}function Ue(K){const Ne=K.pointerId===C[0].pointerId?C[1]:C[0];return E[Ne.pointerId]}r.domElement.addEventListener("contextmenu",re),r.domElement.addEventListener("pointerdown",we),r.domElement.addEventListener("pointercancel",Oe),r.domElement.addEventListener("wheel",it,{passive:!1}),this.update()}}const gu=new P_,Ti=new J,al=new J,Un=new wn,Mk={X:new J(1,0,0),Y:new J(0,1,0),Z:new J(0,0,1)},B1={type:"change"},Ek={type:"mouseDown"},Tk={type:"mouseUp",mode:null},Ok={type:"objectChange"};class n6 extends Yt{constructor(e,t){super(),t===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),this.visible=!1,this.domElement=t,this.domElement.style.touchAction="none";const r=new r6;this._gizmo=r,this.add(r);const i=new i6;this._plane=i,this.add(i);const o=this;function a(_,b){let S=b;Object.defineProperty(o,_,{get:function(){return S!==void 0?S:b},set:function(C){S!==C&&(S=C,i[_]=C,r[_]=C,o.dispatchEvent({type:_+"-changed",value:C}),o.dispatchEvent(B1))}}),o[_]=b,i[_]=b,r[_]=b}a("camera",e),a("object",void 0),a("enabled",!0),a("axis",null),a("mode","translate"),a("translationSnap",null),a("rotationSnap",null),a("scaleSnap",null),a("space","world"),a("size",1),a("dragging",!1),a("showX",!0),a("showY",!0),a("showZ",!0);const s=new J,l=new J,u=new wn,c=new wn,d=new J,h=new wn,m=new J,g=new J,v=new J,y=0,x=new J;a("worldPosition",s),a("worldPositionStart",l),a("worldQuaternion",u),a("worldQuaternionStart",c),a("cameraPosition",d),a("cameraQuaternion",h),a("pointStart",m),a("pointEnd",g),a("rotationAxis",v),a("rotationAngle",y),a("eye",x),this._offset=new J,this._startNorm=new J,this._endNorm=new J,this._cameraScale=new J,this._parentPosition=new J,this._parentQuaternion=new wn,this._parentQuaternionInv=new wn,this._parentScale=new J,this._worldScaleStart=new J,this._worldQuaternionInv=new wn,this._worldScale=new J,this._positionStart=new J,this._quaternionStart=new wn,this._scaleStart=new J,this._getPointer=dbe.bind(this),this._onPointerDown=pbe.bind(this),this._onPointerHover=hbe.bind(this),this._onPointerMove=mbe.bind(this),this._onPointerUp=gbe.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;gu.setFromCamera(e,this.camera);const t=U1(this._gizmo.picker[this.mode],gu);t?this.axis=t.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e.button!==0)&&this.axis!==null){gu.setFromCamera(e,this.camera);const t=U1(this._plane,gu,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,Ek.mode=this.mode,this.dispatchEvent(Ek)}}pointerMove(e){const t=this.axis,r=this.mode,i=this.object;let o=this.space;if(r==="scale"?o="local":(t==="E"||t==="XYZE"||t==="XYZ")&&(o="world"),i===void 0||t===null||this.dragging===!1||e.button!==-1)return;gu.setFromCamera(e,this.camera);const a=U1(this._plane,gu,!0);if(!!a){if(this.pointEnd.copy(a.point).sub(this.worldPositionStart),r==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),o==="local"&&t!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),t.indexOf("X")===-1&&(this._offset.x=0),t.indexOf("Y")===-1&&(this._offset.y=0),t.indexOf("Z")===-1&&(this._offset.z=0),o==="local"&&t!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),i.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(o==="local"&&(i.position.applyQuaternion(Un.copy(this._quaternionStart).invert()),t.search("X")!==-1&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(this._quaternionStart)),o==="world"&&(i.parent&&i.position.add(Ti.setFromMatrixPosition(i.parent.matrixWorld)),t.search("X")!==-1&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(Ti.setFromMatrixPosition(i.parent.matrixWorld))));else if(r==="scale"){if(t.search("XYZ")!==-1){let s=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(s*=-1),al.set(s,s,s)}else Ti.copy(this.pointStart),al.copy(this.pointEnd),Ti.applyQuaternion(this._worldQuaternionInv),al.applyQuaternion(this._worldQuaternionInv),al.divide(Ti),t.search("X")===-1&&(al.x=1),t.search("Y")===-1&&(al.y=1),t.search("Z")===-1&&(al.z=1);i.scale.copy(this._scaleStart).multiply(al),this.scaleSnap&&(t.search("X")!==-1&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Y")!==-1&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Z")!==-1&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(r==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const s=20/this.worldPosition.distanceTo(Ti.setFromMatrixPosition(this.camera.matrixWorld));t==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):t==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Ti.copy(this.rotationAxis).cross(this.eye))*s):(t==="X"||t==="Y"||t==="Z")&&(this.rotationAxis.copy(Mk[t]),Ti.copy(Mk[t]),o==="local"&&Ti.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(Ti.cross(this.eye).normalize())*s),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),o==="local"&&t!=="E"&&t!=="XYZE"?(i.quaternion.copy(this._quaternionStart),i.quaternion.multiply(Un.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),i.quaternion.copy(Un.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),i.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(B1),this.dispatchEvent(Ok)}}pointerUp(e){e.button===0&&(this.dragging&&this.axis!==null&&(Tk.mode=this.mode,this.dispatchEvent(Tk)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}attach(e){return this.object=e,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){!this.enabled||this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(B1),this.dispatchEvent(Ok),this.pointStart.copy(this.pointEnd))}getRaycaster(){return gu}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}n6.prototype.isTransformControls=!0;function dbe(n){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:n.button};{const e=this.domElement.getBoundingClientRect();return{x:(n.clientX-e.left)/e.width*2-1,y:-(n.clientY-e.top)/e.height*2+1,button:n.button}}}function hbe(n){if(!!this.enabled)switch(n.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(n));break}}function pbe(n){!this.enabled||(document.pointerLockElement||this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(n)),this.pointerDown(this._getPointer(n)))}function mbe(n){!this.enabled||this.pointerMove(this._getPointer(n))}function gbe(n){!this.enabled||(this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(n)))}function U1(n,e,t){const r=e.intersectObject(n,!0);for(let i=0;i<r.length;i++)if(r[i].object.visible||t)return r[i];return!1}const Zv=new Zl,Pn=new J(0,1,0),Pk=new J(0,0,0),Ak=new Mt,Jv=new wn,xy=new wn,Sa=new J,Rk=new Mt,tp=new J(1,0,0),Cu=new J(0,1,0),np=new J(0,0,1),Qv=new J,Vh=new J,Gh=new J;class r6 extends Yt{constructor(){super(),this.type="TransformControlsGizmo";const e=new vr({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),t=new ja({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),r=e.clone();r.opacity=.15;const i=t.clone();i.opacity=.5;const o=e.clone();o.color.setHex(16711680);const a=e.clone();a.color.setHex(65280);const s=e.clone();s.color.setHex(255);const l=e.clone();l.color.setHex(16711680),l.opacity=.5;const u=e.clone();u.color.setHex(65280),u.opacity=.5;const c=e.clone();c.color.setHex(255),c.opacity=.5;const d=e.clone();d.opacity=.25;const h=e.clone();h.color.setHex(16776960),h.opacity=.25,e.clone().color.setHex(16776960);const g=e.clone();g.color.setHex(7895160);const v=new br(0,.04,.1,12);v.translate(0,.05,0);const y=new Hn(.08,.08,.08);y.translate(0,.04,0);const x=new Vt;x.setAttribute("position",new At([0,0,0,1,0,0],3));const _=new br(.0075,.0075,.5,3);_.translate(0,.25,0);function b(H,$){const V=new bs(H,.0075,3,64,$*Math.PI*2);return V.rotateY(Math.PI/2),V.rotateX(Math.PI/2),V}function S(){const H=new Vt;return H.setAttribute("position",new At([0,0,0,1,1,1],3)),H}const C={X:[[new ht(v,o),[.5,0,0],[0,0,-Math.PI/2]],[new ht(v,o),[-.5,0,0],[0,0,Math.PI/2]],[new ht(_,o),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new ht(v,a),[0,.5,0]],[new ht(v,a),[0,-.5,0],[Math.PI,0,0]],[new ht(_,a)]],Z:[[new ht(v,s),[0,0,.5],[Math.PI/2,0,0]],[new ht(v,s),[0,0,-.5],[-Math.PI/2,0,0]],[new ht(_,s),null,[Math.PI/2,0,0]]],XYZ:[[new ht(new bl(.1,0),d.clone()),[0,0,0]]],XY:[[new ht(new Hn(.15,.15,.01),c.clone()),[.15,.15,0]]],YZ:[[new ht(new Hn(.15,.15,.01),l.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ht(new Hn(.15,.15,.01),u.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},E={X:[[new ht(new br(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new ht(new br(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ht(new br(.2,0,.6,4),r),[0,.3,0]],[new ht(new br(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ht(new br(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new ht(new br(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new ht(new bl(.2,0),r)]],XY:[[new ht(new Hn(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new ht(new Hn(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ht(new Hn(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]]},T={START:[[new ht(new bl(.01,2),i),null,null,null,"helper"]],END:[[new ht(new bl(.01,2),i),null,null,null,"helper"]],DELTA:[[new di(S(),i),null,null,null,"helper"]],X:[[new di(x,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new di(x,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new di(x,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},P={XYZE:[[new ht(b(.5,1),g),null,[0,Math.PI/2,0]]],X:[[new ht(b(.5,.5),o)]],Y:[[new ht(b(.5,.5),a),null,[0,0,-Math.PI/2]]],Z:[[new ht(b(.5,.5),s),null,[0,Math.PI/2,0]]],E:[[new ht(b(.75,1),h),null,[0,Math.PI/2,0]]]},L={AXIS:[[new di(x,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},I={XYZE:[[new ht(new _d(.25,10,8),r)]],X:[[new ht(new bs(.5,.1,4,24),r),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ht(new bs(.5,.1,4,24),r),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ht(new bs(.5,.1,4,24),r),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ht(new bs(.75,.1,2,24),r)]]},O={X:[[new ht(y,o),[.5,0,0],[0,0,-Math.PI/2]],[new ht(_,o),[0,0,0],[0,0,-Math.PI/2]],[new ht(y,o),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new ht(y,a),[0,.5,0]],[new ht(_,a)],[new ht(y,a),[0,-.5,0],[0,0,Math.PI]]],Z:[[new ht(y,s),[0,0,.5],[Math.PI/2,0,0]],[new ht(_,s),[0,0,0],[Math.PI/2,0,0]],[new ht(y,s),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new ht(new Hn(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new ht(new Hn(.15,.15,.01),l),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ht(new Hn(.15,.15,.01),u),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ht(new Hn(.1,.1,.1),d.clone())]]},F={X:[[new ht(new br(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new ht(new br(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ht(new br(.2,0,.6,4),r),[0,.3,0]],[new ht(new br(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ht(new br(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new ht(new br(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new ht(new Hn(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new ht(new Hn(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ht(new Hn(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ht(new Hn(.2,.2,.2),r),[0,0,0]]]},U={X:[[new di(x,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new di(x,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new di(x,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function k(H){const $=new Yt;for(const V in H)for(let N=H[V].length;N--;){const W=H[V][N][0].clone(),ee=H[V][N][1],j=H[V][N][2],G=H[V][N][3],ne=H[V][N][4];W.name=V,W.tag=ne,ee&&W.position.set(ee[0],ee[1],ee[2]),j&&W.rotation.set(j[0],j[1],j[2]),G&&W.scale.set(G[0],G[1],G[2]),W.updateMatrix();const ye=W.geometry.clone();ye.applyMatrix4(W.matrix),W.geometry=ye,W.renderOrder=1/0,W.position.set(0,0,0),W.rotation.set(0,0,0),W.scale.set(1,1,1),$.add(W)}return $}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=k(C)),this.add(this.gizmo.rotate=k(P)),this.add(this.gizmo.scale=k(O)),this.add(this.picker.translate=k(E)),this.add(this.picker.rotate=k(I)),this.add(this.picker.scale=k(F)),this.add(this.helper.translate=k(T)),this.add(this.helper.rotate=k(L)),this.add(this.helper.scale=k(U)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const r=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:xy;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let i=[];i=i.concat(this.picker[this.mode].children),i=i.concat(this.gizmo[this.mode].children),i=i.concat(this.helper[this.mode].children);for(let o=0;o<i.length;o++){const a=i[o];a.visible=!0,a.rotation.set(0,0,0),a.position.copy(this.worldPosition);let s;if(this.camera.isOrthographicCamera?s=(this.camera.top-this.camera.bottom)/this.camera.zoom:s=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),a.scale.set(1,1,1).multiplyScalar(s*this.size/4),a.tag==="helper"){a.visible=!1,a.name==="AXIS"?(a.position.copy(this.worldPositionStart),a.visible=!!this.axis,this.axis==="X"&&(Un.setFromEuler(Zv.set(0,0,0)),a.quaternion.copy(r).multiply(Un),Math.abs(Pn.copy(tp).applyQuaternion(r).dot(this.eye))>.9&&(a.visible=!1)),this.axis==="Y"&&(Un.setFromEuler(Zv.set(0,0,Math.PI/2)),a.quaternion.copy(r).multiply(Un),Math.abs(Pn.copy(Cu).applyQuaternion(r).dot(this.eye))>.9&&(a.visible=!1)),this.axis==="Z"&&(Un.setFromEuler(Zv.set(0,Math.PI/2,0)),a.quaternion.copy(r).multiply(Un),Math.abs(Pn.copy(np).applyQuaternion(r).dot(this.eye))>.9&&(a.visible=!1)),this.axis==="XYZE"&&(Un.setFromEuler(Zv.set(0,Math.PI/2,0)),Pn.copy(this.rotationAxis),a.quaternion.setFromRotationMatrix(Ak.lookAt(Pk,Pn,Cu)),a.quaternion.multiply(Un),a.visible=this.dragging),this.axis==="E"&&(a.visible=!1)):a.name==="START"?(a.position.copy(this.worldPositionStart),a.visible=this.dragging):a.name==="END"?(a.position.copy(this.worldPosition),a.visible=this.dragging):a.name==="DELTA"?(a.position.copy(this.worldPositionStart),a.quaternion.copy(this.worldQuaternionStart),Ti.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Ti.applyQuaternion(this.worldQuaternionStart.clone().invert()),a.scale.copy(Ti),a.visible=this.dragging):(a.quaternion.copy(r),this.dragging?a.position.copy(this.worldPositionStart):a.position.copy(this.worldPosition),this.axis&&(a.visible=this.axis.search(a.name)!==-1));continue}a.quaternion.copy(r),this.mode==="translate"||this.mode==="scale"?(a.name==="X"&&Math.abs(Pn.copy(tp).applyQuaternion(r).dot(this.eye))>.99&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="Y"&&Math.abs(Pn.copy(Cu).applyQuaternion(r).dot(this.eye))>.99&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="Z"&&Math.abs(Pn.copy(np).applyQuaternion(r).dot(this.eye))>.99&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="XY"&&Math.abs(Pn.copy(np).applyQuaternion(r).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="YZ"&&Math.abs(Pn.copy(tp).applyQuaternion(r).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),a.name==="XZ"&&Math.abs(Pn.copy(Cu).applyQuaternion(r).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1)):this.mode==="rotate"&&(Jv.copy(r),Pn.copy(this.eye).applyQuaternion(Un.copy(r).invert()),a.name.search("E")!==-1&&a.quaternion.setFromRotationMatrix(Ak.lookAt(this.eye,Pk,Cu)),a.name==="X"&&(Un.setFromAxisAngle(tp,Math.atan2(-Pn.y,Pn.z)),Un.multiplyQuaternions(Jv,Un),a.quaternion.copy(Un)),a.name==="Y"&&(Un.setFromAxisAngle(Cu,Math.atan2(Pn.x,Pn.z)),Un.multiplyQuaternions(Jv,Un),a.quaternion.copy(Un)),a.name==="Z"&&(Un.setFromAxisAngle(np,Math.atan2(Pn.y,Pn.x)),Un.multiplyQuaternions(Jv,Un),a.quaternion.copy(Un))),a.visible=a.visible&&(a.name.indexOf("X")===-1||this.showX),a.visible=a.visible&&(a.name.indexOf("Y")===-1||this.showY),a.visible=a.visible&&(a.name.indexOf("Z")===-1||this.showZ),a.visible=a.visible&&(a.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),a.material._color=a.material._color||a.material.color.clone(),a.material._opacity=a.material._opacity||a.material.opacity,a.material.color.copy(a.material._color),a.material.opacity=a.material._opacity,this.enabled&&this.axis&&(a.name===this.axis||this.axis.split("").some(function(l){return a.name===l}))&&(a.material.color.setHex(16776960),a.material.opacity=1)}super.updateMatrixWorld(e)}}r6.prototype.isTransformControlsGizmo=!0;class i6 extends ht{constructor(){super(new Ia(1e5,1e5,2,2),new vr({visible:!1,wireframe:!0,side:Ua,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(t="local"),Qv.copy(tp).applyQuaternion(t==="local"?this.worldQuaternion:xy),Vh.copy(Cu).applyQuaternion(t==="local"?this.worldQuaternion:xy),Gh.copy(np).applyQuaternion(t==="local"?this.worldQuaternion:xy),Pn.copy(Vh),this.mode){case"translate":case"scale":switch(this.axis){case"X":Pn.copy(this.eye).cross(Qv),Sa.copy(Qv).cross(Pn);break;case"Y":Pn.copy(this.eye).cross(Vh),Sa.copy(Vh).cross(Pn);break;case"Z":Pn.copy(this.eye).cross(Gh),Sa.copy(Gh).cross(Pn);break;case"XY":Sa.copy(Gh);break;case"YZ":Sa.copy(Qv);break;case"XZ":Pn.copy(Gh),Sa.copy(Vh);break;case"XYZ":case"E":Sa.set(0,0,0);break}break;case"rotate":default:Sa.set(0,0,0)}Sa.length()===0?this.quaternion.copy(this.cameraQuaternion):(Rk.lookAt(Ti.set(0,0,0),Sa,Pn),this.quaternion.setFromRotationMatrix(Rk)),super.updateMatrixWorld(e)}}i6.prototype.isTransformControlsPlane=!0;class vbe{constructor(e){this._sceneManager=e,this.orbitControl=new fbe(this._sceneManager.camera,this._sceneManager.renderer.domElement),this.orbitControlInit(),this.transformControl=new n6(this._sceneManager.camera,this._sceneManager.renderer.domElement),this.transformControlInit(),this.transformControl.addEventListener("dragging-changed",t=>{this.orbitControl.enabled=!t.value}),this.transformControl.addEventListener("change",t=>{if(this._sceneManager._objectManager.updateUI_transformComponent(),this._sceneManager._objectManager.updateUI_transformMode(),this._sceneManager._objectManager.updateUI_transformComponentCurve(),this._sceneManager._objectManager.updateUI_transformComponentTransparency(),this.transformControl.object==null)return;const r=this.transformControl.object.parent;!Pl.isUserObject(r)||(r==null?void 0:r.userData.geometryData.curveRole)==="parent"&&Lr.updateChildrenRadius(r)}),this.transformControl.addEventListener("mouseDown",t=>{console.log("down"),this.transformControl.object!=null&&this._sceneManager._historyManager.record("transformation",this.transformControl.object)}),this.transformControl.addEventListener("objectChange",t=>{}),console.log("ControlManager Init Done")}isOrbiting=!1;transformControl;orbitControl;update(){this.orbitControl.update(),this.transformControlShowAxis()}orbitControlInit(){this.orbitControl.minDistance=2,this.orbitControl.maxDistance=20,this.orbitControl.maxZoom=15,this.orbitControl.enableDamping=!0,this.orbitControl.dampingFactor=.3,this.orbitControl.addEventListener("start",e=>{this.isOrbiting=!0}),this.orbitControl.addEventListener("end",e=>{this.isOrbiting=!1})}transformControlInit(){this.transformControl.size=.4,this._sceneManager.scene.add(this.transformControl)}transformControlSwitchSpace(){this.transformControl.space==="world"?this.transformControl.setSpace("local"):this.transformControl.setSpace("world")}transformControlSnap(){this.transformControl.setTranslationSnap(.25),this.transformControl.setRotationSnap(MU.degToRad(15)),this.transformControl.setScaleSnap(25e-5)}transformControlNotSnap(){this.transformControl.setTranslationSnap(null),this.transformControl.setRotationSnap(null),this.transformControl.setScaleSnap(null)}transformControlShowAxis(){if(this.transformControl.dragging)switch(this.transformControl.axis){case"X":this.transformControl.showY=!1,this.transformControl.showZ=!1;break;case"Y":this.transformControl.showX=!1,this.transformControl.showZ=!1;break;case"Z":this.transformControl.showX=!1,this.transformControl.showY=!1;break;case"XY":this.transformControl.showZ=!1;break;case"YZ":this.transformControl.showX=!1;break;case"XZ":this.transformControl.showY=!1;break}else this.transformControl.showX=!0,this.transformControl.showY=!0,this.transformControl.showZ=!0}focus(e){if(e==null)return;const t=e;var r;const i=new J().copy(e.position),o=new fo;var a=new Bs;o.setFromObject(t),o.isEmpty()===!1?r=o.getBoundingSphere(a).radius:r=.1;var s=new J(0,0,1);s.applyQuaternion(this._sceneManager.camera.quaternion),s.multiplyScalar(r*5),this._sceneManager.camera.position.set(i.x+s.x,i.y+s.y,i.z+s.z),this.orbitControl.target.copy(e.position)}}class ybe{constructor(e,t=new vbe(e)){this._sceneManager=e,this._controlManager=t}selecting=[];HoverObjects=[];updateUI_Layers=()=>{};updateUI_transformMode=()=>{};updateUI_transformComponent=()=>{};updateUI_transformComponentCurve=()=>{};updateUI_transformComponentTransparency=()=>{};updateUI_transformAlign=()=>{};updateUI_transformButtons=()=>{};updateUI_transformComponentWidthHeight=()=>{};onObjectChange(){this.updateUI_transformMode(),this.updateUI_transformComponent(),this.updateUI_transformComponentTransparency(),this.updateUI_transformComponentCurve(),this.updateUI_transformButtons(),this.updateUI_transformAlign(),this.updateUI_transformComponentWidthHeight(),this.updateUI_Layers()}hover_wireframeMat=new vr({color:16776960,wireframe:!0,side:Ua});select(e){e.length===0&&console.log("select nothing"),this.selecting=e,this._controlManager.transformControl.attach(this.selecting[this.selecting.length-1]),this.onObjectChange()}deSelect(e){e===void 0?(this.selecting=[],this._controlManager.transformControl.detach()):this.selecting.filter(t=>{e==null||e.forEach(r=>{if(t.uuid!=r.uuid)return t})}),this.hover_off(),this.onObjectChange()}add(e){e.forEach(r=>{this._sceneManager.scene.add(r)});const t=e[e.length-1];this.select([t]),this.onObjectChange()}duplicate(e){e.forEach(t=>{const r=t.clone();this.add([r]),this.rename(r.name+"_clone"),this._sceneManager._historyManager.record("create",r)}),this.onObjectChange()}remove(e){this.deSelect(),e.forEach(t=>{var r;(r=t.parent)==null||r.remove(t),this._sceneManager._historyManager.record("remove",t)})}rename(e){this.selecting!=null&&(this.selecting.forEach(t=>t.name=e),this.onObjectChange())}group=()=>{const e=new Yt;e.name="New Group";const t=Pl.getTemplate();e.userData=t,this._sceneManager.scene.attach(e),this.deSelect(),this.select([e]),this.onObjectChange()};getSelect1(){return this.selecting.length>0?this.selecting[0]:null}hover_Highlight(e){this.hover_off();const t=new JU(e.geometry),r=new ht(t,this.hover_wireframeMat);r.applyMatrix4(e.matrixWorld),this._sceneManager.scene.add(r),this.HoverObjects.push(r)}hover_off(){this.HoverObjects.forEach(e=>this._sceneManager.scene.remove(e)),this.HoverObjects=[]}getSceneObjs(){return this._sceneManager.scene.children.filter(e=>Pl.isUserObject(e))}}class xbe{constructor(e,t=e._objectManager,r=t._controlManager){this._sceneManager=e,this._objectManager=t,this._controlManager=r,this.init()}raycaster=new P_;pointer=new $e;isStaticClick=!1;iDebug=()=>{};init(){if(this._sceneManager.renderer.domElement.addEventListener("pointerdown",e=>{this.onPointerDown(e)}),this._sceneManager.renderer.domElement.addEventListener("pointerup",e=>{this.onPointerUp(e)}),this._sceneManager.renderer.domElement.addEventListener("pointermove",e=>{this.onPointerMove(e)}),this.raycaster.layers.set(1),window.addEventListener("keydown",e=>{switch(this.windowLevelKeyMapping(e),e.key){case"Escape":this._sceneManager._objectManager.deSelect();break}}),this._sceneManager.div==null){console.error("DIV not founded!");return}this._sceneManager.div.addEventListener("keydown",e=>{this.viewportLevelKeyMapping(e)}),this._sceneManager.div.addEventListener("keyup",e=>{var t;e.shiftKey===!1&&((t=this._sceneManager._objectManager._controlManager)==null||t.transformControlNotSnap())})}windowLevelKeyMapping=e=>{if(e.ctrlKey)switch(e.key){case"Backspace":this._objectManager.getSelect1()!=null?this._sceneManager._objectManager.remove([...this._sceneManager._objectManager.objList]):console.log("Nothing to Delete");break;case"i":this.iDebug(console.log(this._objectManager.getSelect1()));break;case"y":Su.snapX(this._sceneManager);break;case"z":console.log("Undo"),this._sceneManager._historyManager.undo(t=>{});break;case"d":this._sceneManager._objectManager.duplicate(this._objectManager.getSelect1()),console.log("d");break}};viewportLevelKeyMapping=e=>{switch(e.shiftKey?this._sceneManager._objectManager._controlManager.transformControlSnap():this._sceneManager._objectManager._controlManager.transformControlNotSnap(),e.key){case"Backspace":this._objectManager.getSelect1!=null?this._sceneManager._objectManager.remove([this._objectManager.getSelect1()]):console.log("Nothing to Delete");break;case"Escape":this._sceneManager._objectManager.deSelect();break;case"w":this._sceneManager._objectManager._controlManager.transformControl.setMode("translate");break;case"e":this._sceneManager._objectManager._controlManager.transformControl.setMode("rotate");break;case"r":this._sceneManager._objectManager._controlManager.transformControl.setMode("scale");break;case"v":this._sceneManager._objectManager._controlManager.transformControlSwitchSpace();break;case"f":this._sceneManager._objectManager._controlManager.focus(this._objectManager.getSelect1());break}};onPointerDown(e){var r;if(this._sceneManager.renderer.xr.getSession()||(r=this._sceneManager._objectManager._controlManager)!=null&&r.transformControl.dragging)return;this.raycaster.setFromCamera(this.pointer,this._sceneManager.camera);const t=this.raycaster.intersectObjects(this._sceneManager.scene.children);if(t.length>0){const i=t[0].object;if(e.shiftKey){const o=this._sceneManager._objectManager.selecting;this._sceneManager._objectManager.select([...o,i])}else this._sceneManager._objectManager.select([i])}else this.isStaticClick=!0}onPointerUp(e){this.isStaticClick&&this._sceneManager._objectManager.deSelect()}onPointerMove(e){if(this.isStaticClick=!1,this._sceneManager.div===null){alert("Fatal: scene is not init");return}if(!this._sceneManager.renderer.xr.getSession()){this.pointer.x=e.clientX/this._sceneManager.div.clientWidth*2-1,this.pointer.y=-(e.clientY/this._sceneManager.div.clientHeight)*2+1,this.raycaster.setFromCamera(this.pointer,this._sceneManager.camera),this.raycaster.layers.set(1);var t=this.raycaster.intersectObjects(this._sceneManager.scene.children);if(this._sceneManager._objectManager._controlManager.isOrbiting){this._sceneManager._objectManager.hover_off();return}t.length?this._sceneManager._objectManager.hover_Highlight(t[0].object):this._sceneManager._objectManager.hover_off()}}}class Mm{static createButton(e,t){t&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');const r=document.createElement("button");function i(){let u=null;async function c(h){h.addEventListener("end",d),await e.xr.setSession(h),r.textContent="EXIT VR",u=h}function d(){u.removeEventListener("end",d),r.textContent="ENTER VR",u=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="ENTER VR",r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){if(u===null){const h={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]};navigator.xr.requestSession("immersive-vr",h).then(c)}else u.end()}}function o(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null}function a(){o(),r.textContent="VR NOT SUPPORTED"}function s(u){o(),console.warn("Exception when trying to call xr.isSessionSupported",u),r.textContent="VR NOT ALLOWED"}function l(u){u.style.position="absolute",u.style.bottom="20px",u.style.padding="12px 6px",u.style.border="1px solid #fff",u.style.borderRadius="4px",u.style.background="rgba(0,0,0,0.1)",u.style.color="#fff",u.style.font="normal 13px sans-serif",u.style.textAlign="center",u.style.opacity="0.5",u.style.outline="none",u.style.zIndex="999"}if("xr"in navigator)return r.id="VRButton",r.style.display="none",l(r),navigator.xr.isSessionSupported("immersive-vr").then(function(u){u?i():a(),u&&Mm.xrSessionIsGranted&&r.click()}).catch(s),r;{const u=document.createElement("a");return window.isSecureContext===!1?(u.href=document.location.href.replace(/^http:/,"https:"),u.innerHTML="WEBXR NEEDS HTTPS"):(u.href="https://immersiveweb.dev/",u.innerHTML="WEBXR NOT AVAILABLE"),u.style.left="calc(50% - 90px)",u.style.width="180px",u.style.textDecoration="none",l(u),u}}static xrSessionIsGranted=!1;static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{Mm.xrSessionIsGranted=!0})}}Mm.registerSessionGrantedListener();class _be extends ho{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Cbe(t)}),this.register(function(t){return new Abe(t)}),this.register(function(t){return new Rbe(t)}),this.register(function(t){return new Mbe(t)}),this.register(function(t){return new Ebe(t)}),this.register(function(t){return new Tbe(t)}),this.register(function(t){return new Obe(t)}),this.register(function(t){return new Pbe(t)}),this.register(function(t){return new wbe(t)}),this.register(function(t){return new Ibe(t)})}load(e,t,r,i){const o=this;let a;this.resourcePath!==""?a=this.resourcePath:this.path!==""?a=this.path:a=Na.extractUrlBase(e),this.manager.itemStart(e);const s=function(u){i?i(u):console.error(u),o.manager.itemError(e),o.manager.itemEnd(e)},l=new Ha(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{o.parse(u,a,function(c){t(c),o.manager.itemEnd(e)},s)}catch(c){s(c)}},r,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let o;const a={},s={};if(typeof e=="string")o=e;else if(Na.decodeText(new Uint8Array(e,0,4))===o6){try{a[nn.KHR_BINARY_GLTF]=new Nbe(e)}catch(d){i&&i(d);return}o=a[nn.KHR_BINARY_GLTF].content}else o=Na.decodeText(new Uint8Array(e));const l=JSON.parse(o);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new jbe(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](u);s[d.name]=d,a[d.name]=!0}if(l.extensionsUsed)for(let c=0;c<l.extensionsUsed.length;++c){const d=l.extensionsUsed[c],h=l.extensionsRequired||[];switch(d){case nn.KHR_MATERIALS_UNLIT:a[d]=new Sbe;break;case nn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[d]=new kbe;break;case nn.KHR_DRACO_MESH_COMPRESSION:a[d]=new Lbe(l,this.dracoLoader);break;case nn.KHR_TEXTURE_TRANSFORM:a[d]=new Dbe;break;case nn.KHR_MESH_QUANTIZATION:a[d]=new Fbe;break;default:h.indexOf(d)>=0&&s[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}u.setExtensions(a),u.setPlugins(s),u.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,o){r.parse(e,t,i,o)})}}function bbe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const nn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class wbe{constructor(e){this.parser=e,this.name=nn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const o=t[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const o=t.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let u;const c=new pt(16777215);l.color!==void 0&&c.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new zO(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new FO(c),u.distance=d;break;case"spot":u=new kO(c),u.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,o=r.json.nodes[e],s=(o.extensions&&o.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(l){return r._getNodeRef(t.cache,s,l)})}}class Sbe{constructor(){this.name=nn.KHR_MATERIALS_UNLIT}getMaterialType(){return vr}extendParams(e,t,r){const i=[];e.color=new pt(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const a=o.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}o.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",o.baseColorTexture,sn))}return Promise.all(i)}}class Cbe{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const s=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new $e(s,s)}return Promise.all(o)}}class Mbe{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new pt(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=i.extensions[this.name];return a.sheenColorFactor!==void 0&&t.sheenColor.fromArray(a.sheenColorFactor),a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&o.push(r.assignTexture(t,"sheenColorMap",a.sheenColorTexture,sn)),a.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(o)}}class Ebe{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&o.push(r.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(o)}}class Tbe{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&o.push(r.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||0;const s=a.attenuationColor||[1,1,1];return t.attenuationColor=new pt(s[0],s[1],s[2]),Promise.all(o)}}class Obe{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jl}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class Pbe{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&o.push(r.assignTexture(t,"specularIntensityMap",a.specularTexture));const s=a.specularColorFactor||[1,1,1];return t.specularColor=new pt(s[0],s[1],s[2]),a.specularColorTexture!==void 0&&o.push(r.assignTexture(t,"specularColorMap",a.specularColorTexture,sn)),Promise.all(o)}}class Abe{constructor(e){this.parser=e,this.name=nn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,a)}}class Rbe{constructor(e){this.parser=e,this.name=nn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[t])return null;const a=o.extensions[t],s=i.images[a.source];let l=r.textureLoader;if(s.uri){const u=r.options.manager.getHandler(s.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,a.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ibe{constructor(e){this.name=nn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([o,a.ready]).then(function(s){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,d=i.byteStride,h=new ArrayBuffer(c*d),m=new Uint8Array(s[0],l,u);return a.decodeGltfBuffer(new Uint8Array(h),c,d,m,i.mode,i.filter),h})}else return null}}const o6="glTF",Wh=12,Ik={JSON:1313821514,BIN:5130562};class Nbe{constructor(e){this.name=nn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Wh);if(this.header={magic:Na.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==o6)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Wh,i=new DataView(e,Wh);let o=0;for(;o<r;){const a=i.getUint32(o,!0);o+=4;const s=i.getUint32(o,!0);if(o+=4,s===Ik.JSON){const l=new Uint8Array(e,Wh+o,a);this.content=Na.decodeText(l)}else if(s===Ik.BIN){const l=Wh+o;this.body=e.slice(l,l+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Lbe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=nn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,s={},l={},u={};for(const c in a){const d=dM[c]||c.toLowerCase();s[d]=a[c]}for(const c in e.attributes){const d=dM[c]||c.toLowerCase();if(a[c]!==void 0){const h=r.accessors[e.attributes[c]],m=Em[h.componentType];u[d]=m,l[d]=h.normalized===!0}}return t.getDependency("bufferView",o).then(function(c){return new Promise(function(d){i.decodeDracoFile(c,function(h){for(const m in h.attributes){const g=h.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}d(h)},s,u)})})}}class Dbe{constructor(){this.name=nn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class fM extends jd{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),o=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),s={specular:{value:new pt().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=s,this.onBeforeCompile=function(l){for(const u in s)l.uniforms[u]=s[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",o).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return s.specular.value},set:function(l){s.specular.value=l}},specularMap:{get:function(){return s.specularMap.value},set:function(l){s.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return s.glossiness.value},set:function(l){s.glossiness.value=l}},glossinessMap:{get:function(){return s.glossinessMap.value},set:function(l){s.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class kbe{constructor(){this.name=nn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return fM}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new pt(1,1,1),e.opacity=1;const o=[];if(Array.isArray(i.diffuseFactor)){const a=i.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(i.diffuseTexture!==void 0&&o.push(r.assignTexture(e,"map",i.diffuseTexture,sn)),e.emissive=new pt(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new pt(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const a=i.specularGlossinessTexture;o.push(r.assignTexture(e,"glossinessMap",a)),o.push(r.assignTexture(e,"specularMap",a,sn))}return Promise.all(o)}createMaterial(e){const t=new fM(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=pc,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t}}class Fbe{constructor(){this.name=nn.KHR_MESH_QUANTIZATION}}class sc extends Ns{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let a=0;a!==i;a++)t[a]=r[o+a];return t}}sc.prototype.beforeStart_=sc.prototype.copySampleValue_;sc.prototype.afterEnd_=sc.prototype.copySampleValue_;sc.prototype.interpolate_=function(n,e,t,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=a*2,l=a*3,u=r-e,c=(t-e)/u,d=c*c,h=d*c,m=n*l,g=m-l,v=-2*h+3*d,y=h-d,x=1-v,_=y-d+c;for(let b=0;b!==a;b++){const S=o[g+b+a],C=o[g+b+s]*u,E=o[m+b+a],T=o[m+b]*u;i[b]=x*S+_*C+v*E+y*T}return i};const zbe=new wn;class Bbe extends sc{interpolate_(e,t,r,i){const o=super.interpolate_(e,t,r,i);return zbe.fromArray(o).normalize().toArray(o),o}}const ds={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Em={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Nk={9728:dr,9729:Sn,9984:x0,9985:mO,9986:_0,9987:Yl},Lk={33071:pi,33648:sm,10497:ic},Dk={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},dM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},sl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ube={CUBICSPLINE:void 0,LINEAR:vd,STEP:um},H1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Hbe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new jd({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:md})),n.DefaultMaterial}function $h(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Mu(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Vbe(n,e,t){let r=!1,i=!1,o=!1;for(let u=0,c=e.length;u<c;u++){const d=e[u];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(n);const a=[],s=[],l=[];for(let u=0,c=e.length;u<c;u++){const d=e[u];if(r){const h=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;a.push(h)}if(i){const h=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;s.push(h)}if(o){const h=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l)]).then(function(u){const c=u[0],d=u[1],h=u[2];return r&&(n.morphAttributes.position=c),i&&(n.morphAttributes.normal=d),o&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function Gbe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Wbe(n){const e=n.extensions&&n.extensions[nn.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+kk(e.attributes):t=n.indices+":"+kk(n.attributes)+":"+n.mode,t}function kk(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function hM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function $be(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class jbe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new bbe,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!1?this.textureLoader=new yH(this.options.manager):this.textureLoader=new bm(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ha(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,o=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(a){const s={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:r,userData:{}};$h(o,s,i),Mu(s,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(s)})).then(function(){e(s)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,o=t.length;i<o;i++){const a=t[i].joints;for(let s=0,l=a.length;s<l;s++)e[a[s]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(r[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),o=(a,s)=>{const l=this.associations.get(a);l!=null&&this.associations.set(s,l);for(const[u,c]of a.children.entries())o(c,s.children[u])};return o(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const o=e(t[i]);o&&r.push(o)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(o,a){return r.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[nn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,a){r.load(Na.resolveURL(t.uri,i.path),o,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,o=t.byteOffset||0;return r.slice(o,o+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(a){const s=a[0],l=Dk[i.type],u=Em[i.componentType],c=u.BYTES_PER_ELEMENT,d=c*l,h=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(m&&m!==d){const x=Math.floor(h/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let b=t.cache.get(_);b||(v=new u(s,x*m,i.count*m/c),b=new vc(v,m/c),t.cache.add(_,b)),y=new Bl(b,l,h%m/c,g)}else s===null?v=new u(i.count*l):v=new u(s,h,i.count*l),y=new jn(v,l,g);if(i.sparse!==void 0){const x=Dk.SCALAR,_=Em[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,C=new _(a[1],b,i.sparse.count*x),E=new u(a[2],S,i.sparse.count*l);s!==null&&(y=new jn(y.array.slice(),y.itemSize,y.normalized));for(let T=0,P=C.length;T<P;T++){const L=C[T];if(y.setX(L,E[T*l]),l>=2&&y.setY(L,E[T*l+1]),l>=3&&y.setZ(L,E[T*l+2]),l>=4&&y.setW(L,E[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,o=t.textures[e].source,a=t.images[o];let s=this.textureLoader;if(a.uri){const l=r.manager.getHandler(a.uri);l!==null&&(s=l)}return this.loadTextureImage(e,o,s)}loadTextureImage(e,t,r){const i=this,o=this.json,a=o.textures[e],s=o.images[t],l=(s.uri||s.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(c){c.flipY=!1,a.name&&(c.name=a.name);const h=(o.samplers||{})[a.sampler]||{};return c.magFilter=Nk[h.magFilter]||Sn,c.minFilter=Nk[h.minFilter]||Yl,c.wrapS=Lk[h.wrapS]||ic,c.wrapT=Lk[h.wrapT]||ic,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const a=i.images[e],s=self.URL||self.webkitURL;let l=a.uri||"",u=!1;if(a.bufferView!==void 0)l=r.getDependency("bufferView",a.bufferView).then(function(d){u=!0;const h=new Blob([d],{type:a.mimeType});return l=s.createObjectURL(h),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(d){return new Promise(function(h,m){let g=h;t.isImageBitmapLoader===!0&&(g=function(v){const y=new ur(v);y.needsUpdate=!0,h(y)}),t.load(Na.resolveURL(d,o.path),g,void 0,m)})}).then(function(d){return u===!0&&s.revokeObjectURL(l),d.userData.mimeType=a.mimeType||$be(a.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=c,c}assignTexture(e,t,r,i){const o=this;return this.getDependency("texture",r.index).then(function(a){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),o.extensions[nn.KHR_TEXTURE_TRANSFORM]){const s=r.extensions!==void 0?r.extensions[nn.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const l=o.associations.get(a);a=o.extensions[nn.KHR_TEXTURE_TRANSFORM].extendTexture(a,s),o.associations.set(a,l)}}return i!==void 0&&(a.encoding=i),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+r.uuid;let l=this.cache.get(s);l||(l=new C_,Zn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(s,l)),r=l}else if(e.isLine){const s="LineBasicMaterial:"+r.uuid;let l=this.cache.get(s);l||(l=new ja,Zn.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(s,l)),r=l}if(i||o||a){let s="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(s+="specular-glossiness:"),i&&(s+="derivative-tangents:"),o&&(s+="vertex-colors:"),a&&(s+="flat-shading:");let l=this.cache.get(s);l||(l=r.clone(),o&&(l.vertexColors=!0),a&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(s,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return jd}loadMaterial(e){const t=this,r=this.json,i=this.extensions,o=r.materials[e];let a;const s={},l=o.extensions||{},u=[];if(l[nn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[nn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=d.getMaterialType(),u.push(d.extendParams(s,o,t))}else if(l[nn.KHR_MATERIALS_UNLIT]){const d=i[nn.KHR_MATERIALS_UNLIT];a=d.getMaterialType(),u.push(d.extendParams(s,o,t))}else{const d=o.pbrMetallicRoughness||{};if(s.color=new pt(1,1,1),s.opacity=1,Array.isArray(d.baseColorFactor)){const h=d.baseColorFactor;s.color.fromArray(h),s.opacity=h[3]}d.baseColorTexture!==void 0&&u.push(t.assignTexture(s,"map",d.baseColorTexture,sn)),s.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,s.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(s,"metalnessMap",d.metallicRoughnessTexture)),u.push(t.assignTexture(s,"roughnessMap",d.metallicRoughnessTexture))),a=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,s)})))}o.doubleSided===!0&&(s.side=Ua);const c=o.alphaMode||H1.OPAQUE;if(c===H1.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,c===H1.MASK&&(s.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&a!==vr&&(u.push(t.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new $e(1,1),o.normalTexture.scale!==void 0)){const d=o.normalTexture.scale;s.normalScale.set(d,d)}return o.occlusionTexture!==void 0&&a!==vr&&(u.push(t.assignTexture(s,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&a!==vr&&(s.emissive=new pt().fromArray(o.emissiveFactor)),o.emissiveTexture!==void 0&&a!==vr&&u.push(t.assignTexture(s,"emissiveMap",o.emissiveTexture,sn)),Promise.all(u).then(function(){let d;return a===fM?d=i[nn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):d=new a(s),o.name&&(d.name=o.name),Mu(d,o),t.associations.set(d,{materials:e}),o.extensions&&$h(i,d,o),d})}createUniqueName(e){const t=hn.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function o(s){return r[nn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,t).then(function(l){return Fk(l,s,t)})}const a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s],c=Wbe(u),d=i[c];if(d)a.push(d.promise);else{let h;u.extensions&&u.extensions[nn.KHR_DRACO_MESH_COMPRESSION]?h=o(u):h=Fk(new Vt,u,t),i[c]={primitive:u,promise:h},a.push(h)}}return Promise.all(a)}loadMesh(e){const t=this,r=this.json,i=this.extensions,o=r.meshes[e],a=o.primitives,s=[];for(let l=0,u=a.length;l<u;l++){const c=a[l].material===void 0?Hbe(this.cache):this.getDependency("material",a[l].material);s.push(c)}return s.push(t.loadGeometries(a)),Promise.all(s).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],d=[];for(let m=0,g=c.length;m<g;m++){const v=c[m],y=a[m];let x;const _=u[m];if(y.mode===ds.TRIANGLES||y.mode===ds.TRIANGLE_STRIP||y.mode===ds.TRIANGLE_FAN||y.mode===void 0)x=o.isSkinnedMesh===!0?new b_(v,_):new ht(v,_),x.isSkinnedMesh===!0&&!x.geometry.attributes.skinWeight.normalized&&x.normalizeSkinWeights(),y.mode===ds.TRIANGLE_STRIP?x.geometry=zk(x.geometry,sme):y.mode===ds.TRIANGLE_FAN&&(x.geometry=zk(x.geometry,SU));else if(y.mode===ds.LINES)x=new Wd(v,_);else if(y.mode===ds.LINE_STRIP)x=new di(v,_);else if(y.mode===ds.LINE_LOOP)x=new EO(v,_);else if(y.mode===ds.POINTS)x=new TO(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(x.geometry.morphAttributes).length>0&&Gbe(x,o),x.name=t.createUniqueName(o.name||"mesh_"+e),Mu(x,o),y.extensions&&$h(i,x,y),t.assignFinalMaterial(x),d.push(x)}for(let m=0,g=d.length;m<g;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return d[0];const h=new Oa;t.associations.set(h,{meshes:e});for(let m=0,g=d.length;m<g;m++)h.add(d[m]);return h})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Vr(MU.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new jm(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Mu(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],o=[],a=[],s=[],l=[];for(let u=0,c=r.channels.length;u<c;u++){const d=r.channels[u],h=r.samplers[d.sampler],m=d.target,g=m.node!==void 0?m.node:m.id,v=r.parameters!==void 0?r.parameters[h.input]:h.input,y=r.parameters!==void 0?r.parameters[h.output]:h.output;i.push(this.getDependency("node",g)),o.push(this.getDependency("accessor",v)),a.push(this.getDependency("accessor",y)),s.push(h),l.push(m)}return Promise.all([Promise.all(i),Promise.all(o),Promise.all(a),Promise.all(s),Promise.all(l)]).then(function(u){const c=u[0],d=u[1],h=u[2],m=u[3],g=u[4],v=[];for(let x=0,_=c.length;x<_;x++){const b=c[x],S=d[x],C=h[x],E=m[x],T=g[x];if(b===void 0)continue;b.updateMatrix(),b.matrixAutoUpdate=!0;let P;switch(sl[T.path]){case sl.weights:P=xm;break;case sl.rotation:P=ac;break;case sl.position:case sl.scale:default:P=_m;break}const L=b.name?b.name:b.uuid,I=E.interpolation!==void 0?Ube[E.interpolation]:vd,O=[];sl[T.path]===sl.weights?b.traverse(function(U){U.morphTargetInfluences&&O.push(U.name?U.name:U.uuid)}):O.push(L);let F=C.array;if(C.normalized){const U=hM(F.constructor),k=new Float32Array(F.length);for(let H=0,$=F.length;H<$;H++)k[H]=F[H]*U;F=k}for(let U=0,k=O.length;U<k;U++){const H=new P(O[U]+"."+sl[T.path],S.array,F,I);E.interpolation==="CUBICSPLINE"&&(H.createInterpolant=function(V){const N=this instanceof ac?Bbe:sc;return new N(this.times,this.values,this.getValueSize()/3,V)},H.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(H)}}const y=r.name?r.name:"animation_"+e;return new L0(y,void 0,v)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(o){const a=r._getNodeRef(r.meshCache,i.mesh,o);return i.weights!==void 0&&a.traverse(function(s){if(!!s.isMesh)for(let l=0,u=i.weights.length;l<u;l++)s.morphTargetInfluences[l]=i.weights[l]}),a})}loadNode(e){const t=this.json,r=this.extensions,i=this,o=t.nodes[e],a=o.name?i.createUniqueName(o.name):"";return function(){const s=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&s.push(l),o.camera!==void 0&&s.push(i.getDependency("camera",o.camera).then(function(u){return i._getNodeRef(i.cameraCache,o.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){s.push(u)}),Promise.all(s)}().then(function(s){let l;if(o.isBone===!0?l=new w_:s.length>1?l=new Oa:s.length===1?l=s[0]:l=new Yt,l!==s[0])for(let u=0,c=s.length;u<c;u++)l.add(s[u]);if(o.name&&(l.userData.name=o.name,l.name=a),Mu(l,o),o.extensions&&$h(r,l,o),o.matrix!==void 0){const u=new Mt;u.fromArray(o.matrix),l.applyMatrix4(u)}else o.translation!==void 0&&l.position.fromArray(o.translation),o.rotation!==void 0&&l.quaternion.fromArray(o.rotation),o.scale!==void 0&&l.scale.fromArray(o.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],o=this,a=new Oa;i.name&&(a.name=o.createUniqueName(i.name)),Mu(a,i),i.extensions&&$h(r,a,i);const s=i.nodes||[],l=[];for(let u=0,c=s.length;u<c;u++)l.push(a6(s[u],a,t,o));return Promise.all(l).then(function(){const u=c=>{const d=new Map;for(const[h,m]of o.associations)(h instanceof Zn||h instanceof ur)&&d.set(h,m);return c.traverse(h=>{const m=o.associations.get(h);m!=null&&d.set(h,m)}),d};return o.associations=u(a),a})}}function a6(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(o){if(i.skin===void 0)return o;let a;return r.getDependency("skin",i.skin).then(function(s){a=s;const l=[];for(let u=0,c=a.joints.length;u<c;u++)l.push(r.getDependency("node",a.joints[u]));return Promise.all(l)}).then(function(s){return o.traverse(function(l){if(!l.isMesh)return;const u=[],c=[];for(let d=0,h=s.length;d<h;d++){const m=s[d];if(m){u.push(m);const g=new Mt;a.inverseBindMatrices!==void 0&&g.fromArray(a.inverseBindMatrices.array,d*16),c.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',a.joints[d])}l.bind(new S_(u,c),l.matrixWorld)}),o})}).then(function(o){e.add(o);const a=[];if(i.children){const s=i.children;for(let l=0,u=s.length;l<u;l++){const c=s[l];a.push(a6(c,o,t,r))}}return Promise.all(a)})}function Kbe(n,e,t){const r=e.attributes,i=new fo;if(r.POSITION!==void 0){const s=t.json.accessors[r.POSITION],l=s.min,u=s.max;if(l!==void 0&&u!==void 0){if(i.set(new J(l[0],l[1],l[2]),new J(u[0],u[1],u[2])),s.normalized){const c=hM(Em[s.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const s=new J,l=new J;for(let u=0,c=o.length;u<c;u++){const d=o[u];if(d.POSITION!==void 0){const h=t.json.accessors[d.POSITION],m=h.min,g=h.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),h.normalized){const v=hM(Em[h.componentType]);l.multiplyScalar(v)}s.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(s)}n.boundingBox=i;const a=new Bs;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=a}function Fk(n,e,t){const r=e.attributes,i=[];function o(a,s){return t.getDependency("accessor",a).then(function(l){n.setAttribute(s,l)})}for(const a in r){const s=dM[a]||a.toLowerCase();s in n.attributes||i.push(o(r[a],s))}if(e.indices!==void 0&&!n.index){const a=t.getDependency("accessor",e.indices).then(function(s){n.setIndex(s)});i.push(a)}return Mu(n,e),Kbe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Vbe(n,e.targets,t):n})}function zk(n,e){let t=n.getIndex();if(t===null){const a=[],s=n.getAttribute("position");if(s!==void 0){for(let l=0;l<s.count;l++)a.push(l);n.setIndex(a),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===SU)for(let a=1;a<=r;a++)i.push(t.getX(0)),i.push(t.getX(a)),i.push(t.getX(a+1));else for(let a=0;a<r;a++)a%2===0?(i.push(t.getX(a)),i.push(t.getX(a+1)),i.push(t.getX(a+2))):(i.push(t.getX(a+2)),i.push(t.getX(a+1)),i.push(t.getX(a)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=n.clone();return o.setIndex(i),o}const nr={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};async function s6(n){const e=await fetch(n);if(e.ok)return e.json();throw new Error(e.statusText)}async function Xbe(n){if(!n)throw new Error("No basePath supplied");return await s6(`${n}/profilesList.json`)}async function Ybe(n,e,t=null,r=!0){if(!n)throw new Error("No xrInputSource supplied");if(!e)throw new Error("No basePath supplied");const i=await Xbe(e);let o;if(n.profiles.some(l=>{const u=i[l];return u&&(o={profileId:l,profilePath:`${e}/${u.path}`,deprecated:!!u.deprecated}),!!o}),!o){if(!t)throw new Error("No matching profile name found");const l=i[t];if(!l)throw new Error(`No matching profile name found and default profile "${t}" missing.`);o={profileId:t,profilePath:`${e}/${l.path}`,deprecated:!!l.deprecated}}const a=await s6(o.profilePath);let s;if(r){let l;if(n.handedness==="any"?l=a.layouts[Object.keys(a.layouts)[0]]:l=a.layouts[n.handedness],!l)throw new Error(`No matching handedness, ${n.handedness}, in profile ${o.profileId}`);l.assetPath&&(s=o.profilePath.replace("profile.json",l.assetPath))}return{profile:a,assetPath:s}}const qbe={xAxis:0,yAxis:0,button:0,state:nr.ComponentState.DEFAULT};function Zbe(n=0,e=0){let t=n,r=e;if(Math.sqrt(n*n+e*e)>1){const a=Math.atan2(e,n);t=Math.cos(a),r=Math.sin(a)}return{normalizedXAxis:t*.5+.5,normalizedYAxis:r*.5+.5}}class Jbe{constructor(e){this.componentProperty=e.componentProperty,this.states=e.states,this.valueNodeName=e.valueNodeName,this.valueNodeProperty=e.valueNodeProperty,this.valueNodeProperty===nr.VisualResponseProperty.TRANSFORM&&(this.minNodeName=e.minNodeName,this.maxNodeName=e.maxNodeName),this.value=0,this.updateFromComponent(qbe)}updateFromComponent({xAxis:e,yAxis:t,button:r,state:i}){const{normalizedXAxis:o,normalizedYAxis:a}=Zbe(e,t);switch(this.componentProperty){case nr.ComponentProperty.X_AXIS:this.value=this.states.includes(i)?o:.5;break;case nr.ComponentProperty.Y_AXIS:this.value=this.states.includes(i)?a:.5;break;case nr.ComponentProperty.BUTTON:this.value=this.states.includes(i)?r:0;break;case nr.ComponentProperty.STATE:this.valueNodeProperty===nr.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(i):this.value=this.states.includes(i)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class Qbe{constructor(e,t){if(!e||!t||!t.visualResponses||!t.gamepadIndices||Object.keys(t.gamepadIndices).length===0)throw new Error("Invalid arguments supplied");this.id=e,this.type=t.type,this.rootNodeName=t.rootNodeName,this.touchPointNodeName=t.touchPointNodeName,this.visualResponses={},Object.keys(t.visualResponses).forEach(r=>{const i=new Jbe(t.visualResponses[r]);this.visualResponses[r]=i}),this.gamepadIndices=Object.assign({},t.gamepadIndices),this.values={state:nr.ComponentState.DEFAULT,button:this.gamepadIndices.button!==void 0?0:void 0,xAxis:this.gamepadIndices.xAxis!==void 0?0:void 0,yAxis:this.gamepadIndices.yAxis!==void 0?0:void 0}}get data(){return Be({id:this.id},this.values)}updateFromGamepad(e){if(this.values.state=nr.ComponentState.DEFAULT,this.gamepadIndices.button!==void 0&&e.buttons.length>this.gamepadIndices.button){const t=e.buttons[this.gamepadIndices.button];this.values.button=t.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,t.pressed||this.values.button===1?this.values.state=nr.ComponentState.PRESSED:(t.touched||this.values.button>nr.ButtonTouchThreshold)&&(this.values.state=nr.ComponentState.TOUCHED)}this.gamepadIndices.xAxis!==void 0&&e.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=e.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===nr.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>nr.AxisTouchThreshold&&(this.values.state=nr.ComponentState.TOUCHED)),this.gamepadIndices.yAxis!==void 0&&e.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=e.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===nr.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>nr.AxisTouchThreshold&&(this.values.state=nr.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(t=>{t.updateFromComponent(this.values)})}}class ewe{constructor(e,t,r){if(!e)throw new Error("No xrInputSource supplied");if(!t)throw new Error("No profile supplied");this.xrInputSource=e,this.assetUrl=r,this.id=t.profileId,this.layoutDescription=t.layouts[e.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(i=>{const o=this.layoutDescription.components[i];this.components[i]=new Qbe(i,o)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const e=[];return Object.values(this.components).forEach(t=>{e.push(t.data)}),e}updateFromGamepad(){Object.values(this.components).forEach(e=>{e.updateFromGamepad(this.xrInputSource.gamepad)})}}const twe="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",nwe="generic-trigger";class rwe extends Yt{constructor(){super(),this.motionController=null,this.envMap=null}setEnvironmentMap(e){return this.envMap==e?this:(this.envMap=e,this.traverse(t=>{t.isMesh&&(t.material.envMap=this.envMap,t.material.needsUpdate=!0)}),this)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(t=>{Object.values(t.visualResponses).forEach(r=>{const{valueNode:i,minNode:o,maxNode:a,value:s,valueNodeProperty:l}=r;!i||(l===nr.VisualResponseProperty.VISIBILITY?i.visible=s:l===nr.VisualResponseProperty.TRANSFORM&&(i.quaternion.slerpQuaternions(o.quaternion,a.quaternion,s),i.position.lerpVectors(o.position,a.position,s)))})}))}}function iwe(n,e){Object.values(n.components).forEach(t=>{const{type:r,touchPointNodeName:i,visualResponses:o}=t;if(r===nr.ComponentType.TOUCHPAD)if(t.touchPointNode=e.getObjectByName(i),t.touchPointNode){const a=new _d(.001),s=new vr({color:255}),l=new ht(a,s);t.touchPointNode.add(l)}else console.warn(`Could not find touch dot, ${t.touchPointNodeName}, in touchpad component ${t.id}`);Object.values(o).forEach(a=>{const{valueNodeName:s,minNodeName:l,maxNodeName:u,valueNodeProperty:c}=a;if(c===nr.VisualResponseProperty.TRANSFORM){if(a.minNode=e.getObjectByName(l),a.maxNode=e.getObjectByName(u),!a.minNode){console.warn(`Could not find ${l} in the model`);return}if(!a.maxNode){console.warn(`Could not find ${u} in the model`);return}}a.valueNode=e.getObjectByName(s),a.valueNode||console.warn(`Could not find ${s} in the model`)})})}function Bk(n,e){iwe(n.motionController,e),n.envMap&&e.traverse(t=>{t.isMesh&&(t.material.envMap=n.envMap,t.material.needsUpdate=!0)}),n.add(e)}class owe{constructor(e=null){this.gltfLoader=e,this.path=twe,this._assetCache={},this.gltfLoader||(this.gltfLoader=new _be)}createControllerModel(e){const t=new rwe;let r=null;return e.addEventListener("connected",i=>{const o=i.data;o.targetRayMode!=="tracked-pointer"||!o.gamepad||Ybe(o,this.path,nwe).then(({profile:a,assetPath:s})=>{t.motionController=new ewe(o,a,s);const l=this._assetCache[t.motionController.assetUrl];if(l)r=l.scene.clone(),Bk(t,r);else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(t.motionController.assetUrl,u=>{this._assetCache[t.motionController.assetUrl]=u,r=u.scene.clone(),Bk(t,r)},null,()=>{throw new Error(`Asset ${t.motionController.assetUrl} missing or malformed.`)})}}).catch(a=>{console.warn(a)})}),e.addEventListener("disconnected",()=>{t.motionController=null,t.remove(r),r=null}),t}}class awe{constructor(e){this._sceneManager=e}B_leftController;B_rightController;updateInputs=()=>{this._sceneManager.renderer.xr.getSession().inputSources.forEach(t=>{t.handedness=="left"?(this.B_leftController=new Uk(t),this.B_leftController.UpperButton_startPressedFunc=()=>{this._sceneManager._VRManager.Left_Controller.userData.isGrabbing!=!0&&this._sceneManager._VRManager.Right_Controller.userData.isGrabbing!=!0&&this._sceneManager._historyManager.undo(r=>{})}):t.handedness=="right"?(this.B_rightController=new Uk(t),this.B_rightController.UpperButton_startPressedFunc=()=>{this._sceneManager._VRManager.Left_Controller.userData.isGrabbing!=!0&&this._sceneManager._VRManager.Right_Controller.userData.isGrabbing!=!0&&this._sceneManager._historyManager.undo(r=>{})}):console.log("Unknown Type Controller")})};update(){this.B_leftController.update(),this.B_rightController.update()}}class Uk{constructor(e){this._inputSources=e,this.UpperButton=e.gamepad.buttons[5],this.LowerButton=e.gamepad.buttons[4],this.AnalogButton=e.gamepad.buttons[3],this.Horizontal_Axe=e.gamepad.axes[2],this.Vertical_Axe=e.gamepad.axes[3],console.log(`Got ${e.handedness} controller buttons`)}UpperButton;UpperButton_lastPressed=!1;UpperButton_startPressed=!1;UpperButton_endPressed=!1;UpperButton_startPressedFunc=()=>{};UpperButton_endPressedFunc=()=>{};LowerButton;LowerButton_lastPressed=!1;LowerButton_startPressed=!1;LowerButton_endPressed=!1;LowerButton_startPressedFunc=()=>{};LowerButton_endPressedFunc=()=>{};AnalogButton;AnalogButton_lastPressed=!1;AnalogButton_startPressed=!1;AnalogButton_endPressed=!1;AnalogButton_startPressedFunc=()=>{};AnalogButton_endPressedFunc=()=>{};Vertical_Axe;Horizontal_Axe;lastFrameUpperButton=()=>{this.UpperButton.pressed==!0?(this.UpperButton_lastPressed==!0?this.UpperButton_startPressed=!1:(this.UpperButton_startPressed=!0,this.UpperButton_startPressedFunc()),this.UpperButton_endPressed=!1,this.UpperButton_lastPressed=!0):(this.UpperButton_lastPressed==!0?(this.UpperButton_endPressed=!0,this.UpperButton_endPressedFunc()):this.UpperButton_endPressed=!1,this.UpperButton_startPressed=!1,this.UpperButton_lastPressed=!1)};lastFrameLowerButton=()=>{this.LowerButton.pressed==!0?(this.LowerButton_lastPressed==!0?this.LowerButton_startPressed=!1:(this.LowerButton_startPressed=!0,this.LowerButton_startPressedFunc()),this.LowerButton_endPressed=!1,this.LowerButton_lastPressed=!0):(this.LowerButton_lastPressed==!0?(this.LowerButton_endPressed=!0,this.LowerButton_endPressedFunc()):this.LowerButton_endPressed=!1,this.LowerButton_startPressed=!1,this.LowerButton_lastPressed=!1)};lastFrameAnalogButton=()=>{this.AnalogButton.pressed==!0?(this.AnalogButton_lastPressed==!0?this.AnalogButton_startPressed=!1:(this.AnalogButton_startPressed=!0,this.AnalogButton_startPressedFunc()),this.AnalogButton_endPressed=!1,this.AnalogButton_lastPressed=!0):(this.AnalogButton_lastPressed==!0?(this.AnalogButton_endPressed=!0,this.AnalogButton_endPressedFunc()):this.AnalogButton_endPressed=!1,this.AnalogButton_startPressed=!1,this.AnalogButton_lastPressed=!1)};update(){this.lastFrameUpperButton(),this.lastFrameLowerButton(),this.lastFrameAnalogButton(),this.Horizontal_Axe=this._inputSources.gamepad.axes[2],this.Vertical_Axe=this._inputSources.gamepad.axes[3]}}class swe{constructor(e){this._sceneManager=e,e.div.appendChild(Mm.createButton(e.renderer));const t=new di(new Vt().setFromPoints([new J(0,0,0),new J(0,0,-1)]));(()=>{this.Left_Controller=e.renderer.xr.getController(0),this.Left_Controller.addEventListener("connected",a=>{this.Left_Controller.add(this.buildController(a.data),t.clone())}),this.Left_Controller.addEventListener("disconnected",function(){this.remove(this.children[0])}),this.Left_Controller.userData.hoverObjs=[],this.Right_Controller=e.renderer.xr.getController(1),this.Right_Controller.addEventListener("connected",a=>{this.Right_Controller.add(this.buildController(a.data),t.clone())}),this.Right_Controller.addEventListener("disconnected",function(){this.remove(this.children[0])}),this.Right_Controller.userData.hoverObjs=[],e.scene.add(this.Left_Controller,this.Right_Controller)})(),(()=>{this._VRControllers=new awe(e),this.Left_Controller.addEventListener("connected",()=>{this._VRControllers.updateInputs()}),this.Right_Controller.addEventListener("connected",()=>{this._VRControllers.updateInputs()})})(),(()=>{const a=new owe;this.controllerGrip1=e.renderer.xr.getControllerGrip(0),this.controllerGrip1.add(a.createControllerModel(this.controllerGrip1)),this.controllerGrip2=e.renderer.xr.getControllerGrip(1),this.controllerGrip2.add(a.createControllerModel(this.controllerGrip2)),e.scene.add(this.controllerGrip1,this.controllerGrip2)})(),this.Left_Controller.addEventListener("squeezestart",a=>{this.onGrabStart(a)}),this.Left_Controller.addEventListener("squeezeend",a=>{this.onGrabEnd(a)}),this.Right_Controller.addEventListener("squeezestart",a=>{this.onGrabStart(a)}),this.Right_Controller.addEventListener("squeezeend",a=>{this.onGrabEnd(a)}),this.Right_Controller.addEventListener("move",a=>{this.update()}),this._sceneManager.renderer.xr.addEventListener("sessionstart",a=>{this._sceneManager.deSelect()}),this._sceneManager.renderer.xr.addEventListener("sessionend",a=>{this._sceneManager.deSelect(),this._sceneManager.initCameraPos()})}Left_Controller;Right_Controller;controllerGrip1;controllerGrip2;_VRControllers;update(){this.controller_hover(this.Left_Controller),this.controller_hover(this.Right_Controller),this._VRControllers.update(),e(this.Left_Controller,this._VRControllers.B_leftController),e(this.Right_Controller,this._VRControllers.B_rightController);function e(t,r){t.userData.selected!=null&&(t.userData.selected.position.z+=-.01*r.Vertical_Axe.toFixed(),t.userData.selected.scale.x+=1e-5*r.Horizontal_Axe.toFixed(),t.userData.selected.scale.y+=1e-5*r.Horizontal_Axe.toFixed(),t.userData.selected.scale.z+=1e-5*r.Horizontal_Axe.toFixed())}}onGrabStart(e){const t=e.target,r=this.getIntersections(t);if(r.length>0){const i=r[0].object;this._sceneManager._historyManager.record(undoType.transformation,i),t.userData.selected=i,t.userData.isGrabbing=!0,this._sceneManager.select(i),t.attach(i)}}onGrabEnd(e){const t=e.target;t.userData.isGrabbing=!1,this._sceneManager.scene.attach(t.userData.selected),this._sceneManager.deSelect(),t.userData.selected=void 0}controller_hover(e){const t=this.getIntersections(e);if(t.length>0){const o=t[0].object;r(),e.userData.hoverObjs.push(o),o.material.color.set(1614075)}else r();function r(){if(!!e.userData.hoverObjs.length){for(var i=0;i<e.userData.hoverObjs.length;i++)e.userData.hoverObjs[i].material.color.set(16777215);e.userData.hoverObjs=[]}}}tempMatrix=new Mt;raycaster=new P_;intersected=[];getIntersections(e){return this.tempMatrix.identity().extractRotation(e.matrixWorld),this.raycaster.layers.set(1),this.raycaster.ray.origin.setFromMatrixPosition(e.matrixWorld),this.raycaster.ray.direction.set(0,0,-1).applyMatrix4(this.tempMatrix),this.raycaster.intersectObjects(this._sceneManager.scene.children)}buildController(e){let t,r;switch(e.targetRayMode){case"tracked-pointer":return t=new Vt,t.setAttribute("position",new At([0,0,0,0,0,-1],3)),t.setAttribute("color",new At([.5,.5,.5,0,0,0],3)),r=new ja({vertexColors:!0,blending:YC}),new di(t,r);case"gaze":return t=new vm(.02,.04,32).translate(0,0,-1),r=new vr({opacity:.5,transparent:!0}),new ht(t,r)}}}class lwe extends ht{constructor(e){const t=new uwe(e),r=new Ia(t.image.width*.001,t.image.height*.001),i=new vr({map:t,toneMapped:!1});super(r,i);function o(a){i.map.dispatchDOMEvent(a)}this.addEventListener("mousedown",o),this.addEventListener("mousemove",o),this.addEventListener("mouseup",o),this.addEventListener("click",o),this.dispose=function(){r.dispose(),i.dispose(),i.map.dispose(),this.removeEventListener("mousedown",o),this.removeEventListener("mousemove",o),this.removeEventListener("mouseup",o),this.removeEventListener("click",o)}}}class uwe extends $U{constructor(e){super(Vk(e)),this.dom=e,this.anisotropy=16,this.encoding=sn,this.minFilter=Sn,this.magFilter=Sn;const t=new MutationObserver(()=>{this.scheduleUpdate||(this.scheduleUpdate=setTimeout(()=>this.update(),16))}),r={attributes:!0,childList:!0,subtree:!0,characterData:!0};t.observe(e,r),this.observer=t}dispatchDOMEvent(e){e.data&&cwe(this.dom,e.type,e.data.x,e.data.y)}update(){this.image=Vk(this.dom),this.needsUpdate=!0,this.scheduleUpdate=null}dispose(){this.observer&&this.observer.disconnect(),this.scheduleUpdate=clearTimeout(this.scheduleUpdate),super.dispose()}}const Hk=new WeakMap;function Vk(n){const e=document.createRange();function t(c){const d=[];let h=!1;function m(){if(h&&(h=!1,c.restore()),d.length===0)return;let g=-1/0,v=-1/0,y=1/0,x=1/0;for(let _=0;_<d.length;_++){const b=d[_];g=Math.max(g,b.x),v=Math.max(v,b.y),y=Math.min(y,b.x+b.width),x=Math.min(x,b.y+b.height)}c.save(),c.beginPath(),c.rect(g,v,y-g,x-v),c.clip(),h=!0}return{add:function(g){d.push(g),m()},remove:function(){d.pop(),m()}}}function r(c,d,h,m){m!==""&&(c.textTransform==="uppercase"&&(m=m.toUpperCase()),l.font=c.fontSize+" "+c.fontFamily,l.textBaseline="top",l.fillStyle=c.color,l.fillText(m,d,h))}function i(c,d,h,m,g,v){const y=c[d+"Width"],x=c[d+"Style"],_=c[d+"Color"];y!=="0px"&&x!=="none"&&_!=="transparent"&&_!=="rgba(0, 0, 0, 0)"&&(l.strokeStyle=_,l.beginPath(),l.moveTo(h,m),l.lineTo(h+g,m+v),l.stroke())}function o(c,d){let h=0,m=0,g=0,v=0;if(c.nodeType===Node.TEXT_NODE){e.selectNode(c);const x=e.getBoundingClientRect();h=x.left-a.left-.5,m=x.top-a.top-.5,g=x.width,v=x.height,r(d,h,m,c.nodeValue.trim())}else{if(c.nodeType===Node.COMMENT_NODE)return;if(c instanceof HTMLCanvasElement){if(c.style.display==="none")return;l.save();const x=window.devicePixelRatio;l.scale(1/x,1/x),l.drawImage(c,0,0),l.restore()}else{if(c.style.display==="none")return;const x=c.getBoundingClientRect();h=x.left-a.left-.5,m=x.top-a.top-.5,g=x.width,v=x.height,d=window.getComputedStyle(c);const _=d.backgroundColor;_!=="transparent"&&_!=="rgba(0, 0, 0, 0)"&&(l.fillStyle=_,l.fillRect(h,m,g,v)),i(d,"borderTop",h,m,g,0),i(d,"borderLeft",h,m,0,v),i(d,"borderBottom",h,m+v,g,0),i(d,"borderRight",h+g,m,0,v),(c.type==="color"||c.type==="text"||c.type==="number")&&(u.add({x:h,y:m,width:g,height:v}),r(d,h+parseInt(d.paddingLeft),m+parseInt(d.paddingTop),c.value),u.remove())}}const y=d.overflow==="auto"||d.overflow==="hidden";y&&u.add({x:h,y:m,width:g,height:v});for(let x=0;x<c.childNodes.length;x++)o(c.childNodes[x],d);y&&u.remove()}const a=n.getBoundingClientRect();let s;Hk.has(n)?s=Hk.get(n):(s=document.createElement("canvas"),s.width=a.width,s.height=a.height);const l=s.getContext("2d"),u=new t(l);return o(n),s}function cwe(n,e,t,r){const i={clientX:t*n.offsetWidth+n.offsetLeft,clientY:r*n.offsetHeight+n.offsetTop,view:n.ownerDocument.defaultView};window.dispatchEvent(new MouseEvent(e,i));const o=n.getBoundingClientRect();t=t*o.width+o.left,r=r*o.height+o.top;function a(s){if(s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.COMMENT_NODE){const l=s.getBoundingClientRect();t>l.left&&t<l.right&&r>l.top&&r<l.bottom&&s.dispatchEvent(new MouseEvent(e,i));for(let u=0;u<s.childNodes.length;u++)a(s.childNodes[u])}}a(n)}const _y=new $e,sf={type:"",data:_y};class fwe extends Oa{constructor(e,t){super();const r=this,i=new P_,o=new Mt,a=e.domElement;function s(h){h.stopPropagation(),_y.x=h.clientX/a.clientWidth*2-1,_y.y=-(h.clientY/a.clientHeight)*2+1,i.setFromCamera(_y,t);const m=i.intersectObjects(r.children,!1);if(m.length>0){const g=m[0],v=g.object,y=g.uv;sf.type=h.type,sf.data.set(y.x,1-y.y),v.dispatchEvent(sf)}}a.addEventListener("pointerdown",s),a.addEventListener("pointerup",s),a.addEventListener("pointermove",s),a.addEventListener("mousedown",s),a.addEventListener("mouseup",s),a.addEventListener("mousemove",s),a.addEventListener("click",s);const l={move:"mousemove",select:"click",selectstart:"mousedown",selectend:"mouseup"};function u(h){const m=h.target;o.identity().extractRotation(m.matrixWorld),i.ray.origin.setFromMatrixPosition(m.matrixWorld),i.ray.direction.set(0,0,-1).applyMatrix4(o);const g=i.intersectObjects(r.children,!1);if(g.length>0){const v=g[0],y=v.object,x=v.uv;sf.type=l[h.type],sf.data.set(x.x,1-x.y),y.dispatchEvent(sf)}}const c=e.xr.getController(0);c.addEventListener("move",u),c.addEventListener("select",u),c.addEventListener("selectstart",u),c.addEventListener("selectend",u);const d=e.xr.getController(1);d.addEventListener("move",u),d.addEventListener("select",u),d.addEventListener("selectstart",u),d.addEventListener("selectend",u)}}class dwe{constructor(e){this._sceneManager=e,this.interactiveGroup=new fwe(e.renderer,e.camera),e.scene.add(this.interactiveGroup);const t=document.getElementById("test");if(t==null){console.log("VRUI: No Dom Found");return}this.Transform3D=new lwe(t),this.Transform3D.scale.setScalar(1),this.interactiveGroup.add(this.Transform3D)}Transform3D;interactiveGroup;update(){if(this.Transform3D==null)return;const e=this._sceneManager.camera.localToWorld(new J(0,0,-.5));this.Transform3D.position.copy(e),this.Transform3D.position.copy(new J(e.x,e.y-.5,e.z)),this.Transform3D.lookAt(this._sceneManager.camera.position),this.Transform3D.material.map.update()}}class hwe{div;scene=new __;renderer=new bn({antialias:!0,preserveDrawingBuffer:!0,powerPreference:"high-performance"});camera=new Vr(60,1,.1,1e3);_inputManager;_objectManager=new ybe(this);_historyManager=new U_e(this);_VRManager;_VRUI=new dwe(this);gridManager=new V_e(this);backgroundManager=new cbe(this);updateUI_Publish=()=>{};updateUI_inVRtransform=()=>{};project;projectId;constructor(e){this.projectId=e}init(e,t="threejsViewport"){if(this.project=e,this.div=document.getElementById(t),this.div===null){alert(`Fatal: ${t} is not created`);return}this._inputManager=new xbe(this),this._VRManager=new swe(this),this.renderer.setSize(innerWidth,innerHeight),this.renderer.setPixelRatio(devicePixelRatio),this.renderer.xr.enabled=!0,this.div.appendChild(this.renderer.domElement),window.onresize=()=>{this.windowResize()},this.renderer.xr.addEventListener("sessionstart",()=>{}),this.renderer.xr.addEventListener("sessionend",()=>{}),this.windowResize(),this.animate(),this.initCameraPos(),this.scene.add(new LO(8421504,6316128,1)),this.project&&this.project.configFile?this.sceneOnStart():Xz(this.projectId).then(({data:r})=>{this.project=r,this.sceneOnStart(),this.updateUI_Publish()})}animate(){this.renderer.setAnimationLoop(()=>{this._objectManager._controlManager.update(),this.renderer.render(this.scene,this.camera)})}windowResize(){if(this.div===null){alert("Fatal: scene is not init");return}this.camera.aspect=this.div.clientWidth/this.div.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.div.clientWidth,this.div.clientHeight)}initCameraPos(){this.camera.position.set(5,5,5)}cameraToFront(){console.log("1"),this.camera.position.set(0,1,3),this.camera.rotation.setFromVector3(new J(0,3.14,0))}screenShot(){var t=this.renderer.domElement.toDataURL("image/png").replace(/^data:image\/[^;]/,"data:application/octet-stream");k0.download(t,"png","screenShot")}loadbyObj(e){this.backgroundManager.loadBackgroundData(e.backgroundData),this.gridManager.loadGridData(e.gridData);const t=e.objList;t==null||t.length,t==null||t.map(r=>{new a_e().parseAsync(r).then(s=>{this._objectManager.add([s]),s.userData.mediaData.type==="video"&&a(s),s.userData.geometryData.curveRole==="parent"&&Lr.updateChildrenRadius(s)});function a(s){const l=s.userData.mediaData.data,u=document.createElement("video");u.loop=!0,u.muted=!0;const c=document.createElement("source");u.appendChild(c),c.setAttribute("src",l),u.play(),u.onloadeddata=d=>{const h=d.target;s.material.map=new C0(h)}}})}async loadSceneRemote(){const{data:e}=await Aq(this.project._id);new Ha().load(e.url,t=>{const r=JSON.parse(t.toString());this.loadbyObj(r)})}async sceneOnStart(){if(this.project._id&&this.project.configFile){this.loadSceneRemote();return}}constructSaveData(){return{objList:this._objectManager.getSceneObjs(),backgroundData:this.backgroundManager.getBackgroundData(),gridData:this.gridManager.getGridData()}}}function ha(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wl(n){return!!n&&!!n[Gn]}function $l(n){return!!n&&(function(e){if(!e||typeof e!="object")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===wwe}(n)||Array.isArray(n)||!!n[Yk]||!!n.constructor[Yk]||tP(n)||nP(n))}function lc(n,e,t){t===void 0&&(t=!1),ih(n)===0?(t?Object.keys:Jf)(n).forEach(function(r){t&&typeof r=="symbol"||e(r,n[r],n)}):n.forEach(function(r,i){return e(i,r,n)})}function ih(n){var e=n[Gn];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:tP(n)?2:nP(n)?3:0}function Zf(n,e){return ih(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function pwe(n,e){return ih(n)===2?n.get(e):n[e]}function l6(n,e,t){var r=ih(n);r===2?n.set(e,t):r===3?(n.delete(e),n.add(t)):n[e]=t}function u6(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e}function tP(n){return _we&&n instanceof Map}function nP(n){return bwe&&n instanceof Set}function Eu(n){return n.o||n.t}function rP(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=f6(n);delete e[Gn];for(var t=Jf(e),r=0;r<t.length;r++){var i=t[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),e)}function iP(n,e){return e===void 0&&(e=!1),oP(n)||Wl(n)||!$l(n)||(ih(n)>1&&(n.set=n.add=n.clear=n.delete=mwe),Object.freeze(n),e&&lc(n,function(t,r){return iP(r,!0)},!0)),n}function mwe(){ha(2)}function oP(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function La(n){var e=vM[n];return e||ha(18,n),e}function gwe(n,e){vM[n]||(vM[n]=e)}function pM(){return Tm}function V1(n,e){e&&(La("Patches"),n.u=[],n.s=[],n.v=e)}function W0(n){mM(n),n.p.forEach(vwe),n.p=null}function mM(n){n===Tm&&(Tm=n.l)}function Gk(n){return Tm={p:[],l:Tm,h:n,m:!0,_:0}}function vwe(n){var e=n[Gn];e.i===0||e.i===1?e.j():e.O=!0}function G1(n,e){e._=e.p.length;var t=e.p[0],r=n!==void 0&&n!==t;return e.h.g||La("ES5").S(e,n,r),r?(t[Gn].P&&(W0(e),ha(4)),$l(n)&&(n=$0(e,n),e.l||j0(e,n)),e.u&&La("Patches").M(t[Gn].t,n,e.u,e.s)):n=$0(e,t,[]),W0(e),e.u&&e.v(e.u,e.s),n!==c6?n:void 0}function $0(n,e,t){if(oP(e))return e;var r=e[Gn];if(!r)return lc(e,function(o,a){return Wk(n,r,e,o,a,t)},!0),e;if(r.A!==n)return e;if(!r.P)return j0(n,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=rP(r.k):r.o;lc(r.i===3?new Set(i):i,function(o,a){return Wk(n,r,i,o,a,t)}),j0(n,i,!1),t&&n.u&&La("Patches").R(r,t,n.u,n.s)}return r.o}function Wk(n,e,t,r,i,o){if(Wl(i)){var a=$0(n,i,o&&e&&e.i!==3&&!Zf(e.D,r)?o.concat(r):void 0);if(l6(t,r,a),!Wl(a))return;n.m=!1}if($l(i)&&!oP(i)){if(!n.h.F&&n._<1)return;$0(n,i),e&&e.A.l||j0(n,i)}}function j0(n,e,t){t===void 0&&(t=!1),n.h.F&&n.m&&iP(e,t)}function W1(n,e){var t=n[Gn];return(t?Eu(t):n)[e]}function $k(n,e){if(e in n)for(var t=Object.getPrototypeOf(n);t;){var r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Object.getPrototypeOf(t)}}function vl(n){n.P||(n.P=!0,n.l&&vl(n.l))}function $1(n){n.o||(n.o=rP(n.t))}function gM(n,e,t){var r=tP(e)?La("MapSet").N(e,t):nP(e)?La("MapSet").T(e,t):n.g?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:pM(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=s,u=Om;a&&(l=[s],u=rp);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return s.k=h,s.j=d,h}(e,t):La("ES5").J(e,t);return(t?t.A:pM()).p.push(r),r}function ywe(n){return Wl(n)||ha(22,n),function e(t){if(!$l(t))return t;var r,i=t[Gn],o=ih(t);if(i){if(!i.P&&(i.i<4||!La("ES5").K(i)))return i.t;i.I=!0,r=jk(t,o),i.I=!1}else r=jk(t,o);return lc(r,function(a,s){i&&pwe(i.t,a)===s||l6(r,a,e(s))}),o===3?new Set(r):r}(n)}function jk(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return rP(n)}function xwe(){function n(o,a){var s=i[o];return s?s.enumerable=a:i[o]=s={configurable:!0,enumerable:a,get:function(){var l=this[Gn];return Om.get(l,o)},set:function(l){var u=this[Gn];Om.set(u,o,l)}},s}function e(o){for(var a=o.length-1;a>=0;a--){var s=o[a][Gn];if(!s.P)switch(s.i){case 5:r(s)&&vl(s);break;case 4:t(s)&&vl(s)}}}function t(o){for(var a=o.t,s=o.k,l=Jf(s),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Gn){var d=a[c];if(d===void 0&&!Zf(a,c))return!0;var h=s[c],m=h&&h[Gn];if(m?m.t!==d:!u6(h,d))return!0}}var g=!!a[Gn];return l.length!==Jf(a).length+(g?0:1)}function r(o){var a=o.k;if(a.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var i={};gwe("ES5",{J:function(o,a){var s=Array.isArray(o),l=function(c,d){if(c){for(var h=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(h,""+m,n(m,!0));return h}var g=f6(d);delete g[Gn];for(var v=Jf(g),y=0;y<v.length;y++){var x=v[y];g[x]=n(x,c||!!g[x].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(s,o),u={i:s?5:4,A:a?a.A:pM(),P:!1,I:!1,D:{},l:a,t:o,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Gn,{value:u,writable:!0}),l},S:function(o,a,s){s?Wl(a)&&a[Gn].A===o&&e(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Gn];if(c){var d=c.t,h=c.k,m=c.D,g=c.i;if(g===4)lc(h,function(b){b!==Gn&&(d[b]!==void 0||Zf(d,b)?m[b]||l(h[b]):(m[b]=!0,vl(c)))}),lc(d,function(b){h[b]!==void 0||Zf(h,b)||(m[b]=!1,vl(c))});else if(g===5){if(r(c)&&(vl(c),m.length=!0),h.length<d.length)for(var v=h.length;v<d.length;v++)m[v]=!1;else for(var y=d.length;y<h.length;y++)m[y]=!0;for(var x=Math.min(h.length,d.length),_=0;_<x;_++)h.hasOwnProperty(_)||(m[_]=!0),m[_]===void 0&&l(h[_])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?t(o):r(o)}})}var Kk,Tm,aP=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",_we=typeof Map<"u",bwe=typeof Set<"u",Xk=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",c6=aP?Symbol.for("immer-nothing"):((Kk={})["immer-nothing"]=!0,Kk),Yk=aP?Symbol.for("immer-draftable"):"__$immer_draftable",Gn=aP?Symbol.for("immer-state"):"__$immer_state",wwe=""+Object.prototype.constructor,Jf=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,f6=Object.getOwnPropertyDescriptors||function(n){var e={};return Jf(n).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(n,t)}),e},vM={},Om={get:function(n,e){if(e===Gn)return n;var t=Eu(n);if(!Zf(t,e))return function(i,o,a){var s,l=$k(o,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(n,t,e);var r=t[e];return n.I||!$l(r)?r:r===W1(n.t,e)?($1(n),n.o[e]=gM(n.A.h,r,n)):r},has:function(n,e){return e in Eu(n)},ownKeys:function(n){return Reflect.ownKeys(Eu(n))},set:function(n,e,t){var r=$k(Eu(n),e);if(r!=null&&r.set)return r.set.call(n.k,t),!0;if(!n.P){var i=W1(Eu(n),e),o=i==null?void 0:i[Gn];if(o&&o.t===t)return n.o[e]=t,n.D[e]=!1,!0;if(u6(t,i)&&(t!==void 0||Zf(n.t,e)))return!0;$1(n),vl(n)}return n.o[e]===t&&typeof t!="number"&&(t!==void 0||e in n.o)||(n.o[e]=t,n.D[e]=!0,!0)},deleteProperty:function(n,e){return W1(n.t,e)!==void 0||e in n.t?(n.D[e]=!1,$1(n),vl(n)):delete n.D[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var t=Eu(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.i!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty:function(){ha(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){ha(12)}},rp={};lc(Om,function(n,e){rp[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),rp.deleteProperty=function(n,e){return rp.set.call(this,n,e,void 0)},rp.set=function(n,e,t){return Om.set.call(this,n[0],e,t,n[0])};var Swe=function(){function n(t){var r=this;this.g=Xk,this.F=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var l=r;return function(v){var y=this;v===void 0&&(v=s);for(var x=arguments.length,_=Array(x>1?x-1:0),b=1;b<x;b++)_[b-1]=arguments[b];return l.produce(v,function(S){var C;return(C=o).call.apply(C,[y,S].concat(_))})}}var u;if(typeof o!="function"&&ha(6),a!==void 0&&typeof a!="function"&&ha(7),$l(i)){var c=Gk(r),d=gM(r,i,void 0),h=!0;try{u=o(d),h=!1}finally{h?W0(c):mM(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return V1(c,a),G1(v,c)},function(v){throw W0(c),v}):(V1(c,a),G1(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===c6&&(u=void 0),r.F&&iP(u,!0),a){var m=[],g=[];La("Patches").M(i,u,m,g),a(m,g)}return u}ha(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(m){return i.apply(void 0,[m].concat(d))})};var a,s,l=r.produce(i,o,function(u,c){a=u,s=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,a,s]}):[l,a,s]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=n.prototype;return e.createDraft=function(t){$l(t)||ha(8),Wl(t)&&(t=ywe(t));var r=Gk(this),i=gM(this,t,void 0);return i[Gn].C=!0,mM(r),i},e.finishDraft=function(t,r){var i=t&&t[Gn],o=i.A;return V1(o,r),G1(void 0,o)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Xk&&ha(20),this.g=t},e.applyPatches=function(t,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}i>-1&&(r=r.slice(i+1));var a=La("Patches").$;return Wl(t)?a(t,r):this.produce(t,function(s){return a(s,r)})},n}(),so=new Swe,Cwe=so.produce;so.produceWithPatches.bind(so);so.setAutoFreeze.bind(so);so.setUseProxies.bind(so);so.applyPatches.bind(so);so.createDraft.bind(so);so.finishDraft.bind(so);var by=Cwe;function qk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Zk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(t),!0).forEach(function(r){Ft(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jr(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var Jk=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),j1=function(){return Math.random().toString(36).substring(7).split("").join(".")},K0={INIT:"@@redux/INIT"+j1(),REPLACE:"@@redux/REPLACE"+j1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+j1()}};function Mwe(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function d6(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Jr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Jr(1));return t(d6)(n,e)}if(typeof n!="function")throw new Error(Jr(2));var i=n,o=e,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){if(l)throw new Error(Jr(3));return o}function d(v){if(typeof v!="function")throw new Error(Jr(4));if(l)throw new Error(Jr(5));var y=!0;return u(),s.push(v),function(){if(!!y){if(l)throw new Error(Jr(6));y=!1,u();var _=s.indexOf(v);s.splice(_,1),a=null}}}function h(v){if(!Mwe(v))throw new Error(Jr(7));if(typeof v.type>"u")throw new Error(Jr(8));if(l)throw new Error(Jr(9));try{l=!0,o=i(o,v)}finally{l=!1}for(var y=a=s,x=0;x<y.length;x++){var _=y[x];_()}return v}function m(v){if(typeof v!="function")throw new Error(Jr(10));i=v,h({type:K0.REPLACE})}function g(){var v,y=d;return v={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(Jr(11));function b(){_.next&&_.next(c())}b();var S=y(b);return{unsubscribe:S}}},v[Jk]=function(){return this},v}return h({type:K0.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:m},r[Jk]=g,r}function Ewe(n){Object.keys(n).forEach(function(e){var t=n[e],r=t(void 0,{type:K0.INIT});if(typeof r>"u")throw new Error(Jr(12));if(typeof t(void 0,{type:K0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jr(13))})}function Twe(n){for(var e=Object.keys(n),t={},r=0;r<e.length;r++){var i=e[r];typeof n[i]=="function"&&(t[i]=n[i])}var o=Object.keys(t),a;try{Ewe(t)}catch(s){a=s}return function(l,u){if(l===void 0&&(l={}),a)throw a;for(var c=!1,d={},h=0;h<o.length;h++){var m=o[h],g=t[m],v=l[m],y=g(v,u);if(typeof y>"u")throw u&&u.type,new Error(Jr(14));d[m]=y,c=c||y!==v}return c=c||o.length!==Object.keys(l).length,c?d:l}}function X0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Owe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Jr(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=e.map(function(l){return l(a)});return o=X0.apply(void 0,s)(i.dispatch),Zk(Zk({},i),{},{dispatch:o})}}}function h6(n){var e=function(r){var i=r.dispatch,o=r.getState;return function(a){return function(s){return typeof s=="function"?s(i,o,n):a(s)}}};return e}var p6=h6();p6.withExtraArgument=h6;var Qk=p6,Pwe=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();globalThis&&globalThis.__generator;var Y0=globalThis&&globalThis.__spreadArray||function(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n},Awe=Object.defineProperty,e4=Object.getOwnPropertySymbols,Rwe=Object.prototype.hasOwnProperty,Iwe=Object.prototype.propertyIsEnumerable,t4=function(n,e,t){return e in n?Awe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},Pm=function(n,e){for(var t in e||(e={}))Rwe.call(e,t)&&t4(n,t,e[t]);if(e4)for(var r=0,i=e4(e);r<i.length;r++){var t=i[r];Iwe.call(e,t)&&t4(n,t,e[t])}return n},Nwe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?X0:X0.apply(null,arguments)};function Lwe(n){if(typeof n!="object"||n===null)return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return e===t}var Dwe=function(n){Pwe(e,n);function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.apply(this,t)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Y0([void 0],t[0].concat(this)))):new(e.bind.apply(e,Y0([void 0],t.concat(this))))},e}(Array);function kwe(n){return typeof n=="boolean"}function Fwe(){return function(e){return zwe(e)}}function zwe(n){n===void 0&&(n={});var e=n.thunk,t=e===void 0?!0:e;n.immutableCheck,n.serializableCheck;var r=new Dwe;return t&&(kwe(t)?r.push(Qk):r.push(Qk.withExtraArgument(t.extraArgument))),r}var Bwe=!0;function Uwe(n){var e=Fwe(),t=n||{},r=t.reducer,i=r===void 0?void 0:r,o=t.middleware,a=o===void 0?e():o,s=t.devTools,l=s===void 0?!0:s,u=t.preloadedState,c=u===void 0?void 0:u,d=t.enhancers,h=d===void 0?void 0:d,m;if(typeof i=="function")m=i;else if(Lwe(i))m=Twe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=a;typeof g=="function"&&(g=g(e));var v=Owe.apply(void 0,g),y=X0;l&&(y=Nwe(Pm({trace:!Bwe},typeof l=="object"&&l)));var x=[v];Array.isArray(h)?x=Y0([v],h):typeof h=="function"&&(x=h(x));var _=y.apply(void 0,x);return d6(m,c,_)}function Am(n,e){function t(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var o=e.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Pm(Pm({type:n,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:n,payload:r[0]}}return t.toString=function(){return""+n},t.type=n,t.match=function(r){return r.type===n},t}function m6(n){var e={},t=[],r,i={addCase:function(o,a){var s=typeof o=="string"?o:o.type;if(s in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[s]=a,i},addMatcher:function(o,a){return t.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return r=o,i}};return n(i),[e,t,r]}function Hwe(n){return typeof n=="function"}function Vwe(n,e,t,r){t===void 0&&(t=[]);var i=typeof e=="function"?m6(e):[e,t,r],o=i[0],a=i[1],s=i[2],l;if(Hwe(n))l=function(){return by(n(),function(){})};else{var u=by(n,function(){});l=function(){return u}}function c(d,h){d===void 0&&(d=l());var m=Y0([o[h.type]],a.filter(function(g){var v=g.matcher;return v(h)}).map(function(g){var v=g.reducer;return v}));return m.filter(function(g){return!!g}).length===0&&(m=[s]),m.reduce(function(g,v){if(v)if(Wl(g)){var y=g,x=v(y,h);return typeof x>"u"?g:x}else{if($l(g))return by(g,function(_){return v(_,h)});var x=v(g,h);if(typeof x>"u"){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return g},d)}return c.getInitialState=l,c}function Gwe(n,e){return n+"/"+e}function Wwe(n){var e=n.name;if(!e)throw new Error("`name` is a required option for createSlice");var t=typeof n.initialState=="function"?n.initialState:by(n.initialState,function(){}),r=n.reducers||{},i=Object.keys(r),o={},a={},s={};i.forEach(function(c){var d=r[c],h=Gwe(e,c),m,g;"reducer"in d?(m=d.reducer,g=d.prepare):m=d,o[c]=m,a[h]=m,s[c]=g?Am(h,g):Am(h)});function l(){var c=typeof n.extraReducers=="function"?m6(n.extraReducers):[n.extraReducers],d=c[0],h=d===void 0?{}:d,m=c[1],g=m===void 0?[]:m,v=c[2],y=v===void 0?void 0:v,x=Pm(Pm({},h),a);return Vwe(t,x,g,y)}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:s,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var sP="listenerMiddleware";Am(sP+"/add");Am(sP+"/removeAll");Am(sP+"/remove");xwe();const g6=Wwe({name:"project",initialState:{meta:{name:"",visible:"public"}},reducers:{SET_PROJECT_META:(n,e)=>{n.meta=e.payload}}}),{SET_PROJECT_META:$we}=g6.actions;var jwe=g6.reducer,Bi=A.exports.createContext(void 0);const Kwe=()=>{let{id:n}=Fx();if(!n)return Io.error("\u9879\u76EE Id \u4E22\u5931\uFF0C\u8BF7\u68C0\u67E5\u94FE\u63A5\u662F\u5426\u6B63\u786E"),M("div",{children:"\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u9000\u540E\u6216\u91CD\u65B0\u586B\u5199\u5730\u5740"});const e=PX(),t=new hwe(n);vz(s=>s.meta);const r=async s=>{const{data:l}=await Xz(s);return e($we(l)),l};A.exports.useState(!1),A.exports.useEffect(()=>{r(n),t.init(null)});const i=Lw.Content,o=Lw.Sider,a=256;return M("div",{children:M(Bi.Provider,{value:t,children:We(Lw,{children:[We(i,{children:[M("div",{id:"threejsViewport",tabIndex:0,style:{position:"absolute",outline:"none",width:`calc(100% - ${a}px`,height:"100%"}}),M(spe,{})]}),M(o,{width:a,children:M(B_e,{})})]})})})},Xwe=()=>{const{id:n}=Fx();kx();const[e,t]=A.exports.useState("");if(!n)return Io.error("\u6CA1\u6709\u6709\u6548 Id"),M(Ut,{});const r=async()=>{const o=await Pq({projectId:n,secret:e});o.token?(localStorage.setItem(n,o.token),window.location.href=`/studio/${n}/editor`):Io.error("\u6388\u6743\u7801\u65E0\u6548\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165")},i=o=>{t(o)};return We("div",{className:"container mx-auto max-w-screen-sm pt-32 px-8",children:[We(dO.Title,{heading:4,children:["\u6B64\u9879\u76EE\u5DF2\u88AB\u5BC6\u7801\u4FDD\u62A4",M("br",{}),"\u8BF7\u5728\u4E0B\u65B9\u6B63\u786E\u8F93\u5165\u5BC6\u7801\u4EE5\u6253\u5F00\u9879\u76EE"]}),We("div",{className:"mt-8 space-x-4 flex",children:[M(zs,{value:e,onChange:i,placeholder:"\u8F93\u5165\u5BC6\u7801",maxLength:"10"}),M(Jt,{type:"primary",onClick:r,children:"\u6253\u5F00\u9879\u76EE"})]}),M(NJ,{className:"mt-4",style:{marginBottom:20},type:"info",title:"\u5FD8\u8BB0\u5BC6\u7801\u600E\u4E48\u529E",content:"\u5982\u679C\u4F60\u662F\u8BBF\u95EE\u8005\uFF0C\u8BF7\u8054\u7CFB\u9879\u76EE Owner \u83B7\u53D6\u5BC6\u7801\u3002\u5982\u679C\u4F60\u662F\u9879\u76EE Owner\uFF0C\u8BF7\u8054\u7CFB Oncall @\u674E\u7B11\u6797 \u534F\u8C03\u91CD\u5236\u5BC6\u7801"})]})};const Ywe=()=>M(iY,{children:We(rY,{children:[M(qh,{path:"/",element:M(tY,{to:"/studio"})}),M(qh,{path:"/studio",element:M(ape,{})}),M(qh,{path:"/studio/:id/editor",element:M(Kwe,{})}),M(qh,{path:"/auth/project/:id",element:M(Xwe,{})})]})});var qwe=Uwe({reducer:{project:jwe}});document.body.setAttribute("arco-theme","dark");zS.createRoot(document.getElementById("root")).render(M(EX,{store:qwe,children:M(Ywe,{})}));
